
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="color-scheme" content="light dark">
    <title>PEP 799 – A dedicated profiling package for organizing Python profiling tools | peps.python.org</title>
    <link rel="shortcut icon" href="../_static/py.png">
    <link rel="canonical" href="https://peps.python.org/pep-0799/">
    <link rel="stylesheet" href="../_static/style.css" type="text/css">
    <link rel="stylesheet" href="../_static/mq.css" type="text/css">
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" media="(prefers-color-scheme: light)" id="pyg-light">
    <link rel="stylesheet" href="../_static/pygments_dark.css" type="text/css" media="(prefers-color-scheme: dark)" id="pyg-dark">
    <link rel="alternate" type="application/rss+xml" title="Latest PEPs" href="https://peps.python.org/peps.rss">
    <meta property="og:title" content='PEP 799 – A dedicated profiling package for organizing Python profiling tools | peps.python.org'>
    <meta property="og:description" content="This PEP proposes the creation of a new standard library module named profiling to organize Python’s built-in profiling tools under a single, coherent namespace.">
    <meta property="og:type" content="website">
    <meta property="og:url" content="https://peps.python.org/pep-0799/">
    <meta property="og:site_name" content="Python Enhancement Proposals (PEPs)">
    <meta property="og:image" content="https://peps.python.org/_static/og-image.png">
    <meta property="og:image:alt" content="Python PEPs">
    <meta property="og:image:width" content="200">
    <meta property="og:image:height" content="200">
    <meta name="description" content="This PEP proposes the creation of a new standard library module named profiling to organize Python’s built-in profiling tools under a single, coherent namespace.">
    <meta name="theme-color" content="#3776ab">
</head>
<body>
    
<svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
  <symbol id="svg-sun-half" viewBox="0 0 24 24" pointer-events="all">
    <title>Following system colour scheme</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none"
         stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
      <circle cx="12" cy="12" r="9"></circle>
      <path d="M12 3v18m0-12l4.65-4.65M12 14.3l7.37-7.37M12 19.6l8.85-8.85"></path>
    </svg>
  </symbol>
  <symbol id="svg-moon" viewBox="0 0 24 24" pointer-events="all">
    <title>Selected dark colour scheme</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none"
         stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
      <path stroke="none" d="M0 0h24v24H0z" fill="none"></path>
      <path d="M12 3c.132 0 .263 0 .393 0a7.5 7.5 0 0 0 7.92 12.446a9 9 0 1 1 -8.313 -12.454z"></path>
    </svg>
  </symbol>
  <symbol id="svg-sun" viewBox="0 0 24 24" pointer-events="all">
    <title>Selected light colour scheme</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none"
         stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
      <circle cx="12" cy="12" r="5"></circle>
      <line x1="12" y1="1" x2="12" y2="3"></line>
      <line x1="12" y1="21" x2="12" y2="23"></line>
      <line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line>
      <line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line>
      <line x1="1" y1="12" x2="3" y2="12"></line>
      <line x1="21" y1="12" x2="23" y2="12"></line>
      <line x1="4.22" y1="19.78" x2="5.64" y2="18.36"></line>
      <line x1="18.36" y1="5.64" x2="19.78" y2="4.22"></line>
    </svg>
  </symbol>
</svg>
    <script>

        document.documentElement.dataset.colour_scheme = localStorage.getItem("colour_scheme") || "auto"
    </script>
    <section id="pep-page-section">
        <header>
            <h1>Python Enhancement Proposals</h1>
            <ul class="breadcrumbs">
                <li><a href="https://www.python.org/" title="The Python Programming Language">Python</a> &raquo; </li>
                <li><a href="../pep-0000/">PEP Index</a> &raquo; </li>
                <li>PEP 799</li>
            </ul>
            <button id="colour-scheme-cycler" onClick="setColourScheme(nextColourScheme())">
                <svg aria-hidden="true" class="colour-scheme-icon-when-auto"><use href="#svg-sun-half"></use></svg>
                <svg aria-hidden="true" class="colour-scheme-icon-when-dark"><use href="#svg-moon"></use></svg>
                <svg aria-hidden="true" class="colour-scheme-icon-when-light"><use href="#svg-sun"></use></svg>
                <span class="visually-hidden">Toggle light / dark / auto colour theme</span>
            </button>
        </header>
        <article>
            <section id="pep-content">
<h1 class="page-title">PEP 799 – A dedicated <code class="docutils literal notranslate"><span class="pre">profiling</span></code> package for organizing Python profiling tools</h1>
<dl class="rfc2822 field-list simple">
<dt class="field-odd">Author<span class="colon">:</span></dt>
<dd class="field-odd">Pablo Galindo &lt;pablogsal&#32;&#97;t&#32;python.org&gt;,
László Kiss Kollár &lt;kiss.kollar.laszlo&#32;&#97;t&#32;gmail.com&gt;</dd>
<dt class="field-even">Discussions-To<span class="colon">:</span></dt>
<dd class="field-even"><a class="reference external" href="https://discuss.python.org/t/pep-799-a-dedicated-profilers-package-for-organizing-python-profiling-tool/100898">Discourse thread</a></dd>
<dt class="field-odd">Status<span class="colon">:</span></dt>
<dd class="field-odd"><abbr title="Normative proposal accepted for implementation">Accepted</abbr></dd>
<dt class="field-even">Type<span class="colon">:</span></dt>
<dd class="field-even"><abbr title="Normative PEP with a new feature for Python, implementation change for CPython or interoperability standard for the ecosystem">Standards Track</abbr></dd>
<dt class="field-odd">Created<span class="colon">:</span></dt>
<dd class="field-odd">21-Jul-2025</dd>
<dt class="field-even">Python-Version<span class="colon">:</span></dt>
<dd class="field-even">3.15</dd>
<dt class="field-odd">Post-History<span class="colon">:</span></dt>
<dd class="field-odd"><a class="reference external" href="https://discuss.python.org/t/pep-799-a-dedicated-profilers-package-for-organizing-python-profiling-tool/100898" title="Discourse thread">01-Aug-2025</a></dd>
<dt class="field-even">Resolution<span class="colon">:</span></dt>
<dd class="field-even"><a class="reference external" href="https://discuss.python.org/t/pep-799-a-dedicated-profilers-package-for-organizing-python-profiling-tool/100898/21">21-Aug-2025</a></dd>
</dl>
<hr class="docutils" />
<section id="contents">
<details><summary>Table of Contents</summary><ul class="simple">
<li><a class="reference internal" href="#abstract">Abstract</a></li>
<li><a class="reference internal" href="#motivation">Motivation</a></li>
<li><a class="reference internal" href="#rationale">Rationale</a></li>
<li><a class="reference internal" href="#specification">Specification</a><ul>
<li><a class="reference internal" href="#new-module-structure">New Module Structure</a></li>
<li><a class="reference internal" href="#deprecation-of-profile">Deprecation of <code class="docutils literal notranslate"><span class="pre">profile</span></code></a></li>
</ul>
</li>
<li><a class="reference internal" href="#documentation">Documentation</a></li>
<li><a class="reference internal" href="#backwards-compatibility">Backwards Compatibility</a></li>
<li><a class="reference internal" href="#security-implications">Security Implications</a></li>
<li><a class="reference internal" href="#rejected-alternatives">Rejected Alternatives</a><ul>
<li><a class="reference internal" href="#renaming-cprofile">Renaming <code class="docutils literal notranslate"><span class="pre">cProfile</span></code></a></li>
<li><a class="reference internal" href="#using-profilers-as-the-module-name">Using <code class="docutils literal notranslate"><span class="pre">profilers</span></code> as the Module Name</a></li>
<li><a class="reference internal" href="#multiple-names-for-the-sampling-profiler">Multiple Names for the Sampling Profiler</a></li>
<li><a class="reference internal" href="#top-level-tachyon-module">Top-Level <code class="docutils literal notranslate"><span class="pre">tachyon</span></code> Module</a></li>
</ul>
</li>
<li><a class="reference internal" href="#copyright">Copyright</a></li>
</ul>
</details></section>
<section id="abstract">
<h2><a class="toc-backref" href="#abstract" role="doc-backlink">Abstract</a></h2>
<p>This PEP proposes the creation of a new standard library module named
<code class="xref py py-mod docutils literal notranslate"><span class="pre">profiling</span></code> to organize Python’s built-in profiling tools under a single,
coherent namespace.</p>
<p>This PEP also proposes the deprecation of the <a class="reference external" href="https://docs.python.org/3/library/profile.html#module-profile" title="(in Python v3.14)"><code class="xref py py-mod docutils literal notranslate"><span class="pre">profile</span></code></a> module, a legacy
pure-Python tracing profiler.</p>
</section>
<section id="motivation">
<h2><a class="toc-backref" href="#motivation" role="doc-backlink">Motivation</a></h2>
<p>Python currently ships with two tracing profilers: <code class="docutils literal notranslate"><span class="pre">profile</span></code> and <code class="docutils literal notranslate"><span class="pre">cProfile</span></code>. The
<code class="docutils literal notranslate"><span class="pre">profile</span></code> module is implemented in pure Python and is largely educational or useful for
subclassing, but too slow for realistic use. <code class="docutils literal notranslate"><span class="pre">cProfile</span></code>, by contrast, is implemented
in C and more suitable for practical profiling scenarios, although it is not a drop-in
replacement for <code class="docutils literal notranslate"><span class="pre">profile</span></code> due to some behavioral differences.</p>
<p>Both of these are tracing profilers, meaning they instrument every function call and return.
This methodology introduces significant runtime overhead and can disable certain interpreter
optimizations, such as those introduced by <a class="pep reference internal" href="../pep-0659/" title="PEP 659 – Specializing Adaptive Interpreter">PEP 659</a>. Moreover, <code class="docutils literal notranslate"><span class="pre">cProfile</span></code> only observes the
main thread, making it less useful in modern concurrent Python programs. Confusingly, the naming
of these modules implies that <code class="docutils literal notranslate"><span class="pre">profile</span></code> is canonical, when in fact it is largely obsolete.</p>
<p>With Python 3.15, a new sampling profiler was introduced under
<code class="docutils literal notranslate"><span class="pre">profile.sample</span></code>. Known as <strong>tachyon</strong>, this tool uses statistical sampling
to infer performance characteristics, which introduces <strong>zero overhead
profiling</strong> and works better with the modern Python interpreter. It also
supports <strong>multiple threads, async functions, free threading builds and
attaching to running processes</strong>. Despite these strengths, the placement of
tachyon under <code class="docutils literal notranslate"><span class="pre">profile.sample</span></code> is misleading and obscures its importance.</p>
<p>Currently, the organization of profiling tools lacks a consistent, discoverable structure.
The proposed reorganization is meant to guide users more effectively toward appropriate tools,
clarify methodological distinctions between profilers, and lay the groundwork for future extensions.</p>
</section>
<section id="rationale">
<h2><a class="toc-backref" href="#rationale" role="doc-backlink">Rationale</a></h2>
<p>This reorganization addresses several long-standing issues with Python’s profiling tools.</p>
<p>First, it improves <strong>discoverability</strong> by collecting all built-in profilers
under a single, clearly named namespace. Currently, profiling tools are
scattered across modules with inconsistent naming and unclear relationships. By
introducing the <code class="docutils literal notranslate"><span class="pre">profiling</span></code> module, users will have a well-defined and
intuitive location to explore and access profiling functionality.</p>
<p>Second, the proposal enhances <strong>clarity</strong> by naming the submodules according to
their underlying methodology – <code class="docutils literal notranslate"><span class="pre">profiling.tracing</span></code> for deterministic tracing
profilers and <code class="docutils literal notranslate"><span class="pre">profiling.sampling</span></code> for statistical sampling profilers. This
explicit categorization makes it easier to understand the behavior and
limitations of each tool and aligns the API with the mental model users are
encouraged to adopt.</p>
<p>Third, it provides <strong>guidance</strong> to developers by making the recommended tools
easier to find and use. The current structure can mislead users into relying on
outdated or less performant modules like <code class="docutils literal notranslate"><span class="pre">profile</span></code>, simply because of naming
precedence. With the <code class="docutils literal notranslate"><span class="pre">profiling</span></code> namespace and its clearer semantics, users
are more likely to choose the appropriate profiler for their specific use case,
whether it involves low-overhead sampling or detailed tracing.</p>
<p>Finally, this structure promotes <strong>extensibility</strong>. By consolidating profiling
tools under a unified namespace, it becomes straightforward to introduce future
profiling capabilities – such as memory profilers, I/O profilers, or hybrid
tools – without overloading unrelated modules or adding redundant top-level names.
The <code class="docutils literal notranslate"><span class="pre">profiling</span></code> module provides a natural home for this.</p>
</section>
<section id="specification">
<h2><a class="toc-backref" href="#specification" role="doc-backlink">Specification</a></h2>
<section id="new-module-structure">
<h3><a class="toc-backref" href="#new-module-structure" role="doc-backlink">New Module Structure</a></h3>
<p>This PEP introduces a new <code class="docutils literal notranslate"><span class="pre">profiling</span></code> module containing:</p>
<ul class="simple">
<li><code class="docutils literal notranslate"><span class="pre">profiling.tracing</span></code>: deterministic function-call tracing (relocated from <code class="docutils literal notranslate"><span class="pre">cProfile</span></code>).</li>
<li><code class="docutils literal notranslate"><span class="pre">profiling.sampling</span></code>: the statistical sampling profiler (tachyon).</li>
</ul>
<p>The <code class="docutils literal notranslate"><span class="pre">cProfile</span></code> implementation will be relocated to <code class="docutils literal notranslate"><span class="pre">profiling.tracing</span></code>, with <code class="docutils literal notranslate"><span class="pre">cProfile</span></code>
remaining as an alias for backwards compatibility. The tachyon sampling profiler will be
available at <code class="docutils literal notranslate"><span class="pre">profiling.sampling</span></code>.</p>
</section>
<section id="deprecation-of-profile">
<h3><a class="toc-backref" href="#deprecation-of-profile" role="doc-backlink">Deprecation of <code class="docutils literal notranslate"><span class="pre">profile</span></code></a></h3>
<p>The <code class="docutils literal notranslate"><span class="pre">profile</span></code> module will be deprecated starting in Python 3.15.</p>
<ul class="simple">
<li>In Python 3.15: importing <code class="docutils literal notranslate"><span class="pre">profile</span></code> emits a <code class="docutils literal notranslate"><span class="pre">DeprecationWarning</span></code>.</li>
<li>In Python 3.16: all uses of <code class="docutils literal notranslate"><span class="pre">profile</span></code> emit a <code class="docutils literal notranslate"><span class="pre">DeprecationWarning</span></code>.</li>
<li>In Python 3.17: the module will be removed from the standard library.</li>
</ul>
<p>From Python 3.15, <code class="xref py py-mod docutils literal notranslate"><span class="pre">profiling.tracing</span></code> will be preferred to <code class="xref py py-mod docutils literal notranslate"><span class="pre">cProfile</span></code> &amp; <code class="xref py py-mod docutils literal notranslate"><span class="pre">profile</span></code>.</p>
<p>The code that, at the time of writing, is in the <code class="xref py py-mod docutils literal notranslate"><span class="pre">profile.sampling</span></code>
module will be moved to the <code class="xref py py-mod docutils literal notranslate"><span class="pre">profiling</span></code> package.</p>
</section>
</section>
<section id="documentation">
<h2><a class="toc-backref" href="#documentation" role="doc-backlink">Documentation</a></h2>
<p>The Python documentation will use the new <code class="xref py py-mod docutils literal notranslate"><span class="pre">profiling</span></code> module as the canonical
entry point for profiling functionality. It will also describe the distinction between
tracing and sampling profilers, and include guidance on when each type is most appropriate.</p>
<p>Documentation for <code class="docutils literal notranslate"><span class="pre">cProfile</span></code> will remain available but will link to
the new <code class="docutils literal notranslate"><span class="pre">profiling</span></code> equivalents.</p>
</section>
<section id="backwards-compatibility">
<h2><a class="toc-backref" href="#backwards-compatibility" role="doc-backlink">Backwards Compatibility</a></h2>
<p>The only backwards incompatible aspect of this PEP is the future removal of the <code class="docutils literal notranslate"><span class="pre">profile</span></code> module
but this will be made following the <a class="pep reference internal" href="../pep-0387/" title="PEP 387 – Backwards Compatibility Policy">PEP 387</a> procedure.</p>
</section>
<section id="security-implications">
<h2><a class="toc-backref" href="#security-implications" role="doc-backlink">Security Implications</a></h2>
<p>None.</p>
</section>
<section id="rejected-alternatives">
<h2><a class="toc-backref" href="#rejected-alternatives" role="doc-backlink">Rejected Alternatives</a></h2>
<section id="renaming-cprofile">
<h3><a class="toc-backref" href="#renaming-cprofile" role="doc-backlink">Renaming <code class="docutils literal notranslate"><span class="pre">cProfile</span></code></a></h3>
<p>Renaming <code class="docutils literal notranslate"><span class="pre">cProfile</span></code> to <code class="docutils literal notranslate"><span class="pre">profile.tracing</span></code> was considered, but this change would impact a
large amount of existing code. Maintaining the original name while aliasing it under
<code class="docutils literal notranslate"><span class="pre">profiling.tracing</span></code> strikes a balance between compatibility and clarity.</p>
</section>
<section id="using-profilers-as-the-module-name">
<h3><a class="toc-backref" href="#using-profilers-as-the-module-name" role="doc-backlink">Using <code class="docutils literal notranslate"><span class="pre">profilers</span></code> as the Module Name</a></h3>
<p>The module was initially proposed as <code class="docutils literal notranslate"><span class="pre">profilers</span></code> (plural) but was changed to <code class="docutils literal notranslate"><span class="pre">profiling</span></code>
(gerund form) based on community feedback. The gerund form is more consistent with other
Python standard library modules that represent categories of functionality.</p>
</section>
<section id="multiple-names-for-the-sampling-profiler">
<h3><a class="toc-backref" href="#multiple-names-for-the-sampling-profiler" role="doc-backlink">Multiple Names for the Sampling Profiler</a></h3>
<p>An earlier version of this PEP proposed having the sampling profiler available under two names:
<code class="docutils literal notranslate"><span class="pre">profiling.sampling</span></code> and <code class="docutils literal notranslate"><span class="pre">profiling.tachyon</span></code>. This was rejected to avoid confusion - when
introducing new functionality, it’s better to have a single, clear path to access it rather than
multiple aliases. The name <code class="docutils literal notranslate"><span class="pre">profiling.sampling</span></code> was chosen as it clearly describes the
profiling methodology, while “tachyon” remains as an internal codename that may be mentioned
in documentation.</p>
</section>
<section id="top-level-tachyon-module">
<h3><a class="toc-backref" href="#top-level-tachyon-module" role="doc-backlink">Top-Level <code class="docutils literal notranslate"><span class="pre">tachyon</span></code> Module</a></h3>
<p>Introducing <code class="docutils literal notranslate"><span class="pre">import</span> <span class="pre">tachyon</span></code> as a new top-level module was rejected. Grouping tachyon under
<code class="docutils literal notranslate"><span class="pre">profiling</span></code> helps establish a logical structure and prevents proliferation of top-level modules
and also minimizes the usage of global namespace as requested by the Python Steering Council.</p>
</section>
</section>
<section id="copyright">
<h2><a class="toc-backref" href="#copyright" role="doc-backlink">Copyright</a></h2>
<p>This document is placed in the public domain or under the CC0-1.0-Universal
license, whichever is more permissive.</p>
</section>
</section>
<hr class="docutils" />
<p>Source: <a class="reference external" href="https://github.com/python/peps/blob/main/peps/pep-0799.rst">https://github.com/python/peps/blob/main/peps/pep-0799.rst</a></p>
<p>Last modified: <a class="reference external" href="https://github.com/python/peps/commits/main/peps/pep-0799.rst">2025-10-14 21:01:51 GMT</a></p>

        </article>
        <nav id="pep-sidebar">
            <h2>Contents</h2>
            <ul>
<li><a class="reference internal" href="#abstract">Abstract</a></li>
<li><a class="reference internal" href="#motivation">Motivation</a></li>
<li><a class="reference internal" href="#rationale">Rationale</a></li>
<li><a class="reference internal" href="#specification">Specification</a><ul>
<li><a class="reference internal" href="#new-module-structure">New Module Structure</a></li>
<li><a class="reference internal" href="#deprecation-of-profile">Deprecation of <code class="docutils literal notranslate"><span class="pre">profile</span></code></a></li>
</ul>
</li>
<li><a class="reference internal" href="#documentation">Documentation</a></li>
<li><a class="reference internal" href="#backwards-compatibility">Backwards Compatibility</a></li>
<li><a class="reference internal" href="#security-implications">Security Implications</a></li>
<li><a class="reference internal" href="#rejected-alternatives">Rejected Alternatives</a><ul>
<li><a class="reference internal" href="#renaming-cprofile">Renaming <code class="docutils literal notranslate"><span class="pre">cProfile</span></code></a></li>
<li><a class="reference internal" href="#using-profilers-as-the-module-name">Using <code class="docutils literal notranslate"><span class="pre">profilers</span></code> as the Module Name</a></li>
<li><a class="reference internal" href="#multiple-names-for-the-sampling-profiler">Multiple Names for the Sampling Profiler</a></li>
<li><a class="reference internal" href="#top-level-tachyon-module">Top-Level <code class="docutils literal notranslate"><span class="pre">tachyon</span></code> Module</a></li>
</ul>
</li>
<li><a class="reference internal" href="#copyright">Copyright</a></li>
</ul>

            <br>
            <a id="source" href="https://github.com/python/peps/blob/main/peps/pep-0799.rst?plain=1">Page Source (GitHub)</a>
        </nav>
    </section>
    <script src="../_static/colour_scheme.js"></script>
    <script src="../_static/wrap_tables.js"></script>
    <script src="../_static/sticky_banner.js"></script>
    <script src="https://analytics.python.org/js/script.outbound-links.js"
            data-domain="peps.python.org" defer></script>
</body>
</html>