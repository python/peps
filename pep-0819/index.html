
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="color-scheme" content="light dark">
    <title>PEP 819 – JSON Package Metadata | peps.python.org</title>
    <link rel="shortcut icon" href="../_static/py.png">
    <link rel="canonical" href="https://peps.python.org/pep-0819/">
    <link rel="stylesheet" href="../_static/style.css" type="text/css">
    <link rel="stylesheet" href="../_static/mq.css" type="text/css">
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" media="(prefers-color-scheme: light)" id="pyg-light">
    <link rel="stylesheet" href="../_static/pygments_dark.css" type="text/css" media="(prefers-color-scheme: dark)" id="pyg-dark">
    <link rel="alternate" type="application/rss+xml" title="Latest PEPs" href="https://peps.python.org/peps.rss">
    <meta property="og:title" content='PEP 819 – JSON Package Metadata | peps.python.org'>
    <meta property="og:description" content="This PEP proposes introducing JSON encoded core metadata and wheel file format metadata files in Python packages. Python package metadata (“core metadata”) was first defined in PEP 241 to use RFC 822 email headers to encode information about packages. T...">
    <meta property="og:type" content="website">
    <meta property="og:url" content="https://peps.python.org/pep-0819/">
    <meta property="og:site_name" content="Python Enhancement Proposals (PEPs)">
    <meta property="og:image" content="https://peps.python.org/_static/og-image.png">
    <meta property="og:image:alt" content="Python PEPs">
    <meta property="og:image:width" content="200">
    <meta property="og:image:height" content="200">
    <meta name="description" content="This PEP proposes introducing JSON encoded core metadata and wheel file format metadata files in Python packages. Python package metadata (“core metadata”) was first defined in PEP 241 to use RFC 822 email headers to encode information about packages. T...">
    <meta name="theme-color" content="#3776ab">
</head>
<body>
    
<svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
  <symbol id="svg-sun-half" viewBox="0 0 24 24" pointer-events="all">
    <title>Following system colour scheme</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none"
         stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
      <circle cx="12" cy="12" r="9"></circle>
      <path d="M12 3v18m0-12l4.65-4.65M12 14.3l7.37-7.37M12 19.6l8.85-8.85"></path>
    </svg>
  </symbol>
  <symbol id="svg-moon" viewBox="0 0 24 24" pointer-events="all">
    <title>Selected dark colour scheme</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none"
         stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
      <path stroke="none" d="M0 0h24v24H0z" fill="none"></path>
      <path d="M12 3c.132 0 .263 0 .393 0a7.5 7.5 0 0 0 7.92 12.446a9 9 0 1 1 -8.313 -12.454z"></path>
    </svg>
  </symbol>
  <symbol id="svg-sun" viewBox="0 0 24 24" pointer-events="all">
    <title>Selected light colour scheme</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none"
         stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
      <circle cx="12" cy="12" r="5"></circle>
      <line x1="12" y1="1" x2="12" y2="3"></line>
      <line x1="12" y1="21" x2="12" y2="23"></line>
      <line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line>
      <line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line>
      <line x1="1" y1="12" x2="3" y2="12"></line>
      <line x1="21" y1="12" x2="23" y2="12"></line>
      <line x1="4.22" y1="19.78" x2="5.64" y2="18.36"></line>
      <line x1="18.36" y1="5.64" x2="19.78" y2="4.22"></line>
    </svg>
  </symbol>
</svg>
    <script>

        document.documentElement.dataset.colour_scheme = localStorage.getItem("colour_scheme") || "auto"
    </script>
    <section id="pep-page-section">
        <header>
            <h1 data-pagefind-ignore>Python Enhancement Proposals</h1>
            <ul class="breadcrumbs">
                <li><a href="https://www.python.org/" title="The Python Programming Language">Python</a> &raquo; </li>
                <li><a href="../pep-0000/">PEP Index</a> &raquo; </li>
                <li>PEP 819</li>
            </ul>
            <button id="colour-scheme-cycler" onClick="setColourScheme(nextColourScheme())">
                <svg aria-hidden="true" class="colour-scheme-icon-when-auto"><use href="#svg-sun-half"></use></svg>
                <svg aria-hidden="true" class="colour-scheme-icon-when-dark"><use href="#svg-moon"></use></svg>
                <svg aria-hidden="true" class="colour-scheme-icon-when-light"><use href="#svg-sun"></use></svg>
                <span class="visually-hidden">Toggle light / dark / auto colour theme</span>
            </button>
        </header>
        
        <div id="mobile-search" class="mobile-search-container"></div>
        
        <article data-pagefind-body>
            
            <span data-pagefind-meta="title:PEP 819 – JSON Package Metadata" data-pagefind-weight="10" class="visually-hidden">PEP 819 – JSON Package Metadata</span>
            <section id="pep-content">
<h1 class="page-title">PEP 819 – JSON Package Metadata</h1>
<dl class="rfc2822 field-list simple">
<dt class="field-odd">Author<span class="colon">:</span></dt>
<dd class="field-odd">Emma Harper Smith &lt;emma&#32;&#97;t&#32;python.org&gt;</dd>
<dt class="field-even">PEP-Delegate<span class="colon">:</span></dt>
<dd class="field-even">Paul Moore</dd>
<dt class="field-odd">Discussions-To<span class="colon">:</span></dt>
<dd class="field-odd"><a class="reference external" href="https://discuss.python.org/t/105558">Discourse thread</a></dd>
<dt class="field-even">Status<span class="colon">:</span></dt>
<dd class="field-even"><abbr title="Proposal under active discussion and revision">Draft</abbr></dd>
<dt class="field-odd">Type<span class="colon">:</span></dt>
<dd class="field-odd"><abbr title="Normative PEP with a new feature for Python, implementation change for CPython or interoperability standard for the ecosystem">Standards Track</abbr></dd>
<dt class="field-even">Topic<span class="colon">:</span></dt>
<dd class="field-even"><a class="reference external" href="../topic/packaging/">Packaging</a></dd>
<dt class="field-odd">Created<span class="colon">:</span></dt>
<dd class="field-odd">18-Dec-2025</dd>
<dt class="field-even">Post-History<span class="colon">:</span></dt>
<dd class="field-even"><a class="reference external" href="https://discuss.python.org/t/105558" title="Discourse thread">06-Jan-2026</a></dd>
</dl>
<hr class="docutils" />
<section id="contents">
<details><summary>Table of Contents</summary><ul class="simple">
<li><a class="reference internal" href="#abstract">Abstract</a></li>
<li><a class="reference internal" href="#motivation">Motivation</a></li>
<li><a class="reference internal" href="#rationale">Rationale</a></li>
<li><a class="reference internal" href="#specification">Specification</a><ul>
<li><a class="reference internal" href="#json-format-core-metadata-file">JSON Format Core Metadata File</a></li>
<li><a class="reference internal" href="#conversion-of-metadata-to-json-encoding">Conversion of <code class="docutils literal notranslate"><span class="pre">METADATA</span></code> to JSON Encoding</a></li>
<li><a class="reference internal" href="#json-schema-for-core-metadata">JSON Schema for Core Metadata</a></li>
<li><a class="reference internal" href="#serving-metadata-json-in-the-simple-repository-api">Serving METADATA.json in the Simple Repository API</a></li>
<li><a class="reference internal" href="#json-format-wheel-metadata-file">JSON Format Wheel Metadata File</a></li>
<li><a class="reference internal" href="#conversion-of-wheel-to-json-encoding">Conversion of <code class="docutils literal notranslate"><span class="pre">WHEEL</span></code> to JSON Encoding</a></li>
<li><a class="reference internal" href="#json-schema-for-wheel-metadata">JSON Schema for Wheel Metadata</a></li>
<li><a class="reference internal" href="#deprecation-of-the-metadata-pkg-info-and-wheel-files">Deprecation of the <code class="docutils literal notranslate"><span class="pre">METADATA</span></code>, <code class="docutils literal notranslate"><span class="pre">PKG-INFO</span></code>, and <code class="docutils literal notranslate"><span class="pre">WHEEL</span></code> Files</a></li>
</ul>
</li>
<li><a class="reference internal" href="#backwards-compatibility">Backwards Compatibility</a></li>
<li><a class="reference internal" href="#security-implications">Security Implications</a></li>
<li><a class="reference internal" href="#reference-implementation">Reference Implementation</a></li>
<li><a class="reference internal" href="#rejected-ideas">Rejected Ideas</a><ul>
<li><a class="reference internal" href="#using-another-file-format-toml-yaml-etc">Using Another File Format (TOML, YAML, etc.)</a></li>
</ul>
</li>
<li><a class="reference internal" href="#open-issues">Open Issues</a><ul>
<li><a class="reference internal" href="#where-should-the-json-schema-be-served">Where should the JSON schema be served?</a></li>
</ul>
</li>
<li><a class="reference internal" href="#acknowledgements">Acknowledgements</a></li>
<li><a class="reference internal" href="#copyright">Copyright</a></li>
</ul>
</details></section>
<section id="abstract">
<h2><a class="toc-backref" href="#abstract" role="doc-backlink">Abstract</a></h2>
<p>This PEP proposes introducing JSON encoded core metadata and wheel file format
metadata files in Python packages. Python package metadata (“core metadata”)
was first defined in <a class="pep reference internal" href="../pep-0241/" title="PEP 241 – Metadata for Python Software Packages">PEP 241</a> to use <span class="target" id="index-0"></span><a class="rfc reference external" href="https://datatracker.ietf.org/doc/html/rfc822.html"><strong>RFC 822</strong></a> email headers to encode
information about packages. This was reasonable in 2001; email messages
were the only widely used, standardized text format that had a parser in
the standard library. However, issues with handling different encodings,
differing handling of line breaks, and other differences between
implementations have caused numerous packaging bugs. Using the JSON format for
encoding metadata files would eliminate a wide range of these potential issues.</p>
</section>
<section id="motivation">
<h2><a class="toc-backref" href="#motivation" role="doc-backlink">Motivation</a></h2>
<p>The email message format has a number of complexities and limitations which
reduce its utility as a portable textual interchange format for packaging
metadata. Due to the <a class="reference external" href="https://docs.python.org/3/library/email.html#module-email" title="(in Python v3.14)"><code class="xref py py-mod docutils literal notranslate"><span class="pre">email</span></code></a> parser requiring configuration changes to
properly generate valid core metadata, many projects do not use the
<code class="xref py py-mod docutils literal notranslate"><span class="pre">email</span></code> module and instead generate core metadata in a custom manner.
There are many pitfalls with generating email headers that can be encountered
by such custom generators. First, core metadata fields may contain newlines in the
value of fields. These newlines must be handled properly to “unfolded” multiple
lines per <span class="target" id="index-1"></span><a class="rfc reference external" href="https://datatracker.ietf.org/doc/html/rfc822.html"><strong>RFC 822</strong></a>. One particularly difficult to encode field is the
<code class="docutils literal notranslate"><span class="pre">Description</span></code> field, which may contain newlines and indentation. To encode
the field in email headers, CRLF line breaks must be followed by seven (7)
spaces and a pipe (’<code class="docutils literal notranslate"><span class="pre">|</span></code>’) character. While <code class="docutils literal notranslate"><span class="pre">Description</span></code> may now be encoded in
the message body, similar escaping issues occur for the <code class="docutils literal notranslate"><span class="pre">Author</span></code> and
<code class="docutils literal notranslate"><span class="pre">Maintainer</span></code> fields. Improperly escaped newlines can lead to missing,
partial, or invalid core metadata. Second, as discussed in the
<a class="reference external" href="https://packaging.python.org/en/latest/specifications/core-metadata/#core-metadata" title="(in Python Packaging User Guide)"><span class="xref std std-ref">core metadata specifications</span></a>:</p>
<blockquote class="epigraph">
<div>The standard file format for metadata (including in wheels and installed
projects) is based on the format of email headers. However, email formats
have been revised several times, and exactly which email RFC applies to
packaging metadata is not specified. In the absence of a precise
definition, the practical standard is set by what the standard library
<a class="reference external" href="https://docs.python.org/3/library/email.parser.html#module-email.parser" title="(in Python v3.14)"><code class="xref py py-mod docutils literal notranslate"><span class="pre">email.parser</span></code></a> module can parse using the
<a class="reference external" href="https://docs.python.org/3/library/email.policy.html#email.policy.compat32" title="(in Python v3.14)"><code class="xref py py-data docutils literal notranslate"><span class="pre">email.policy.compat32</span></code></a> policy.</div></blockquote>
<p>Since no specific email RFC is selected, the current core metadata
specification is ambiguous whether a given core metadata document is valid.
<span class="target" id="index-2"></span><a class="rfc reference external" href="https://datatracker.ietf.org/doc/html/rfc822.html"><strong>RFC 822</strong></a> is the only email standard to be explicitly listed in a PEP.
However, the core metadata specifications also requires that core metadata is
encoded using UTF-8 when written to a file. This de-facto makes the core
metadata follow <span class="target" id="index-3"></span><a class="rfc reference external" href="https://datatracker.ietf.org/doc/html/rfc6532.html"><strong>RFC 6532</strong></a>, which specifies internationalization of email
headers. This has practical interoperability concerns. Until a few years ago,
it was unspecified how to properly encode non-ASCII emails in core
metadata, making parsing ambiguous. Third, the current format is difficult to
properly validate and parse. Many tools do not check for issues with the output
of the <code class="xref py py-mod docutils literal notranslate"><span class="pre">email</span></code> parser. If a document is malformed, it may still parse
without error by the <code class="xref py py-mod docutils literal notranslate"><span class="pre">email</span></code> module as a valid email message. Furthermore,
due to limitations in the email format, fields like <code class="docutils literal notranslate"><span class="pre">Project-Url</span></code> must create
custom encodings of nested key-value items, further complicating parsing and
validation. Finally, the lack of a schema makes it difficult to validate the
contents of email message encoded metadata. While introducing a specification
for the current format has been
<a class="reference external" href="https://discuss.python.org/t/7550">discussed previously</a>, no progress had
been made, and converting to JSON was a suggested resolution to the issues
raised.</p>
<p>The <code class="docutils literal notranslate"><span class="pre">WHEEL</span></code> file format is currently encoded in a custom key-value format.
While this format is easy to parse and write, it requires manual parsing and
validation to ensure that the contents are valid. Moving to a JSON encoded
format will allow for easier parsing and validation of the contents, and
simplify packaging tools and services by using a consistent format for
distribution metadata.</p>
</section>
<section id="rationale">
<h2><a class="toc-backref" href="#rationale" role="doc-backlink">Rationale</a></h2>
<p>Introducing a new core metadata file with a well-specified format will greatly
ease generating, parsing, and validating metadata. JSON is a natural choice for
storing package core metadata. It is easily machine readable and writable, is
understandable to humans, and is well supported across many languages.
Furthermore, <a class="pep reference internal" href="../pep-0566/" title="PEP 566 – Metadata for Python Software Packages 2.1">PEP 566</a> already specifies a canonicalization of email formatted
core metadata to JSON. JSON is also a frequently used format for data
interchange on the web. For discussion of other formats considered, please
refer to the rejected ideas section.</p>
<p>To maintain backwards compatibility, the JSON metadata file MUST be generated
alongside the existing email formatted metadata file. This ensures that tools
that do not support the new format can still read package metadata for new
packages.</p>
<p>The JSON formatted metadata file must be semantically equivalent to the email
encoded file. This ensures that the metadata is unambiguous between the two
formats, and tools may read either when both are present. To maintain
performance, this equivalence is not required to be verified by installers,
though other tools may do so. Some tools may choose to make the check dependent
on a configuration flag.</p>
<p>Package indexes SHOULD check that the metadata files are semantically
equivalent when the package is added to the index. This is a low-cost, one-time
check that ensures users of the index are served valid packages.</p>
</section>
<section id="specification">
<h2><a class="toc-backref" href="#specification" role="doc-backlink">Specification</a></h2>
<section id="json-format-core-metadata-file">
<h3><a class="toc-backref" href="#json-format-core-metadata-file" role="doc-backlink">JSON Format Core Metadata File</a></h3>
<p>A new optional but recommended file <code class="docutils literal notranslate"><span class="pre">METADATA.json</span></code> shall be introduced as a
metadata file for Python distribution packages. If generated, the <code class="docutils literal notranslate"><span class="pre">METADATA.json</span></code> file
MUST be placed in the same directory as the current email formatted
<code class="docutils literal notranslate"><span class="pre">METADATA</span></code> or <code class="docutils literal notranslate"><span class="pre">PKG-INFO</span></code> file.</p>
<p>For wheels, this means that <code class="docutils literal notranslate"><span class="pre">METADATA.json</span></code> MUST be located in the
<code class="docutils literal notranslate"><span class="pre">.dist-info</span></code> directory.</p>
<p>If present, the <code class="docutils literal notranslate"><span class="pre">METADATA.json</span></code> file MUST be located in the root directory of
the project sources in a source distribution package. Tools that prefer the
JSON formatted metadata file MUST NOT assume the presence of the
<code class="docutils literal notranslate"><span class="pre">METADATA.json</span></code> file in the source distribution before reading the file.</p>
<p>The semantic contents of the <code class="docutils literal notranslate"><span class="pre">METADATA</span></code> and <code class="docutils literal notranslate"><span class="pre">METADATA.json</span></code> files MUST be
equivalent if <code class="docutils literal notranslate"><span class="pre">METADATA.json</span></code> is present. Installers MAY verify this
information. Public package indexes SHOULD verify the files are semantically
equivalent.</p>
<p>The new <code class="docutils literal notranslate"><span class="pre">METADATA.json</span></code> file MUST be included in the
<a class="reference external" href="https://packaging.python.org/en/latest/specifications/recording-installed-packages/#recording-installed-packages" title="(in Python Packaging User Guide)"><span class="xref std std-ref">installed project metadata</span></a>,
if present in the distribution metadata.</p>
</section>
<section id="conversion-of-metadata-to-json-encoding">
<h3><a class="toc-backref" href="#conversion-of-metadata-to-json-encoding" role="doc-backlink">Conversion of <code class="docutils literal notranslate"><span class="pre">METADATA</span></code> to JSON Encoding</a></h3>
<p>Conversion from the current email format for core metadata to JSON should
follow the process described in <a class="pep reference internal" href="../pep-0566/" title="PEP 566 – Metadata for Python Software Packages 2.1">PEP 566</a>, with the following modification:
the <code class="docutils literal notranslate"><span class="pre">Project-URL</span></code> entries should be converted into an object with keys
containing the labels and values containing the URLs from the original email
value. The overall process thus becomes:</p>
<ol class="arabic simple">
<li>The original key-value format should be read with
<code class="docutils literal notranslate"><span class="pre">email.parser.HeaderParser</span></code>;</li>
<li>All transformed keys should be reduced to lower case. Hyphens should be
replaced with underscores, but otherwise should retain all other characters;</li>
<li>The transformed value for any field marked with “(Multiple-use”) should be a
single list containing all the original values for the given key;</li>
<li>The <code class="docutils literal notranslate"><span class="pre">Keywords</span></code> field should be converted to a list by splitting the
original value on commas;</li>
<li>The <code class="docutils literal notranslate"><span class="pre">Project-URL</span></code> field should be converted into a JSON object with keys
containing the labels and values containing the URLs from the original email
value.</li>
<li>The message body, if present, should be set to the value of the
<code class="docutils literal notranslate"><span class="pre">description</span></code> key.</li>
<li>The result should be stored as a string-keyed dictionary.</li>
</ol>
<p>One edge case in the above conversion is that the <code class="docutils literal notranslate"><span class="pre">Project-URL</span></code> label is
“free text, with a maximum length of 32 characters.” This presents a problem
when trying to decode the label. Therefore this PEP sets the requirement that
the <code class="docutils literal notranslate"><span class="pre">Project-URL</span></code> label be any text <em>except</em> the comma (<code class="docutils literal notranslate"><span class="pre">,</span></code>) character.
This allows for unambiguous parsing of the <code class="docutils literal notranslate"><span class="pre">Project-URL</span></code> entries by splitting
the text on the left-most comma (<code class="docutils literal notranslate"><span class="pre">,</span></code>) character.</p>
</section>
<section id="json-schema-for-core-metadata">
<h3><a class="toc-backref" href="#json-schema-for-core-metadata" role="doc-backlink">JSON Schema for Core Metadata</a></h3>
<p>To enable verification of JSON encoded core metadata, a
<a class="reference external" href="https://json-schema.org/">JSON schema</a> for core metadata has been produced.
This schema will be updated with each revision to the core metadata
specification. The schema is available in
<a class="reference internal" href="appendix-core-metadata-json-schema/#core-metadata-json-schema"><span class="std std-ref">Appendix: JSON Schema for Core Metadata</span></a>.</p>
</section>
<section id="serving-metadata-json-in-the-simple-repository-api">
<h3><a class="toc-backref" href="#serving-metadata-json-in-the-simple-repository-api" role="doc-backlink">Serving METADATA.json in the Simple Repository API</a></h3>
<p><a class="pep reference internal" href="../pep-0658/" title="PEP 658 – Serve Distribution Metadata in the Simple Repository API">PEP 658</a> introduced a means of serving package metadata in the Simple
Repository API. The JSON encoded version of the package metadata may also be
served, via the following modifications to the Simple Repository API:</p>
<p>A new attribute <code class="docutils literal notranslate"><span class="pre">data-dist-info-metadata-json</span></code> may be added to anchor tags
in the Simple API. This attribute SHOULD have a value containing the hash
information for the <code class="docutils literal notranslate"><span class="pre">METADATA.json</span></code> file in the same format as
<code class="docutils literal notranslate"><span class="pre">data-dist-info-metadata</span></code>. If <code class="docutils literal notranslate"><span class="pre">data-dist-info-metadata-json</span></code> is present,
the repository MUST serve the JSON encoded metadata file at the
distribution’s path with <code class="docutils literal notranslate"><span class="pre">.metadata.json</span></code> appended to it. For example, if a
distribution is served at <code class="docutils literal notranslate"><span class="pre">/simple/foo-1.0-py3-none-any.whl</span></code>, the JSON
encoded core metadata file MUST be served at
<code class="docutils literal notranslate"><span class="pre">/simple/foo-1.0-py3-none-any.whl.metadata.json</span></code>.</p>
</section>
<section id="json-format-wheel-metadata-file">
<h3><a class="toc-backref" href="#json-format-wheel-metadata-file" role="doc-backlink">JSON Format Wheel Metadata File</a></h3>
<p>A new optional but recommended file <code class="docutils literal notranslate"><span class="pre">WHEEL.json</span></code> shall be introduced as a
JSON encoded version of the <code class="docutils literal notranslate"><span class="pre">WHEEL</span></code> file. If generated, the <code class="docutils literal notranslate"><span class="pre">WHEEL.json</span></code>
file MUST be placed in the same directory as the current key-value formatted
<code class="docutils literal notranslate"><span class="pre">WHEEL</span></code> file, i.e. the <code class="docutils literal notranslate"><span class="pre">.dist-info</span></code> directory. The semantic contents of
the <code class="docutils literal notranslate"><span class="pre">WHEEL</span></code> and <code class="docutils literal notranslate"><span class="pre">WHEEL.json</span></code> files MUST be equivalent. The wheel file
format version will be incremented to <code class="docutils literal notranslate"><span class="pre">1.1</span></code> to reflect the introduction
of <code class="docutils literal notranslate"><span class="pre">WHEEL.json</span></code>.</p>
<p>The <code class="docutils literal notranslate"><span class="pre">WHEEL.json</span></code> file SHOULD be preferred over the <code class="docutils literal notranslate"><span class="pre">WHEEL</span></code> file when both
are present.</p>
</section>
<section id="conversion-of-wheel-to-json-encoding">
<h3><a class="toc-backref" href="#conversion-of-wheel-to-json-encoding" role="doc-backlink">Conversion of <code class="docutils literal notranslate"><span class="pre">WHEEL</span></code> to JSON Encoding</a></h3>
<p>Conversion from the current key-value format for wheel file format metadata to
JSON should proceed as follows:</p>
<ol class="arabic simple">
<li>The original key-value format should be read.</li>
<li>All transformed keys should be reduced to lower case. Hyphens should be
replaced with underscores, but otherwise should retain all other characters.</li>
<li>The <code class="docutils literal notranslate"><span class="pre">Tag</span></code> field’s entries should be converted to a list containing the
original values.</li>
<li>The result should be stored as a string-keyed dictionary.</li>
</ol>
<p>This follows a similar process to the conversion of <code class="docutils literal notranslate"><span class="pre">METADATA</span></code> to JSON
encoding.</p>
</section>
<section id="json-schema-for-wheel-metadata">
<h3><a class="toc-backref" href="#json-schema-for-wheel-metadata" role="doc-backlink">JSON Schema for Wheel Metadata</a></h3>
<p>To enable verification of JSON encoded wheel file format metadata, a
JSON schema for wheel metadata has been produced.
This schema will be updated with each revision to the wheel metadata
specification. The schema is available in <a class="reference internal" href="appendix-core-metadata-json-schema/#wheel-json-schema"><span class="std std-ref">Appendix: JSON Schema for Wheel Metadata</span></a>.</p>
</section>
<section id="deprecation-of-the-metadata-pkg-info-and-wheel-files">
<h3><a class="toc-backref" href="#deprecation-of-the-metadata-pkg-info-and-wheel-files" role="doc-backlink">Deprecation of the <code class="docutils literal notranslate"><span class="pre">METADATA</span></code>, <code class="docutils literal notranslate"><span class="pre">PKG-INFO</span></code>, and <code class="docutils literal notranslate"><span class="pre">WHEEL</span></code> Files</a></h3>
<p>The <code class="docutils literal notranslate"><span class="pre">METADATA</span></code>, <code class="docutils literal notranslate"><span class="pre">PKG-INFO</span></code>, and <code class="docutils literal notranslate"><span class="pre">WHEEL</span></code> files are now deprecated. This
means that a future PEP may make the <code class="docutils literal notranslate"><span class="pre">METADATA</span></code>, <code class="docutils literal notranslate"><span class="pre">PKG-INFO</span></code>, and <code class="docutils literal notranslate"><span class="pre">WHEEL</span></code>
files optional and require <code class="docutils literal notranslate"><span class="pre">METADATA.json</span></code> and <code class="docutils literal notranslate"><span class="pre">WHEEL.json</span></code> to be present.
Please see the next section for more information on backwards compatibility
caveats to that change.</p>
<p>Despite the <code class="docutils literal notranslate"><span class="pre">METADATA</span></code> and <code class="docutils literal notranslate"><span class="pre">PKG-INFO</span></code> files being deprecated, new core
metadata revisions should be implemented for both JSON and email to ensure that
they may remain semantically equivalent. Similarly, new <code class="docutils literal notranslate"><span class="pre">WHEEL</span></code> metadata keys
should be implemented for both JSON and key-value formats to ensure that they
may remain semantically equivalent.</p>
</section>
</section>
<section id="backwards-compatibility">
<h2><a class="toc-backref" href="#backwards-compatibility" role="doc-backlink">Backwards Compatibility</a></h2>
<p>The specification for <code class="docutils literal notranslate"><span class="pre">METADATA.json</span></code> and <code class="docutils literal notranslate"><span class="pre">WHEEL.json</span></code> is designed such
that the new format is completely backwards compatible. Existing tools may read
metadata from the existing email formatted files, and new tools may take
advantage of the new format.</p>
<p>A future major revision of the wheel specification may make the <code class="docutils literal notranslate"><span class="pre">METADATA</span></code>,
<code class="docutils literal notranslate"><span class="pre">PKG-INFO</span></code>, and <code class="docutils literal notranslate"><span class="pre">WHEEL</span></code> files optional and make the <code class="docutils literal notranslate"><span class="pre">METADATA.json</span></code> and
<code class="docutils literal notranslate"><span class="pre">WHEEL.json</span></code> files required.</p>
<p>Note that tools will need to maintain parsing of email metadata and the
key-value formatted <code class="docutils literal notranslate"><span class="pre">WHEEL</span></code> file indefinitely to support parsing metadata
for old packages which only have the <code class="docutils literal notranslate"><span class="pre">METADATA</span></code>, <code class="docutils literal notranslate"><span class="pre">PKG-INFO</span></code>,
or <code class="docutils literal notranslate"><span class="pre">WHEEL</span></code> files.</p>
</section>
<section id="security-implications">
<h2><a class="toc-backref" href="#security-implications" role="doc-backlink">Security Implications</a></h2>
<p>One attack vector with JSON encoded core metadata is if the JSON payload is
designed to consume excessive memory or CPU resources in a denial of service
(DoS) attack. While this attack is not likely to affect users whom can cancel
resource-intensive interactive operations, it may be an issue for package
indexes.</p>
<p>There are several mitigations that can be made to prevent this:</p>
<ol class="arabic simple">
<li>The length of the JSON payload can be restricted to a reasonable size.</li>
<li>The reader may use a <a class="reference external" href="https://docs.python.org/3/library/json.html#json.JSONDecoder" title="(in Python v3.14)"><code class="xref py py-class docutils literal notranslate"><span class="pre">JSONDecoder</span></code></a> to omit parsing <a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.14)"><code class="xref py py-class docutils literal notranslate"><span class="pre">int</span></code></a>
and <a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.14)"><code class="xref py py-class docutils literal notranslate"><span class="pre">float</span></code></a> values to avoid quadratic number parsing time complexity
attacks.</li>
<li>I plan to contribute a change to <a class="reference external" href="https://docs.python.org/3/library/json.html#json.JSONDecoder" title="(in Python v3.14)"><code class="xref py py-class docutils literal notranslate"><span class="pre">JSONDecoder</span></code></a> in Python
3.15+ that will allow it to be configured to restrict the nesting of JSON
payloads to a reasonable depth. Core metadata currently has a maximum depth
of 2 to encode mapping and list fields.</li>
</ol>
<p>With these mitigations in place, concerns about denial of service attacks with
JSON encoded core metadata are minimal.</p>
</section>
<section id="reference-implementation">
<h2><a class="toc-backref" href="#reference-implementation" role="doc-backlink">Reference Implementation</a></h2>
<p>A reference implementation of the JSON schema for JSON core metadata is
available in <a class="reference internal" href="appendix-core-metadata-json-schema/#core-metadata-json-schema"><span class="std std-ref">Appendix: JSON Schema for Core Metadata</span></a>.</p>
<p>Furthermore, a reference implementation in the <code class="docutils literal notranslate"><span class="pre">packaging</span></code> library <a class="reference external" href="https://github.com/wheelnext/packaging/tree/PEP-9999-JSON-metadata">is
available</a>.</p>
<p>A reference implementation generating both <code class="docutils literal notranslate"><span class="pre">METADATA.json</span></code> and <code class="docutils literal notranslate"><span class="pre">WHEEL.json</span></code>
in the <code class="docutils literal notranslate"><span class="pre">uv</span></code> build backend <a class="reference external" href="https://github.com/astral-sh/uv/pull/15510">is also available</a>.</p>
</section>
<section id="rejected-ideas">
<h2><a class="toc-backref" href="#rejected-ideas" role="doc-backlink">Rejected Ideas</a></h2>
<section id="using-another-file-format-toml-yaml-etc">
<h3><a class="toc-backref" href="#using-another-file-format-toml-yaml-etc" role="doc-backlink">Using Another File Format (TOML, YAML, etc.)</a></h3>
<p>While TOML or another format could be used for the new core metadata file
format, JSON has been chosen for a few reasons:</p>
<ol class="arabic simple">
<li>Core metadata is mostly meant as a machine interchange format to be used by
tools and services which wish to interoperate. Therefore the
human-readability of TOML is not an important consideration in this
selection.</li>
<li>JSON parsers are implemented in many languages’ standard libraries and the
<a class="reference external" href="https://docs.python.org/3/library/json.html#module-json" title="(in Python v3.14)"><code class="xref py py-mod docutils literal notranslate"><span class="pre">json</span></code></a> module has been part of Python’s standard library for a very
long time.</li>
<li>JSON is fast to parse and emit.</li>
<li>JSON schemas are JSON native and commonly used.</li>
</ol>
</section>
</section>
<section id="open-issues">
<h2><a class="toc-backref" href="#open-issues" role="doc-backlink">Open Issues</a></h2>
<section id="where-should-the-json-schema-be-served">
<h3><a class="toc-backref" href="#where-should-the-json-schema-be-served" role="doc-backlink">Where should the JSON schema be served?</a></h3>
<p>Where should the standard JSON Schema be served? Some options would be
packaging.python.org, pypi.org, python.org, or pypa.org.</p>
<p>My first choice would be packaging.python.org, but I am open to other options.</p>
</section>
</section>
<section id="acknowledgements">
<h2><a class="toc-backref" href="#acknowledgements" role="doc-backlink">Acknowledgements</a></h2>
<p>Thanks to Konstantin Schütze for implementing the reference implementation of
this PEP in the <code class="docutils literal notranslate"><span class="pre">uv</span></code> build backend and for providing valuable feedback on the
specification.</p>
</section>
<section id="copyright">
<h2><a class="toc-backref" href="#copyright" role="doc-backlink">Copyright</a></h2>
<p>This document is placed in the public domain or under the
CC0-1.0-Universal license, whichever is more permissive.</p>
</section>
</section>
<hr class="docutils" />
<p>Source: <a class="reference external" href="https://github.com/python/peps/blob/main/peps/pep-0819.rst">https://github.com/python/peps/blob/main/peps/pep-0819.rst</a></p>
<p>Last modified: <a class="reference external" href="https://github.com/python/peps/commits/main/peps/pep-0819.rst">2026-01-09 23:30:01 GMT</a></p>

        </article>
        <nav id="pep-sidebar">
            <div id="search"></div>
            <h2>Contents</h2>
            <ul>
<li><a class="reference internal" href="#abstract">Abstract</a></li>
<li><a class="reference internal" href="#motivation">Motivation</a></li>
<li><a class="reference internal" href="#rationale">Rationale</a></li>
<li><a class="reference internal" href="#specification">Specification</a><ul>
<li><a class="reference internal" href="#json-format-core-metadata-file">JSON Format Core Metadata File</a></li>
<li><a class="reference internal" href="#conversion-of-metadata-to-json-encoding">Conversion of <code class="docutils literal notranslate"><span class="pre">METADATA</span></code> to JSON Encoding</a></li>
<li><a class="reference internal" href="#json-schema-for-core-metadata">JSON Schema for Core Metadata</a></li>
<li><a class="reference internal" href="#serving-metadata-json-in-the-simple-repository-api">Serving METADATA.json in the Simple Repository API</a></li>
<li><a class="reference internal" href="#json-format-wheel-metadata-file">JSON Format Wheel Metadata File</a></li>
<li><a class="reference internal" href="#conversion-of-wheel-to-json-encoding">Conversion of <code class="docutils literal notranslate"><span class="pre">WHEEL</span></code> to JSON Encoding</a></li>
<li><a class="reference internal" href="#json-schema-for-wheel-metadata">JSON Schema for Wheel Metadata</a></li>
<li><a class="reference internal" href="#deprecation-of-the-metadata-pkg-info-and-wheel-files">Deprecation of the <code class="docutils literal notranslate"><span class="pre">METADATA</span></code>, <code class="docutils literal notranslate"><span class="pre">PKG-INFO</span></code>, and <code class="docutils literal notranslate"><span class="pre">WHEEL</span></code> Files</a></li>
</ul>
</li>
<li><a class="reference internal" href="#backwards-compatibility">Backwards Compatibility</a></li>
<li><a class="reference internal" href="#security-implications">Security Implications</a></li>
<li><a class="reference internal" href="#reference-implementation">Reference Implementation</a></li>
<li><a class="reference internal" href="#rejected-ideas">Rejected Ideas</a><ul>
<li><a class="reference internal" href="#using-another-file-format-toml-yaml-etc">Using Another File Format (TOML, YAML, etc.)</a></li>
</ul>
</li>
<li><a class="reference internal" href="#open-issues">Open Issues</a><ul>
<li><a class="reference internal" href="#where-should-the-json-schema-be-served">Where should the JSON schema be served?</a></li>
</ul>
</li>
<li><a class="reference internal" href="#acknowledgements">Acknowledgements</a></li>
<li><a class="reference internal" href="#copyright">Copyright</a></li>
</ul>

            <br>
            <a id="source" href="https://github.com/python/peps/blob/main/peps/pep-0819.rst?plain=1">Page Source (GitHub)</a>
        </nav>
    </section>
    <script src="../_static/colour_scheme.js"></script>
    <script src="../_static/wrap_tables.js"></script>
    <script src="../_static/sticky_banner.js"></script>
    <script src="https://analytics.python.org/js/script.outbound-links.js"
            data-domain="peps.python.org" defer></script>
    <script src="/pagefind/pagefind-ui.js"></script>
    <script>
        window.addEventListener('DOMContentLoaded', (event) => {
            // Ranking configuration to boost exact title matches
            const searchOptions = {
                ranking: {
                    termSimilarity: 9.0, // Higher values favor exact matches
                    termFrequency: 0.5, // Lower values reduce penalty for low term frequency
                    pageLength: 0.2, // Lower values reduce the impact of page length
                }
            };

            // Initialize pagefind for either mobile or desktop, not both
            if (window.innerWidth <= 640) {
                new PagefindUI({ element: "#mobile-search", ...searchOptions, showSubResults: false });
            } else {
                new PagefindUI({ element: "#search", ...searchOptions, showSubResults: true });
            }
        });
    </script>
</body>
</html>