
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="color-scheme" content="light dark">
    <title>PEP 791 – math.integer — submodule for integer-specific mathematics functions | peps.python.org</title>
    <link rel="shortcut icon" href="../_static/py.png">
    <link rel="canonical" href="https://peps.python.org/pep-0791/">
    <link rel="stylesheet" href="../_static/style.css" type="text/css">
    <link rel="stylesheet" href="../_static/mq.css" type="text/css">
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" media="(prefers-color-scheme: light)" id="pyg-light">
    <link rel="stylesheet" href="../_static/pygments_dark.css" type="text/css" media="(prefers-color-scheme: dark)" id="pyg-dark">
    <link rel="alternate" type="application/rss+xml" title="Latest PEPs" href="https://peps.python.org/peps.rss">
    <meta property="og:title" content='PEP 791 – math.integer — submodule for integer-specific mathematics functions | peps.python.org'>
    <meta property="og:description" content="This PEP proposes a new submodule for number-theoretical, combinatorial and other functions defined for integer arguments, like math.gcd() or math.isqrt().">
    <meta property="og:type" content="website">
    <meta property="og:url" content="https://peps.python.org/pep-0791/">
    <meta property="og:site_name" content="Python Enhancement Proposals (PEPs)">
    <meta property="og:image" content="https://peps.python.org/_static/og-image.png">
    <meta property="og:image:alt" content="Python PEPs">
    <meta property="og:image:width" content="200">
    <meta property="og:image:height" content="200">
    <meta name="description" content="This PEP proposes a new submodule for number-theoretical, combinatorial and other functions defined for integer arguments, like math.gcd() or math.isqrt().">
    <meta name="theme-color" content="#3776ab">
</head>
<body>
    
<svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
  <symbol id="svg-sun-half" viewBox="0 0 24 24" pointer-events="all">
    <title>Following system colour scheme</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none"
         stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
      <circle cx="12" cy="12" r="9"></circle>
      <path d="M12 3v18m0-12l4.65-4.65M12 14.3l7.37-7.37M12 19.6l8.85-8.85"></path>
    </svg>
  </symbol>
  <symbol id="svg-moon" viewBox="0 0 24 24" pointer-events="all">
    <title>Selected dark colour scheme</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none"
         stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
      <path stroke="none" d="M0 0h24v24H0z" fill="none"></path>
      <path d="M12 3c.132 0 .263 0 .393 0a7.5 7.5 0 0 0 7.92 12.446a9 9 0 1 1 -8.313 -12.454z"></path>
    </svg>
  </symbol>
  <symbol id="svg-sun" viewBox="0 0 24 24" pointer-events="all">
    <title>Selected light colour scheme</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none"
         stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
      <circle cx="12" cy="12" r="5"></circle>
      <line x1="12" y1="1" x2="12" y2="3"></line>
      <line x1="12" y1="21" x2="12" y2="23"></line>
      <line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line>
      <line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line>
      <line x1="1" y1="12" x2="3" y2="12"></line>
      <line x1="21" y1="12" x2="23" y2="12"></line>
      <line x1="4.22" y1="19.78" x2="5.64" y2="18.36"></line>
      <line x1="18.36" y1="5.64" x2="19.78" y2="4.22"></line>
    </svg>
  </symbol>
</svg>
    <script>

        document.documentElement.dataset.colour_scheme = localStorage.getItem("colour_scheme") || "auto"
    </script>
    <section id="pep-page-section">
        <header>
            <h1>Python Enhancement Proposals</h1>
            <ul class="breadcrumbs">
                <li><a href="https://www.python.org/" title="The Python Programming Language">Python</a> &raquo; </li>
                <li><a href="../pep-0000/">PEP Index</a> &raquo; </li>
                <li>PEP 791</li>
            </ul>
            <button id="colour-scheme-cycler" onClick="setColourScheme(nextColourScheme())">
                <svg aria-hidden="true" class="colour-scheme-icon-when-auto"><use href="#svg-sun-half"></use></svg>
                <svg aria-hidden="true" class="colour-scheme-icon-when-dark"><use href="#svg-moon"></use></svg>
                <svg aria-hidden="true" class="colour-scheme-icon-when-light"><use href="#svg-sun"></use></svg>
                <span class="visually-hidden">Toggle light / dark / auto colour theme</span>
            </button>
        </header>
        <article>
            <section id="pep-content">
<h1 class="page-title">PEP 791 – math.integer — submodule for integer-specific mathematics functions</h1>
<dl class="rfc2822 field-list simple">
<dt class="field-odd">Author<span class="colon">:</span></dt>
<dd class="field-odd">Sergey B Kirpichev &lt;skirpichev&#32;&#97;t&#32;gmail.com&gt;</dd>
<dt class="field-even">Sponsor<span class="colon">:</span></dt>
<dd class="field-even">Victor Stinner &lt;vstinner&#32;&#97;t&#32;python.org&gt;</dd>
<dt class="field-odd">Discussions-To<span class="colon">:</span></dt>
<dd class="field-odd"><a class="reference external" href="https://discuss.python.org/t/92548">Discourse thread</a></dd>
<dt class="field-even">Status<span class="colon">:</span></dt>
<dd class="field-even"><abbr title="Proposal under active discussion and revision">Draft</abbr></dd>
<dt class="field-odd">Type<span class="colon">:</span></dt>
<dd class="field-odd"><abbr title="Normative PEP with a new feature for Python, implementation change for CPython or interoperability standard for the ecosystem">Standards Track</abbr></dd>
<dt class="field-even">Created<span class="colon">:</span></dt>
<dd class="field-even">12-May-2025</dd>
<dt class="field-odd">Python-Version<span class="colon">:</span></dt>
<dd class="field-odd">3.15</dd>
<dt class="field-even">Post-History<span class="colon">:</span></dt>
<dd class="field-even"><a class="reference external" href="https://mail.python.org/archives/list/python-ideas&#64;python.org/thread/YYJ5YJBJNCVXQWK5K3WSVNMPUSV56LOR/" title="Python-Ideas thread">12-Jul-2018</a>,
<a class="reference external" href="https://discuss.python.org/t/91337" title="Discourse thread">09-May-2025</a>,
<a class="reference external" href="https://discuss.python.org/t/92548" title="Discourse thread">19-May-2025</a></dd>
</dl>
<hr class="docutils" />
<section id="contents">
<details><summary>Table of Contents</summary><ul class="simple">
<li><a class="reference internal" href="#abstract">Abstract</a></li>
<li><a class="reference internal" href="#motivation">Motivation</a></li>
<li><a class="reference internal" href="#rationale">Rationale</a></li>
<li><a class="reference internal" href="#specification">Specification</a></li>
<li><a class="reference internal" href="#possible-extensions">Possible Extensions</a></li>
<li><a class="reference internal" href="#backwards-compatibility">Backwards Compatibility</a></li>
<li><a class="reference internal" href="#how-to-teach-this">How to Teach This</a></li>
<li><a class="reference internal" href="#reference-implementation">Reference Implementation</a></li>
<li><a class="reference internal" href="#rejected-ideas">Rejected ideas</a><ul>
<li><a class="reference internal" href="#isqrt-renaming">isqrt() renaming</a></li>
<li><a class="reference internal" href="#module-name">Module name</a></li>
</ul>
</li>
<li><a class="reference internal" href="#acknowledgements">Acknowledgements</a></li>
<li><a class="reference internal" href="#copyright">Copyright</a></li>
</ul>
</details></section>
<section id="abstract">
<h2><a class="toc-backref" href="#abstract" role="doc-backlink">Abstract</a></h2>
<p>This PEP proposes a new submodule for number-theoretical, combinatorial and
other functions defined for integer arguments, like
<a class="reference external" href="https://docs.python.org/3.14/library/math.html#math.gcd" title="(in Python v3.14)"><code class="xref py py-func docutils literal notranslate"><span class="pre">math.gcd()</span></code></a> or <a class="reference external" href="https://docs.python.org/3.14/library/math.html#math.isqrt" title="(in Python v3.14)"><code class="xref py py-func docutils literal notranslate"><span class="pre">math.isqrt()</span></code></a>.</p>
</section>
<section id="motivation">
<h2><a class="toc-backref" href="#motivation" role="doc-backlink">Motivation</a></h2>
<p>The <a class="reference external" href="https://docs.python.org/3.14/library/math.html#module-math" title="(in Python v3.14)"><code class="xref py py-mod docutils literal notranslate"><span class="pre">math</span></code></a> documentation says: “This module provides
access to the mathematical functions defined by the C standard.”  But, over
time the module was populated with functions that aren’t related to the C
standard or floating-point arithmetics.  Now it’s much harder to describe
module scope, content and interfaces (returned values or accepted arguments).</p>
<p>For example, the following statement from the documentation: “Except when
explicitly noted otherwise, all return values are floats.”  This is no longer
true:  <em>None</em> of the functions listed in the <a class="reference external" href="https://docs.python.org/3.14/library/math.html#number-theoretic-functions">Number-theoretic functions</a>
subsection of the documentation return a float, but the documentation doesn’t
say so.  In the documentation for the proposed <code class="docutils literal notranslate"><span class="pre">math.integer</span></code> submodule the sentence
“All return values are integers” would be accurate.  In a similar way we can
simplify the description of the accepted arguments for functions in both the
new submodule and in <a class="reference external" href="https://docs.python.org/3.14/library/math.html#module-math" title="(in Python v3.14)"><code class="xref py py-mod docutils literal notranslate"><span class="pre">math</span></code></a>.</p>
<p>Now it’s a lot harder to satisfy people’s expectations about the module
content.  For example, should they expect that <code class="docutils literal notranslate"><span class="pre">math.factorial(100)</span></code> will
return an exact answer?  Many languages, Python packages (like <a class="extlink-pypi reference external" href="https://pypi.org/project/scipy/">scipy</a>)
or pocket calculators have functions with same or similar name, that return a
floating-point value, which is only an approximation in this example.</p>
<p>Apparently, the <a class="reference external" href="https://docs.python.org/3.14/library/math.html#module-math" title="(in Python v3.14)"><code class="xref py py-mod docutils literal notranslate"><span class="pre">math</span></code></a> module can’t serve as a catch-all
place for mathematical functions since we also have the
<a class="reference external" href="https://docs.python.org/3.14/library/cmath.html#module-cmath" title="(in Python v3.14)"><code class="xref py py-mod docutils literal notranslate"><span class="pre">cmath</span></code></a> and <a class="reference external" href="https://docs.python.org/3.14/library/statistics.html#module-statistics" title="(in Python v3.14)"><code class="xref py py-mod docutils literal notranslate"><span class="pre">statistics</span></code></a> modules.
Let’s do the same for integer-related functions.  It provides shared context,
which reduces verbosity in the documentation and conceptual load.  It also aids
discoverability through grouping related functions and makes IDE (e.g. new
CPython’s REPL) suggestions more helpful.</p>
<p>Currently the <a class="reference external" href="https://docs.python.org/3.14/library/math.html#module-math" title="(in Python v3.14)"><code class="xref py py-mod docutils literal notranslate"><span class="pre">math</span></code></a> module code in the CPython is around
4200LOC, from which the new module code is roughly 1/3 (1300LOC).  This is
comparable with the <a class="reference external" href="https://docs.python.org/3.14/library/cmath.html#module-cmath" title="(in Python v3.14)"><code class="xref py py-mod docutils literal notranslate"><span class="pre">cmath</span></code></a> (1340LOC), which is <em>not</em> a
simple wrapper to the <code class="docutils literal notranslate"><span class="pre">libm</span></code>, as most functions in the
<a class="reference external" href="https://docs.python.org/3.14/library/math.html#module-math" title="(in Python v3.14)"><code class="xref py py-mod docutils literal notranslate"><span class="pre">math</span></code></a> module.</p>
<p>And this situation tends to get worse.  When the module split <a class="reference external" href="https://mail.python.org/archives/list/python-ideas&#64;python.org/thread/YYJ5YJBJNCVXQWK5K3WSVNMPUSV56LOR/">was first
proposed</a>,
there were only two integer-related functions:
<a class="reference external" href="https://docs.python.org/3.14/library/math.html#math.factorial" title="(in Python v3.14)"><code class="xref py py-func docutils literal notranslate"><span class="pre">factorial()</span></code></a> (accepting also <a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.14)"><code class="xref py py-class docutils literal notranslate"><span class="pre">float</span></code></a>’s, like
other functions in the module) and <a class="reference external" href="https://docs.python.org/3.14/library/math.html#math.gcd" title="(in Python v3.14)"><code class="xref py py-func docutils literal notranslate"><span class="pre">gcd()</span></code></a> (moved
from the <a class="reference external" href="https://docs.python.org/3.14/library/fractions.html#module-fractions" title="(in Python v3.14)"><code class="xref py py-mod docutils literal notranslate"><span class="pre">fractions</span></code></a> module).  Then
<a class="reference external" href="https://docs.python.org/3.14/library/math.html#math.isqrt" title="(in Python v3.14)"><code class="xref py py-func docutils literal notranslate"><span class="pre">isqrt()</span></code></a>, <a class="reference external" href="https://docs.python.org/3.14/library/math.html#math.comb" title="(in Python v3.14)"><code class="xref py py-func docutils literal notranslate"><span class="pre">comb()</span></code></a> and
<a class="reference external" href="https://docs.python.org/3.14/library/math.html#math.perm" title="(in Python v3.14)"><code class="xref py py-func docutils literal notranslate"><span class="pre">perm()</span></code></a> were added, and addition of the new module
was <a class="reference external" href="https://github.com/python/cpython/issues/81313">proposed second time</a>,
so all new functions would go directly to it, without littering the
<a class="reference external" href="https://docs.python.org/3.14/library/math.html#module-math" title="(in Python v3.14)"><code class="xref py py-mod docutils literal notranslate"><span class="pre">math</span></code></a> namespace.  Now there are six functions and
<a class="reference external" href="https://docs.python.org/3.14/library/math.html#math.factorial" title="(in Python v3.14)"><code class="xref py py-func docutils literal notranslate"><span class="pre">factorial()</span></code></a> doesn’t accept <a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.14)"><code class="xref py py-class docutils literal notranslate"><span class="pre">float</span></code></a>s
anymore.</p>
<p>Some possible additions, among those proposed in the initial discussion thread
and issue <a class="reference external" href="https://github.com/python/cpython/issues/81313">python/cpython#81313</a> are:</p>
<ul class="simple">
<li><code class="docutils literal notranslate"><span class="pre">c_div()</span></code> and <code class="docutils literal notranslate"><span class="pre">n_div()</span></code> — for integer division with rounding towards
positive infinity (ceiling divide) and to the nearest integer, see <a class="reference external" href="https://discuss.python.org/t/91269">relevant
discussion thread</a>.  This is reinvented
several times in the stdlib, e.g. in <a class="reference external" href="https://docs.python.org/3/library/datetime.html#module-datetime" title="(in Python v3.14)"><code class="xref py py-mod docutils literal notranslate"><span class="pre">datetime</span></code></a> and <a class="reference external" href="https://docs.python.org/3/library/fractions.html#module-fractions" title="(in Python v3.14)"><code class="xref py py-mod docutils literal notranslate"><span class="pre">fractions</span></code></a>.
And it’s easy to do this wrongly, as demonstrated by the thread.</li>
<li><code class="docutils literal notranslate"><span class="pre">gcdext()</span></code> — to solve linear <a class="reference external" href="https://en.wikipedia.org/wiki/Diophantine_equation">Diophantine equation</a> in two variables (the
<a class="reference external" href="https://docs.python.org/3.14/library/functions.html#int" title="(in Python v3.14)"><code class="xref py py-class docutils literal notranslate"><span class="pre">int</span></code></a> implementation actually includes an extended
Euclidean algorithm)</li>
<li><code class="docutils literal notranslate"><span class="pre">isqrt_rem()</span></code> — to return both an integer square root and a remainder
(which is non-zero only if the integer isn’t a perfect square)</li>
<li><code class="docutils literal notranslate"><span class="pre">ilog()</span></code> — integer logarithm, <a class="reference external" href="https://docs.python.org/3.14/library/math.html#math.log" title="(in Python v3.14)"><code class="xref py py-func docutils literal notranslate"><span class="pre">math.log()</span></code></a> has
special handling for integer arguments.  It’s unique (with respect to other
module functions) and not documented so far, see issue <a class="reference external" href="https://github.com/python/cpython/issues/120950">python/cpython#120950</a>.</li>
<li><code class="docutils literal notranslate"><span class="pre">fibonacci()</span></code> — <a class="reference external" href="https://en.wikipedia.org/wiki/Fibonacci_sequence">Fibonacci sequence</a>.</li>
</ul>
<p>Separated namespace eliminates possible name clash with existing
<a class="reference external" href="https://docs.python.org/3.14/library/math.html#module-math" title="(in Python v3.14)"><code class="xref py py-mod docutils literal notranslate"><span class="pre">math</span></code></a>’s module functions.  For example, possible names
<code class="docutils literal notranslate"><span class="pre">ceil_div()</span></code> or <code class="docutils literal notranslate"><span class="pre">ceildiv()</span></code> for integer ceiling division will interfere
with the <a class="reference external" href="https://docs.python.org/3.14/library/math.html#math.ceil" title="(in Python v3.14)"><code class="xref py py-func docutils literal notranslate"><span class="pre">ceil()</span></code></a> (which is for <a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.14)"><code class="xref py py-class docutils literal notranslate"><span class="pre">float</span></code></a>’s and
<em>sometimes</em> does right things for integer division, as an accident — but
<a class="reference external" href="https://discuss.python.org/t/91269/6">usually not</a>).</p>
</section>
<section id="rationale">
<h2><a class="toc-backref" href="#rationale" role="doc-backlink">Rationale</a></h2>
<p>Is this all about documentation, why not fix it instead?  No, it isn’t.  Sure,
we can be much more vague in the module preamble (i.e. roughly say that “the
<a class="reference external" href="https://docs.python.org/3.14/library/math.html#module-math" title="(in Python v3.14)"><code class="xref py py-mod docutils literal notranslate"><span class="pre">math</span></code></a> module contains some mathematical functions”), we
can accurately describe input/output for each function and its behavior (e.g.
whether the <a class="reference external" href="https://docs.python.org/3.14/library/math.html#math.factorial" title="(in Python v3.14)"><code class="xref py py-func docutils literal notranslate"><span class="pre">factorial()</span></code></a> output is exact or not,
like the <a class="reference external" href="https://docs.scipy.org/doc/scipy/reference/generated/scipy.special.factorial.html#scipy.special.factorial">scipy.special.factorial</a>,
per default).</p>
<p>But the major issue is that the current module mixes different, almost
non-interlaced application domains.  Adding more documentation will just
highlight this and make the issue worse for end users (more text to read/skip).
And it will not fix the issue with discoverability (to know in which module to find
a function, and that it can be found at all, you need to look at all the
functions in the module), nor with tab-completion.</p>
</section>
<section id="specification">
<h2><a class="toc-backref" href="#specification" role="doc-backlink">Specification</a></h2>
<p>The PEP proposes moving the following integer-related functions to a new
submodule, called <code class="docutils literal notranslate"><span class="pre">math.integer</span></code>:</p>
<ul class="simple">
<li><a class="reference external" href="https://docs.python.org/3.14/library/math.html#math.comb" title="(in Python v3.14)"><code class="xref py py-func docutils literal notranslate"><span class="pre">comb()</span></code></a></li>
<li><a class="reference external" href="https://docs.python.org/3.14/library/math.html#math.factorial" title="(in Python v3.14)"><code class="xref py py-func docutils literal notranslate"><span class="pre">factorial()</span></code></a></li>
<li><a class="reference external" href="https://docs.python.org/3.14/library/math.html#math.gcd" title="(in Python v3.14)"><code class="xref py py-func docutils literal notranslate"><span class="pre">gcd()</span></code></a></li>
<li><a class="reference external" href="https://docs.python.org/3.14/library/math.html#math.isqrt" title="(in Python v3.14)"><code class="xref py py-func docutils literal notranslate"><span class="pre">isqrt()</span></code></a></li>
<li><a class="reference external" href="https://docs.python.org/3.14/library/math.html#math.lcm" title="(in Python v3.14)"><code class="xref py py-func docutils literal notranslate"><span class="pre">lcm()</span></code></a></li>
<li><a class="reference external" href="https://docs.python.org/3.14/library/math.html#math.perm" title="(in Python v3.14)"><code class="xref py py-func docutils literal notranslate"><span class="pre">perm()</span></code></a></li>
</ul>
<p>Their aliases in <a class="reference external" href="https://docs.python.org/3.14/library/math.html#module-math" title="(in Python v3.14)"><code class="xref py py-mod docutils literal notranslate"><span class="pre">math</span></code></a> will be <a class="reference external" href="https://docs.python.org/3/glossary.html#term-soft-deprecated" title="(in Python v3.14)"><span class="xref std std-term">soft deprecated</span></a>.
This PEP doesn’t introduce backward-incompatible changes.</p>
<p>Module functions will accept integers and objects that implement the
<a class="reference external" href="https://docs.python.org/3.14/reference/datamodel.html#object.__index__" title="(in Python v3.14)"><code class="xref py py-meth docutils literal notranslate"><span class="pre">__index__()</span></code></a> method, which is used to convert the
object to an integer number.  Suitable functions must be computed exactly,
given sufficient time and memory.</p>
<p>The <a class="extlink-pypi reference external" href="https://pypi.org/project/intmath/">intmath</a> package will provide new submodule content for older Python
versions.</p>
</section>
<section id="possible-extensions">
<h2><a class="toc-backref" href="#possible-extensions" role="doc-backlink">Possible Extensions</a></h2>
<p>New functions (like mentioned in <a class="reference internal" href="#motivation">Motivation</a> section) are not
part of this proposal.</p>
<p>Though, we should mention that, unless we can just provide bindings to some
well supported mathematical library like the GMP, the submodule scope should be
limited.  For example, no primality testing and factorization, as
production-quality implementatons will require a decent mathematical background
from contributors and belongs rather to specialized libraries.</p>
<p>When proposed function already exists in the <a class="extlink-pypi reference external" href="https://pypi.org/project/gmpy2/">gmpy2</a>, we should prefer a
compatible interface for the stdlib.</p>
</section>
<section id="backwards-compatibility">
<h2><a class="toc-backref" href="#backwards-compatibility" role="doc-backlink">Backwards Compatibility</a></h2>
<p>As aliases in <a class="reference external" href="https://docs.python.org/3.14/library/math.html#module-math" title="(in Python v3.14)"><code class="xref py py-mod docutils literal notranslate"><span class="pre">math</span></code></a> will be kept for an indefinite time
(their use would be discouraged), there are no anticipated code breaks.</p>
</section>
<section id="how-to-teach-this">
<h2><a class="toc-backref" href="#how-to-teach-this" role="doc-backlink">How to Teach This</a></h2>
<p>The new submodule will be a place for functions, that 1) accept
<a class="reference external" href="https://docs.python.org/3.14/library/functions.html#int" title="(in Python v3.14)"><code class="xref py py-class docutils literal notranslate"><span class="pre">int</span></code></a>-like arguments and also return integers, and 2)
are also in the field of arbitrary-precision integer arithmetic, i.e. have no
dependency on the platform floating-point format or behaviour and/or on the
platform math library (<code class="docutils literal notranslate"><span class="pre">libm</span></code>).</p>
<p>For users it would be natural first to look on the
<a class="reference external" href="https://docs.python.org/3.14/library/functions.html#int" title="(in Python v3.14)"><code class="xref py py-class docutils literal notranslate"><span class="pre">int</span></code></a>’s methods, which cover most basic use-cases (e.g.
<a class="reference external" href="https://docs.python.org/3.14/library/stdtypes.html#int.bit_length" title="(in Python v3.14)"><code class="xref py py-meth docutils literal notranslate"><span class="pre">int.bit_length()</span></code></a> method), than to some dedicated place in
the stdlib.</p>
</section>
<section id="reference-implementation">
<h2><a class="toc-backref" href="#reference-implementation" role="doc-backlink">Reference Implementation</a></h2>
<p><a class="reference external" href="https://github.com/python/cpython/pull/133909">python/cpython#133909</a></p>
</section>
<section id="rejected-ideas">
<h2><a class="toc-backref" href="#rejected-ideas" role="doc-backlink">Rejected ideas</a></h2>
<section id="isqrt-renaming">
<h3><a class="toc-backref" href="#isqrt-renaming" role="doc-backlink">isqrt() renaming</a></h3>
<p>There was a brief discussion about exposing <a class="reference external" href="https://docs.python.org/3.14/library/math.html#math.isqrt" title="(in Python v3.14)"><code class="xref py py-func docutils literal notranslate"><span class="pre">math.isqrt()</span></code></a>
as <code class="docutils literal notranslate"><span class="pre">imath.sqrt</span></code> in the same way that <a class="reference external" href="https://docs.python.org/3.14/library/cmath.html#cmath.sqrt" title="(in Python v3.14)"><code class="xref py py-func docutils literal notranslate"><span class="pre">cmath.sqrt()</span></code></a> is
the complex version of <a class="reference external" href="https://docs.python.org/3.14/library/math.html#math.sqrt" title="(in Python v3.14)"><code class="xref py py-func docutils literal notranslate"><span class="pre">math.sqrt()</span></code></a>.  However, <code class="docutils literal notranslate"><span class="pre">isqrt</span></code>
is ultimately a different function: it is the floor of the square root.  It
would be confusing to give it the same name (under a different module).</p>
</section>
<section id="module-name">
<h3><a class="toc-backref" href="#module-name" role="doc-backlink">Module name</a></h3>
<p><a class="reference external" href="https://discuss.python.org/t/92548/67">Polling showed</a> <code class="docutils literal notranslate"><span class="pre">intmath</span></code> as most
popular candidate with <code class="docutils literal notranslate"><span class="pre">imath</span></code> as a second winner.</p>
<p>Other proposed names include <code class="docutils literal notranslate"><span class="pre">ntheory</span></code> (like SymPy’s submodule),
<code class="docutils literal notranslate"><span class="pre">integermath</span></code>, <code class="docutils literal notranslate"><span class="pre">zmath</span></code>, <code class="docutils literal notranslate"><span class="pre">dmath</span></code> and <code class="docutils literal notranslate"><span class="pre">imaths</span></code>.</p>
<p>But the SC prefers a submodule rather than a new top-level module.  Most
popular variants of the <a class="reference external" href="https://docs.python.org/3.14/library/math.html#module-math" title="(in Python v3.14)"><code class="xref py py-mod docutils literal notranslate"><span class="pre">math</span></code></a>’s submodule are:
<code class="docutils literal notranslate"><span class="pre">integer</span></code>, <code class="docutils literal notranslate"><span class="pre">discrete</span></code> or <code class="docutils literal notranslate"><span class="pre">ntheory</span></code> (author preference).</p>
</section>
</section>
<section id="acknowledgements">
<h2><a class="toc-backref" href="#acknowledgements" role="doc-backlink">Acknowledgements</a></h2>
<p>Thanks to Tim Peters for reviving the idea of splitting the
<a class="reference external" href="https://docs.python.org/3.14/library/math.html#module-math" title="(in Python v3.14)"><code class="xref py py-mod docutils literal notranslate"><span class="pre">math</span></code></a> module.  Thanks to Neil Girdhar for substantial
improvements of the initial draft.</p>
</section>
<section id="copyright">
<h2><a class="toc-backref" href="#copyright" role="doc-backlink">Copyright</a></h2>
<p>This document is placed in the public domain or under the CC0-1.0-Universal
license, whichever is more permissive.</p>
</section>
</section>
<hr class="docutils" />
<p>Source: <a class="reference external" href="https://github.com/python/peps/blob/main/peps/pep-0791.rst">https://github.com/python/peps/blob/main/peps/pep-0791.rst</a></p>
<p>Last modified: <a class="reference external" href="https://github.com/python/peps/commits/main/peps/pep-0791.rst">2025-10-14 09:50:08 GMT</a></p>

        </article>
        <nav id="pep-sidebar">
            <h2>Contents</h2>
            <ul>
<li><a class="reference internal" href="#abstract">Abstract</a></li>
<li><a class="reference internal" href="#motivation">Motivation</a></li>
<li><a class="reference internal" href="#rationale">Rationale</a></li>
<li><a class="reference internal" href="#specification">Specification</a></li>
<li><a class="reference internal" href="#possible-extensions">Possible Extensions</a></li>
<li><a class="reference internal" href="#backwards-compatibility">Backwards Compatibility</a></li>
<li><a class="reference internal" href="#how-to-teach-this">How to Teach This</a></li>
<li><a class="reference internal" href="#reference-implementation">Reference Implementation</a></li>
<li><a class="reference internal" href="#rejected-ideas">Rejected ideas</a><ul>
<li><a class="reference internal" href="#isqrt-renaming">isqrt() renaming</a></li>
<li><a class="reference internal" href="#module-name">Module name</a></li>
</ul>
</li>
<li><a class="reference internal" href="#acknowledgements">Acknowledgements</a></li>
<li><a class="reference internal" href="#copyright">Copyright</a></li>
</ul>

            <br>
            <a id="source" href="https://github.com/python/peps/blob/main/peps/pep-0791.rst?plain=1">Page Source (GitHub)</a>
        </nav>
    </section>
    <script src="../_static/colour_scheme.js"></script>
    <script src="../_static/wrap_tables.js"></script>
    <script src="../_static/sticky_banner.js"></script>
    <script src="https://analytics.python.org/js/script.outbound-links.js"
            data-domain="peps.python.org" defer></script>
</body>
</html>