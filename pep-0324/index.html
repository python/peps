
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="color-scheme" content="light dark">
    <title>PEP 324 – subprocess - New process module | peps.python.org</title>
    <link rel="shortcut icon" href="../_static/py.png">
    <link rel="canonical" href="https://peps.python.org/pep-0324/">
    <link rel="stylesheet" href="../_static/style.css" type="text/css">
    <link rel="stylesheet" href="../_static/mq.css" type="text/css">
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" media="(prefers-color-scheme: light)" id="pyg-light">
    <link rel="stylesheet" href="../_static/pygments_dark.css" type="text/css" media="(prefers-color-scheme: dark)" id="pyg-dark">
    <link rel="alternate" type="application/rss+xml" title="Latest PEPs" href="https://peps.python.org/peps.rss">
    <meta property="og:title" content='PEP 324 – subprocess - New process module | peps.python.org'>
    <meta property="og:description" content="This PEP describes a new module for starting and communicating with processes.">
    <meta property="og:type" content="website">
    <meta property="og:url" content="https://peps.python.org/pep-0324/">
    <meta property="og:site_name" content="Python Enhancement Proposals (PEPs)">
    <meta property="og:image" content="https://peps.python.org/_static/og-image.png">
    <meta property="og:image:alt" content="Python PEPs">
    <meta property="og:image:width" content="200">
    <meta property="og:image:height" content="200">
    <meta name="description" content="This PEP describes a new module for starting and communicating with processes.">
    <meta name="theme-color" content="#3776ab">
</head>
<body>
    
<svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
  <symbol id="svg-sun-half" viewBox="0 0 24 24" pointer-events="all">
    <title>Following system colour scheme</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none"
         stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
      <circle cx="12" cy="12" r="9"></circle>
      <path d="M12 3v18m0-12l4.65-4.65M12 14.3l7.37-7.37M12 19.6l8.85-8.85"></path>
    </svg>
  </symbol>
  <symbol id="svg-moon" viewBox="0 0 24 24" pointer-events="all">
    <title>Selected dark colour scheme</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none"
         stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
      <path stroke="none" d="M0 0h24v24H0z" fill="none"></path>
      <path d="M12 3c.132 0 .263 0 .393 0a7.5 7.5 0 0 0 7.92 12.446a9 9 0 1 1 -8.313 -12.454z"></path>
    </svg>
  </symbol>
  <symbol id="svg-sun" viewBox="0 0 24 24" pointer-events="all">
    <title>Selected light colour scheme</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none"
         stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
      <circle cx="12" cy="12" r="5"></circle>
      <line x1="12" y1="1" x2="12" y2="3"></line>
      <line x1="12" y1="21" x2="12" y2="23"></line>
      <line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line>
      <line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line>
      <line x1="1" y1="12" x2="3" y2="12"></line>
      <line x1="21" y1="12" x2="23" y2="12"></line>
      <line x1="4.22" y1="19.78" x2="5.64" y2="18.36"></line>
      <line x1="18.36" y1="5.64" x2="19.78" y2="4.22"></line>
    </svg>
  </symbol>
</svg>
    <script>

        document.documentElement.dataset.colour_scheme = localStorage.getItem("colour_scheme") || "auto"
    </script>
    <section id="pep-page-section">
        <header>
            <h1>Python Enhancement Proposals</h1>
            <ul class="breadcrumbs">
                <li><a href="https://www.python.org/" title="The Python Programming Language">Python</a> &raquo; </li>
                <li><a href="../pep-0000/">PEP Index</a> &raquo; </li>
                <li>PEP 324</li>
            </ul>
            <button id="colour-scheme-cycler" onClick="setColourScheme(nextColourScheme())">
                <svg aria-hidden="true" class="colour-scheme-icon-when-auto"><use href="#svg-sun-half"></use></svg>
                <svg aria-hidden="true" class="colour-scheme-icon-when-dark"><use href="#svg-moon"></use></svg>
                <svg aria-hidden="true" class="colour-scheme-icon-when-light"><use href="#svg-sun"></use></svg>
                <span class="visually-hidden">Toggle light / dark / auto colour theme</span>
            </button>
        </header>
        <article>
            <section id="pep-content">
<h1 class="page-title">PEP 324 – subprocess - New process module</h1>
<dl class="rfc2822 field-list simple">
<dt class="field-odd">Author<span class="colon">:</span></dt>
<dd class="field-odd">Peter Astrand &lt;astrand&#32;&#97;t&#32;lysator.liu.se&gt;</dd>
<dt class="field-even">Status<span class="colon">:</span></dt>
<dd class="field-even"><abbr title="Accepted and implementation complete, or no longer active">Final</abbr></dd>
<dt class="field-odd">Type<span class="colon">:</span></dt>
<dd class="field-odd"><abbr title="Normative PEP with a new feature for Python, implementation change for CPython or interoperability standard for the ecosystem">Standards Track</abbr></dd>
<dt class="field-even">Created<span class="colon">:</span></dt>
<dd class="field-even">19-Nov-2003</dd>
<dt class="field-odd">Python-Version<span class="colon">:</span></dt>
<dd class="field-odd">2.4</dd>
<dt class="field-even">Post-History<span class="colon">:</span></dt>
<dd class="field-even"><p></p></dd>
</dl>
<hr class="docutils" />
<section id="contents">
<details><summary>Table of Contents</summary><ul class="simple">
<li><a class="reference internal" href="#abstract">Abstract</a></li>
<li><a class="reference internal" href="#motivation">Motivation</a></li>
<li><a class="reference internal" href="#rationale">Rationale</a></li>
<li><a class="reference internal" href="#specification">Specification</a><ul>
<li><a class="reference internal" href="#exceptions">Exceptions</a></li>
<li><a class="reference internal" href="#security">Security</a></li>
<li><a class="reference internal" href="#popen-objects">Popen objects</a></li>
</ul>
</li>
<li><a class="reference internal" href="#replacing-older-functions-with-the-subprocess-module">Replacing older functions with the subprocess module</a><ul>
<li><a class="reference internal" href="#replacing-bin-sh-shell-backquote">Replacing /bin/sh shell backquote</a></li>
<li><a class="reference internal" href="#replacing-shell-pipe-line">Replacing shell pipe line</a></li>
<li><a class="reference internal" href="#replacing-os-system">Replacing <code class="docutils literal notranslate"><span class="pre">os.system()</span></code></a></li>
<li><a class="reference internal" href="#replacing-os-spawn">Replacing <code class="docutils literal notranslate"><span class="pre">os.spawn*</span></code></a></li>
<li><a class="reference internal" href="#replacing-os-popen">Replacing <code class="docutils literal notranslate"><span class="pre">os.popen*</span></code></a></li>
<li><a class="reference internal" href="#replacing-popen2">Replacing <code class="docutils literal notranslate"><span class="pre">popen2.*</span></code></a></li>
</ul>
</li>
<li><a class="reference internal" href="#open-issues">Open Issues</a></li>
<li><a class="reference internal" href="#backwards-compatibility">Backwards Compatibility</a></li>
<li><a class="reference internal" href="#reference-implementation">Reference Implementation</a></li>
<li><a class="reference internal" href="#references">References</a></li>
<li><a class="reference internal" href="#copyright">Copyright</a></li>
</ul>
</details></section>
<section id="abstract">
<h2><a class="toc-backref" href="#abstract" role="doc-backlink">Abstract</a></h2>
<p>This PEP describes a new module for starting and communicating
with processes.</p>
</section>
<section id="motivation">
<h2><a class="toc-backref" href="#motivation" role="doc-backlink">Motivation</a></h2>
<p>Starting new processes is a common task in any programming
language, and very common in a high-level language like Python.
Good support for this task is needed, because:</p>
<ul class="simple">
<li>Inappropriate functions for starting processes could mean a
security risk: If the program is started through the shell, and
the arguments contain shell meta characters, the result can be
disastrous. <a class="footnote-reference brackets" href="#id7" id="id1">[1]</a></li>
<li>It makes Python an even better replacement language for
over-complicated shell scripts.</li>
</ul>
<p>Currently, Python has a large number of different functions for
process creation.  This makes it hard for developers to choose.</p>
<p>The subprocess module provides the following enhancements over
previous functions:</p>
<ul class="simple">
<li>One “unified” module provides all functionality from previous
functions.</li>
<li>Cross-process exceptions: Exceptions happening in the child
before the new process has started to execute are re-raised in
the parent.  This means that it’s easy to handle <code class="docutils literal notranslate"><span class="pre">exec()</span></code>
failures, for example.  With popen2, for example, it’s
impossible to detect if the execution failed.</li>
<li>A hook for executing custom code between fork and exec.  This
can be used for, for example, changing uid.</li>
<li>No implicit call of /bin/sh.  This means that there is no need
for escaping dangerous shell meta characters.</li>
<li>All combinations of file descriptor redirection is possible.
For example, the “python-dialog” <a class="footnote-reference brackets" href="#id8" id="id2">[2]</a> needs to spawn a process
and redirect stderr, but not stdout.  This is not possible with
current functions, without using temporary files.</li>
<li>With the subprocess module, it’s possible to control if all open
file descriptors should be closed before the new program is
executed.</li>
<li>Support for connecting several subprocesses (shell “pipe”).</li>
<li>Universal newline support.</li>
<li>A <code class="docutils literal notranslate"><span class="pre">communicate()</span></code> method, which makes it easy to send stdin data
and read stdout and stderr data, without risking deadlocks.
Most people are aware of the flow control issues involved with
child process communication, but not all have the patience or
skills to write a fully correct and deadlock-free select loop.
This means that many Python applications contain race
conditions.  A <code class="docutils literal notranslate"><span class="pre">communicate()</span></code> method in the standard library
solves this problem.</li>
</ul>
</section>
<section id="rationale">
<h2><a class="toc-backref" href="#rationale" role="doc-backlink">Rationale</a></h2>
<p>The following points summarizes the design:</p>
<ul>
<li>subprocess was based on popen2, which is tried-and-tested.</li>
<li>The factory functions in popen2 have been removed, because I
consider the class constructor equally easy to work with.</li>
<li>popen2 contains several factory functions and classes for
different combinations of redirection.  subprocess, however,
contains one single class.  Since the subprocess module supports
12 different combinations of redirection, providing a class or
function for each of them would be cumbersome and not very
intuitive.  Even with popen2, this is a readability problem.
For example, many people cannot tell the difference between
popen2.popen2 and popen2.popen4 without using the documentation.</li>
<li>One small utility function is provided: <code class="docutils literal notranslate"><span class="pre">subprocess.call()</span></code>. It
aims to be an enhancement over <code class="docutils literal notranslate"><span class="pre">os.system()</span></code>, while still very
easy to use:<ul class="simple">
<li>It does not use the Standard C function system(), which has
limitations.</li>
<li>It does not call the shell implicitly.</li>
<li>No need for quoting; using an argument list.</li>
<li>The return value is easier to work with.</li>
</ul>
<p>The <code class="docutils literal notranslate"><span class="pre">call()</span></code> utility function accepts an ‘args’ argument, just
like the <code class="docutils literal notranslate"><span class="pre">Popen</span></code> class constructor.  It waits for the command to
complete, then returns the <code class="docutils literal notranslate"><span class="pre">returncode</span></code> attribute.  The
implementation is very simple:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="k">def</span><span class="w"> </span><span class="nf">call</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
    <span class="k">return</span> <span class="n">Popen</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span><span class="o">.</span><span class="n">wait</span><span class="p">()</span>
</pre></div>
</div>
<p>The motivation behind the <code class="docutils literal notranslate"><span class="pre">call()</span></code> function is simple: Starting a
process and wait for it to finish is a common task.</p>
<p>While <code class="docutils literal notranslate"><span class="pre">Popen</span></code> supports a wide range of options, many users have
simple needs.  Many people are using <code class="docutils literal notranslate"><span class="pre">os.system()</span></code> today, mainly
because it provides a simple interface.  Consider this example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">os</span><span class="o">.</span><span class="n">system</span><span class="p">(</span><span class="s2">&quot;stty sane -F &quot;</span> <span class="o">+</span> <span class="n">device</span><span class="p">)</span>
</pre></div>
</div>
<p>With <code class="docutils literal notranslate"><span class="pre">subprocess.call()</span></code>, this would look like:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">subprocess</span><span class="o">.</span><span class="n">call</span><span class="p">([</span><span class="s2">&quot;stty&quot;</span><span class="p">,</span> <span class="s2">&quot;sane&quot;</span><span class="p">,</span> <span class="s2">&quot;-F&quot;</span><span class="p">,</span> <span class="n">device</span><span class="p">])</span>
</pre></div>
</div>
<p>or, if executing through the shell:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">subprocess</span><span class="o">.</span><span class="n">call</span><span class="p">(</span><span class="s2">&quot;stty sane -F &quot;</span> <span class="o">+</span> <span class="n">device</span><span class="p">,</span> <span class="n">shell</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
</pre></div>
</div>
</li>
<li>The “preexec” functionality makes it possible to run arbitrary
code between fork and exec.  One might ask why there are special
arguments for setting the environment and current directory, but
not for, for example, setting the uid.  The answer is:<ul class="simple">
<li>Changing environment and working directory is considered
fairly common.</li>
<li>Old functions like <code class="docutils literal notranslate"><span class="pre">spawn()</span></code> has support for an
“env”-argument.</li>
<li>env and cwd are considered quite cross-platform: They make
sense even on Windows.</li>
</ul>
</li>
<li>On POSIX platforms, no extension module is required: the module
uses <code class="docutils literal notranslate"><span class="pre">os.fork()</span></code>, <code class="docutils literal notranslate"><span class="pre">os.execvp()</span></code> etc.</li>
<li>On Windows platforms, the module requires either Mark Hammond’s
Windows extensions <a class="footnote-reference brackets" href="#id11" id="id3">[5]</a>, or a small extension module called
_subprocess.</li>
</ul>
</section>
<section id="specification">
<h2><a class="toc-backref" href="#specification" role="doc-backlink">Specification</a></h2>
<p>This module defines one class called Popen:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="k">class</span><span class="w"> </span><span class="nc">Popen</span><span class="p">(</span><span class="n">args</span><span class="p">,</span> <span class="n">bufsize</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">executable</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
            <span class="n">stdin</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">stdout</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">stderr</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
            <span class="n">preexec_fn</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">close_fds</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">shell</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span>
            <span class="n">cwd</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">env</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">universal_newlines</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span>
            <span class="n">startupinfo</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">creationflags</span><span class="o">=</span><span class="mi">0</span><span class="p">):</span>
</pre></div>
</div>
<p>Arguments are:</p>
<ul>
<li><code class="docutils literal notranslate"><span class="pre">args</span></code> should be a string, or a sequence of program arguments.
The program to execute is normally the first item in the args
sequence or string, but can be explicitly set by using the
executable argument.<p>On UNIX, with <code class="docutils literal notranslate"><span class="pre">shell=False</span></code> (default): In this case, the <code class="docutils literal notranslate"><span class="pre">Popen</span></code>
class uses <code class="docutils literal notranslate"><span class="pre">os.execvp()</span></code> to execute the child program.  <code class="docutils literal notranslate"><span class="pre">args</span></code>
should normally be a sequence.  A string will be treated as a
sequence with the string as the only item (the program to
execute).</p>
<p>On UNIX, with <code class="docutils literal notranslate"><span class="pre">shell=True</span></code>: If <code class="docutils literal notranslate"><span class="pre">args</span></code> is a string, it specifies the
command string to execute through the shell.  If <code class="docutils literal notranslate"><span class="pre">args</span></code> is a
sequence, the first item specifies the command string, and any
additional items will be treated as additional shell arguments.</p>
<p>On Windows: the <code class="docutils literal notranslate"><span class="pre">Popen</span></code> class uses <code class="docutils literal notranslate"><span class="pre">CreateProcess()</span></code> to execute the
child program, which operates on strings.  If <code class="docutils literal notranslate"><span class="pre">args</span></code> is a
sequence, it will be converted to a string using the
<code class="docutils literal notranslate"><span class="pre">list2cmdline</span></code> method.  Please note that not all MS Windows
applications interpret the command line the same way: The
<code class="docutils literal notranslate"><span class="pre">list2cmdline</span></code> is designed for applications using the same rules
as the MS C runtime.</p>
</li>
<li><code class="docutils literal notranslate"><span class="pre">bufsize</span></code>, if given, has the same meaning as the corresponding
argument to the built-in <code class="docutils literal notranslate"><span class="pre">open()</span></code> function: 0 means unbuffered, 1
means line buffered, any other positive value means use a buffer
of (approximately) that size.  A negative <code class="docutils literal notranslate"><span class="pre">bufsize</span></code> means to use
the system default, which usually means fully buffered.  The
default value for <code class="docutils literal notranslate"><span class="pre">bufsize</span></code> is 0 (unbuffered).</li>
<li><code class="docutils literal notranslate"><span class="pre">stdin</span></code>, <code class="docutils literal notranslate"><span class="pre">stdout</span></code> and <code class="docutils literal notranslate"><span class="pre">stderr</span></code> specify the executed programs’ standard
input, standard output and standard error file handles,
respectively.  Valid values are <code class="docutils literal notranslate"><span class="pre">PIPE</span></code>, an existing file
descriptor (a positive integer), an existing file object, and
<code class="docutils literal notranslate"><span class="pre">None</span></code>.  <code class="docutils literal notranslate"><span class="pre">PIPE</span></code> indicates that a new pipe to the child should be
created.  With <code class="docutils literal notranslate"><span class="pre">None</span></code>, no redirection will occur; the child’s file
handles will be inherited from the parent.  Additionally, <code class="docutils literal notranslate"><span class="pre">stderr</span></code>
can be STDOUT, which indicates that the stderr data from the
applications should be captured into the same file handle as for
stdout.</li>
<li>If <code class="docutils literal notranslate"><span class="pre">preexec_fn</span></code> is set to a callable object, this object will be
called in the child process just before the child is executed.</li>
<li>If <code class="docutils literal notranslate"><span class="pre">close_fds</span></code> is true, all file descriptors except 0, 1 and 2
will be closed before the child process is executed.</li>
<li>If <code class="docutils literal notranslate"><span class="pre">shell</span></code> is true, the specified command will be executed through
the shell.</li>
<li>If <code class="docutils literal notranslate"><span class="pre">cwd</span></code> is not <code class="docutils literal notranslate"><span class="pre">None</span></code>, the current directory will be changed to cwd
before the child is executed.</li>
<li>If <code class="docutils literal notranslate"><span class="pre">env</span></code> is not <code class="docutils literal notranslate"><span class="pre">None</span></code>, it defines the environment variables for the
new process.</li>
<li>If <code class="docutils literal notranslate"><span class="pre">universal_newlines</span></code> is true, the file objects stdout and
stderr are opened as a text file, but lines may be terminated
by any of <code class="docutils literal notranslate"><span class="pre">\n</span></code>, the Unix end-of-line convention, <code class="docutils literal notranslate"><span class="pre">\r</span></code>, the
Macintosh convention or <code class="docutils literal notranslate"><span class="pre">\r\n</span></code>, the Windows convention.  All of
these external representations are seen as <code class="docutils literal notranslate"><span class="pre">\n</span></code> by the Python
program.  Note: This feature is only available if Python is
built with universal newline support (the default).  Also, the
newlines attribute of the file objects stdout, stdin and stderr
are not updated by the <code class="docutils literal notranslate"><span class="pre">communicate()</span></code> method.</li>
<li>The <code class="docutils literal notranslate"><span class="pre">startupinfo</span></code> and <code class="docutils literal notranslate"><span class="pre">creationflags</span></code>, if given, will be passed to
the underlying <code class="docutils literal notranslate"><span class="pre">CreateProcess()</span></code> function.  They can specify
things such as appearance of the main window and priority for
the new process.  (Windows only)</li>
</ul>
<p>This module also defines two shortcut functions:</p>
<ul>
<li><dl>
<dt><code class="docutils literal notranslate"><span class="pre">call(*args,</span> <span class="pre">**kwargs)</span></code>:</dt><dd>Run command with arguments.  Wait for command to complete,
then return the <code class="docutils literal notranslate"><span class="pre">returncode</span></code> attribute.<p>The arguments are the same as for the Popen constructor.
Example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">retcode</span> <span class="o">=</span> <span class="n">call</span><span class="p">([</span><span class="s2">&quot;ls&quot;</span><span class="p">,</span> <span class="s2">&quot;-l&quot;</span><span class="p">])</span>
</pre></div>
</div>
</dd>
</dl>
</li>
</ul>
<section id="exceptions">
<h3><a class="toc-backref" href="#exceptions" role="doc-backlink">Exceptions</a></h3>
<p>Exceptions raised in the child process, before the new program has
started to execute, will be re-raised in the parent.
Additionally, the exception object will have one extra attribute
called ‘child_traceback’, which is a string containing traceback
information from the child’s point of view.</p>
<p>The most common exception raised is <code class="docutils literal notranslate"><span class="pre">OSError</span></code>.  This occurs, for
example, when trying to execute a non-existent file.  Applications
should prepare for <code class="docutils literal notranslate"><span class="pre">OSErrors</span></code>.</p>
<p>A <code class="docutils literal notranslate"><span class="pre">ValueError</span></code> will be raised if Popen is called with invalid
arguments.</p>
</section>
<section id="security">
<h3><a class="toc-backref" href="#security" role="doc-backlink">Security</a></h3>
<p>Unlike some other popen functions, this implementation will never
call /bin/sh implicitly.  This means that all characters,
including shell meta-characters, can safely be passed to child
processes.</p>
</section>
<section id="popen-objects">
<h3><a class="toc-backref" href="#popen-objects" role="doc-backlink">Popen objects</a></h3>
<p>Instances of the Popen class have the following methods:</p>
<dl>
<dt><code class="docutils literal notranslate"><span class="pre">poll()</span></code></dt><dd>Check if child process has terminated.  Returns <code class="docutils literal notranslate"><span class="pre">returncode</span></code>
attribute.</dd>
<dt><code class="docutils literal notranslate"><span class="pre">wait()</span></code></dt><dd>Wait for child process to terminate.  Returns <code class="docutils literal notranslate"><span class="pre">returncode</span></code>
attribute.</dd>
<dt><code class="docutils literal notranslate"><span class="pre">communicate(input=None)</span></code></dt><dd>Interact with process: Send data to stdin.  Read data from
stdout and stderr, until end-of-file is reached.  Wait for
process to terminate.  The optional stdin argument should be a
string to be sent to the child process, or <code class="docutils literal notranslate"><span class="pre">None</span></code>, if no data
should be sent to the child.<p><code class="docutils literal notranslate"><span class="pre">communicate()</span></code> returns a tuple <code class="docutils literal notranslate"><span class="pre">(stdout,</span> <span class="pre">stderr)</span></code>.</p>
<p>Note: The data read is buffered in memory, so do not use this
method if the data size is large or unlimited.</p>
</dd>
</dl>
<p>The following attributes are also available:</p>
<dl class="simple">
<dt><code class="docutils literal notranslate"><span class="pre">stdin</span></code></dt><dd>If the <code class="docutils literal notranslate"><span class="pre">stdin</span></code> argument is <code class="docutils literal notranslate"><span class="pre">PIPE</span></code>, this attribute is a file object
that provides input to the child process.  Otherwise, it is
<code class="docutils literal notranslate"><span class="pre">None</span></code>.</dd>
<dt><code class="docutils literal notranslate"><span class="pre">stdout</span></code></dt><dd>If the <code class="docutils literal notranslate"><span class="pre">stdout</span></code> argument is <code class="docutils literal notranslate"><span class="pre">PIPE</span></code>, this attribute is a file
object that provides output from the child process.
Otherwise, it is <code class="docutils literal notranslate"><span class="pre">None</span></code>.</dd>
<dt><code class="docutils literal notranslate"><span class="pre">stderr</span></code></dt><dd>If the <code class="docutils literal notranslate"><span class="pre">stderr</span></code> argument is <code class="docutils literal notranslate"><span class="pre">PIPE</span></code>, this attribute is file object
that provides error output from the child process.  Otherwise,
it is <code class="docutils literal notranslate"><span class="pre">None</span></code>.</dd>
<dt><code class="docutils literal notranslate"><span class="pre">pid</span></code></dt><dd>The process ID of the child process.</dd>
<dt><code class="docutils literal notranslate"><span class="pre">returncode</span></code></dt><dd>The child return code.  A <code class="docutils literal notranslate"><span class="pre">None</span></code> value indicates that the
process hasn’t terminated yet.  A negative value -N indicates
that the child was terminated by signal N (UNIX only).</dd>
</dl>
</section>
</section>
<section id="replacing-older-functions-with-the-subprocess-module">
<h2><a class="toc-backref" href="#replacing-older-functions-with-the-subprocess-module" role="doc-backlink">Replacing older functions with the subprocess module</a></h2>
<p>In this section, “a ==&gt; b” means that b can be used as a
replacement for a.</p>
<p>Note: All functions in this section fail (more or less) silently
if the executed program cannot be found; this module raises an
OSError exception.</p>
<p>In the following examples, we assume that the subprocess module is
imported with <code class="docutils literal notranslate"><span class="pre">from</span> <span class="pre">subprocess</span> <span class="pre">import</span> <span class="pre">*</span></code>.</p>
<section id="replacing-bin-sh-shell-backquote">
<h3><a class="toc-backref" href="#replacing-bin-sh-shell-backquote" role="doc-backlink">Replacing /bin/sh shell backquote</a></h3>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>output=`mycmd myarg`
==&gt;
output = Popen([&quot;mycmd&quot;, &quot;myarg&quot;], stdout=PIPE).communicate()[0]
</pre></div>
</div>
</section>
<section id="replacing-shell-pipe-line">
<h3><a class="toc-backref" href="#replacing-shell-pipe-line" role="doc-backlink">Replacing shell pipe line</a></h3>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>output=`dmesg | grep hda`
==&gt;
p1 = Popen([&quot;dmesg&quot;], stdout=PIPE)
p2 = Popen([&quot;grep&quot;, &quot;hda&quot;], stdin=p1.stdout, stdout=PIPE)
output = p2.communicate()[0]
</pre></div>
</div>
</section>
<section id="replacing-os-system">
<h3><a class="toc-backref" href="#replacing-os-system" role="doc-backlink">Replacing <code class="docutils literal notranslate"><span class="pre">os.system()</span></code></a></h3>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">sts</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">system</span><span class="p">(</span><span class="s2">&quot;mycmd&quot;</span> <span class="o">+</span> <span class="s2">&quot; myarg&quot;</span><span class="p">)</span>
<span class="o">==&gt;</span>
<span class="n">p</span> <span class="o">=</span> <span class="n">Popen</span><span class="p">(</span><span class="s2">&quot;mycmd&quot;</span> <span class="o">+</span> <span class="s2">&quot; myarg&quot;</span><span class="p">,</span> <span class="n">shell</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="n">sts</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">waitpid</span><span class="p">(</span><span class="n">p</span><span class="o">.</span><span class="n">pid</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span>
</pre></div>
</div>
<p>Note:</p>
<ul class="simple">
<li>Calling the program through the shell is usually not required.</li>
<li>It’s easier to look at the returncode attribute than the
exit status.</li>
</ul>
<p>A more real-world example would look like this:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="k">try</span><span class="p">:</span>
    <span class="n">retcode</span> <span class="o">=</span> <span class="n">call</span><span class="p">(</span><span class="s2">&quot;mycmd&quot;</span> <span class="o">+</span> <span class="s2">&quot; myarg&quot;</span><span class="p">,</span> <span class="n">shell</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">retcode</span> <span class="o">&lt;</span> <span class="mi">0</span><span class="p">:</span>
        <span class="nb">print</span> <span class="o">&gt;&gt;</span><span class="n">sys</span><span class="o">.</span><span class="n">stderr</span><span class="p">,</span> <span class="s2">&quot;Child was terminated by signal&quot;</span><span class="p">,</span> <span class="o">-</span><span class="n">retcode</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="nb">print</span> <span class="o">&gt;&gt;</span><span class="n">sys</span><span class="o">.</span><span class="n">stderr</span><span class="p">,</span> <span class="s2">&quot;Child returned&quot;</span><span class="p">,</span> <span class="n">retcode</span>
<span class="k">except</span> <span class="ne">OSError</span><span class="p">,</span> <span class="n">e</span><span class="p">:</span>
    <span class="nb">print</span> <span class="o">&gt;&gt;</span><span class="n">sys</span><span class="o">.</span><span class="n">stderr</span><span class="p">,</span> <span class="s2">&quot;Execution failed:&quot;</span><span class="p">,</span> <span class="n">e</span>
</pre></div>
</div>
</section>
<section id="replacing-os-spawn">
<h3><a class="toc-backref" href="#replacing-os-spawn" role="doc-backlink">Replacing <code class="docutils literal notranslate"><span class="pre">os.spawn*</span></code></a></h3>
<p>P_NOWAIT example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">pid</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">spawnlp</span><span class="p">(</span><span class="n">os</span><span class="o">.</span><span class="n">P_NOWAIT</span><span class="p">,</span> <span class="s2">&quot;/bin/mycmd&quot;</span><span class="p">,</span> <span class="s2">&quot;mycmd&quot;</span><span class="p">,</span> <span class="s2">&quot;myarg&quot;</span><span class="p">)</span>
<span class="o">==&gt;</span>
<span class="n">pid</span> <span class="o">=</span> <span class="n">Popen</span><span class="p">([</span><span class="s2">&quot;/bin/mycmd&quot;</span><span class="p">,</span> <span class="s2">&quot;myarg&quot;</span><span class="p">])</span><span class="o">.</span><span class="n">pid</span>
</pre></div>
</div>
<p>P_WAIT example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">retcode</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">spawnlp</span><span class="p">(</span><span class="n">os</span><span class="o">.</span><span class="n">P_WAIT</span><span class="p">,</span> <span class="s2">&quot;/bin/mycmd&quot;</span><span class="p">,</span> <span class="s2">&quot;mycmd&quot;</span><span class="p">,</span> <span class="s2">&quot;myarg&quot;</span><span class="p">)</span>
<span class="o">==&gt;</span>
<span class="n">retcode</span> <span class="o">=</span> <span class="n">call</span><span class="p">([</span><span class="s2">&quot;/bin/mycmd&quot;</span><span class="p">,</span> <span class="s2">&quot;myarg&quot;</span><span class="p">])</span>
</pre></div>
</div>
<p>Vector example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">os</span><span class="o">.</span><span class="n">spawnvp</span><span class="p">(</span><span class="n">os</span><span class="o">.</span><span class="n">P_NOWAIT</span><span class="p">,</span> <span class="n">path</span><span class="p">,</span> <span class="n">args</span><span class="p">)</span>
<span class="o">==&gt;</span>
<span class="n">Popen</span><span class="p">([</span><span class="n">path</span><span class="p">]</span> <span class="o">+</span> <span class="n">args</span><span class="p">[</span><span class="mi">1</span><span class="p">:])</span>
</pre></div>
</div>
<p>Environment example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">os</span><span class="o">.</span><span class="n">spawnlpe</span><span class="p">(</span><span class="n">os</span><span class="o">.</span><span class="n">P_NOWAIT</span><span class="p">,</span> <span class="s2">&quot;/bin/mycmd&quot;</span><span class="p">,</span> <span class="s2">&quot;mycmd&quot;</span><span class="p">,</span> <span class="s2">&quot;myarg&quot;</span><span class="p">,</span> <span class="n">env</span><span class="p">)</span>
<span class="o">==&gt;</span>
<span class="n">Popen</span><span class="p">([</span><span class="s2">&quot;/bin/mycmd&quot;</span><span class="p">,</span> <span class="s2">&quot;myarg&quot;</span><span class="p">],</span> <span class="n">env</span><span class="o">=</span><span class="p">{</span><span class="s2">&quot;PATH&quot;</span><span class="p">:</span> <span class="s2">&quot;/usr/bin&quot;</span><span class="p">})</span>
</pre></div>
</div>
</section>
<section id="replacing-os-popen">
<h3><a class="toc-backref" href="#replacing-os-popen" role="doc-backlink">Replacing <code class="docutils literal notranslate"><span class="pre">os.popen*</span></code></a></h3>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">pipe</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">popen</span><span class="p">(</span><span class="n">cmd</span><span class="p">,</span> <span class="n">mode</span><span class="o">=</span><span class="s1">&#39;r&#39;</span><span class="p">,</span> <span class="n">bufsize</span><span class="p">)</span>
<span class="o">==&gt;</span>
<span class="n">pipe</span> <span class="o">=</span> <span class="n">Popen</span><span class="p">(</span><span class="n">cmd</span><span class="p">,</span> <span class="n">shell</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">bufsize</span><span class="o">=</span><span class="n">bufsize</span><span class="p">,</span> <span class="n">stdout</span><span class="o">=</span><span class="n">PIPE</span><span class="p">)</span><span class="o">.</span><span class="n">stdout</span>

<span class="n">pipe</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">popen</span><span class="p">(</span><span class="n">cmd</span><span class="p">,</span> <span class="n">mode</span><span class="o">=</span><span class="s1">&#39;w&#39;</span><span class="p">,</span> <span class="n">bufsize</span><span class="p">)</span>
<span class="o">==&gt;</span>
<span class="n">pipe</span> <span class="o">=</span> <span class="n">Popen</span><span class="p">(</span><span class="n">cmd</span><span class="p">,</span> <span class="n">shell</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">bufsize</span><span class="o">=</span><span class="n">bufsize</span><span class="p">,</span> <span class="n">stdin</span><span class="o">=</span><span class="n">PIPE</span><span class="p">)</span><span class="o">.</span><span class="n">stdin</span>


<span class="p">(</span><span class="n">child_stdin</span><span class="p">,</span> <span class="n">child_stdout</span><span class="p">)</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">popen2</span><span class="p">(</span><span class="n">cmd</span><span class="p">,</span> <span class="n">mode</span><span class="p">,</span> <span class="n">bufsize</span><span class="p">)</span>
<span class="o">==&gt;</span>
<span class="n">p</span> <span class="o">=</span> <span class="n">Popen</span><span class="p">(</span><span class="n">cmd</span><span class="p">,</span> <span class="n">shell</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">bufsize</span><span class="o">=</span><span class="n">bufsize</span><span class="p">,</span>
          <span class="n">stdin</span><span class="o">=</span><span class="n">PIPE</span><span class="p">,</span> <span class="n">stdout</span><span class="o">=</span><span class="n">PIPE</span><span class="p">,</span> <span class="n">close_fds</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="p">(</span><span class="n">child_stdin</span><span class="p">,</span> <span class="n">child_stdout</span><span class="p">)</span> <span class="o">=</span> <span class="p">(</span><span class="n">p</span><span class="o">.</span><span class="n">stdin</span><span class="p">,</span> <span class="n">p</span><span class="o">.</span><span class="n">stdout</span><span class="p">)</span>


<span class="p">(</span><span class="n">child_stdin</span><span class="p">,</span>
 <span class="n">child_stdout</span><span class="p">,</span>
 <span class="n">child_stderr</span><span class="p">)</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">popen3</span><span class="p">(</span><span class="n">cmd</span><span class="p">,</span> <span class="n">mode</span><span class="p">,</span> <span class="n">bufsize</span><span class="p">)</span>
<span class="o">==&gt;</span>
<span class="n">p</span> <span class="o">=</span> <span class="n">Popen</span><span class="p">(</span><span class="n">cmd</span><span class="p">,</span> <span class="n">shell</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">bufsize</span><span class="o">=</span><span class="n">bufsize</span><span class="p">,</span>
          <span class="n">stdin</span><span class="o">=</span><span class="n">PIPE</span><span class="p">,</span> <span class="n">stdout</span><span class="o">=</span><span class="n">PIPE</span><span class="p">,</span> <span class="n">stderr</span><span class="o">=</span><span class="n">PIPE</span><span class="p">,</span> <span class="n">close_fds</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="p">(</span><span class="n">child_stdin</span><span class="p">,</span>
 <span class="n">child_stdout</span><span class="p">,</span>
 <span class="n">child_stderr</span><span class="p">)</span> <span class="o">=</span> <span class="p">(</span><span class="n">p</span><span class="o">.</span><span class="n">stdin</span><span class="p">,</span> <span class="n">p</span><span class="o">.</span><span class="n">stdout</span><span class="p">,</span> <span class="n">p</span><span class="o">.</span><span class="n">stderr</span><span class="p">)</span>


<span class="p">(</span><span class="n">child_stdin</span><span class="p">,</span> <span class="n">child_stdout_and_stderr</span><span class="p">)</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">popen4</span><span class="p">(</span><span class="n">cmd</span><span class="p">,</span> <span class="n">mode</span><span class="p">,</span> <span class="n">bufsize</span><span class="p">)</span>
<span class="o">==&gt;</span>
<span class="n">p</span> <span class="o">=</span> <span class="n">Popen</span><span class="p">(</span><span class="n">cmd</span><span class="p">,</span> <span class="n">shell</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">bufsize</span><span class="o">=</span><span class="n">bufsize</span><span class="p">,</span>
          <span class="n">stdin</span><span class="o">=</span><span class="n">PIPE</span><span class="p">,</span> <span class="n">stdout</span><span class="o">=</span><span class="n">PIPE</span><span class="p">,</span> <span class="n">stderr</span><span class="o">=</span><span class="n">STDOUT</span><span class="p">,</span> <span class="n">close_fds</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="p">(</span><span class="n">child_stdin</span><span class="p">,</span> <span class="n">child_stdout_and_stderr</span><span class="p">)</span> <span class="o">=</span> <span class="p">(</span><span class="n">p</span><span class="o">.</span><span class="n">stdin</span><span class="p">,</span> <span class="n">p</span><span class="o">.</span><span class="n">stdout</span><span class="p">)</span>
</pre></div>
</div>
</section>
<section id="replacing-popen2">
<h3><a class="toc-backref" href="#replacing-popen2" role="doc-backlink">Replacing <code class="docutils literal notranslate"><span class="pre">popen2.*</span></code></a></h3>
<p>Note: If the cmd argument to <code class="docutils literal notranslate"><span class="pre">popen2</span></code> functions is a string, the
command is executed through /bin/sh.  If it is a list, the command
is directly executed.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="p">(</span><span class="n">child_stdout</span><span class="p">,</span> <span class="n">child_stdin</span><span class="p">)</span> <span class="o">=</span> <span class="n">popen2</span><span class="o">.</span><span class="n">popen2</span><span class="p">(</span><span class="s2">&quot;somestring&quot;</span><span class="p">,</span> <span class="n">bufsize</span><span class="p">,</span> <span class="n">mode</span><span class="p">)</span>
<span class="o">==&gt;</span>
<span class="n">p</span> <span class="o">=</span> <span class="n">Popen</span><span class="p">([</span><span class="s2">&quot;somestring&quot;</span><span class="p">],</span> <span class="n">shell</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">bufsize</span><span class="o">=</span><span class="n">bufsize</span>
          <span class="n">stdin</span><span class="o">=</span><span class="n">PIPE</span><span class="p">,</span> <span class="n">stdout</span><span class="o">=</span><span class="n">PIPE</span><span class="p">,</span> <span class="n">close_fds</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="p">(</span><span class="n">child_stdout</span><span class="p">,</span> <span class="n">child_stdin</span><span class="p">)</span> <span class="o">=</span> <span class="p">(</span><span class="n">p</span><span class="o">.</span><span class="n">stdout</span><span class="p">,</span> <span class="n">p</span><span class="o">.</span><span class="n">stdin</span><span class="p">)</span>


<span class="p">(</span><span class="n">child_stdout</span><span class="p">,</span> <span class="n">child_stdin</span><span class="p">)</span> <span class="o">=</span> <span class="n">popen2</span><span class="o">.</span><span class="n">popen2</span><span class="p">([</span><span class="s2">&quot;mycmd&quot;</span><span class="p">,</span> <span class="s2">&quot;myarg&quot;</span><span class="p">],</span> <span class="n">bufsize</span><span class="p">,</span> <span class="n">mode</span><span class="p">)</span>
<span class="o">==&gt;</span>
<span class="n">p</span> <span class="o">=</span> <span class="n">Popen</span><span class="p">([</span><span class="s2">&quot;mycmd&quot;</span><span class="p">,</span> <span class="s2">&quot;myarg&quot;</span><span class="p">],</span> <span class="n">bufsize</span><span class="o">=</span><span class="n">bufsize</span><span class="p">,</span>
          <span class="n">stdin</span><span class="o">=</span><span class="n">PIPE</span><span class="p">,</span> <span class="n">stdout</span><span class="o">=</span><span class="n">PIPE</span><span class="p">,</span> <span class="n">close_fds</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="p">(</span><span class="n">child_stdout</span><span class="p">,</span> <span class="n">child_stdin</span><span class="p">)</span> <span class="o">=</span> <span class="p">(</span><span class="n">p</span><span class="o">.</span><span class="n">stdout</span><span class="p">,</span> <span class="n">p</span><span class="o">.</span><span class="n">stdin</span><span class="p">)</span>
</pre></div>
</div>
<p>The <code class="docutils literal notranslate"><span class="pre">popen2.Popen3</span></code> and <code class="docutils literal notranslate"><span class="pre">popen3.Popen4</span></code> basically works as
<code class="docutils literal notranslate"><span class="pre">subprocess.Popen</span></code>, except that:</p>
<ul class="simple">
<li><code class="docutils literal notranslate"><span class="pre">subprocess.Popen</span></code> raises an exception if the execution fails</li>
<li>the <code class="docutils literal notranslate"><span class="pre">capturestderr</span></code> argument is replaced with the stderr argument.</li>
<li><code class="docutils literal notranslate"><span class="pre">stdin=PIPE</span></code> and <code class="docutils literal notranslate"><span class="pre">stdout=PIPE</span></code> must be specified.</li>
<li><code class="docutils literal notranslate"><span class="pre">popen2</span></code> closes all file descriptors by default, but you have to
specify <code class="docutils literal notranslate"><span class="pre">close_fds=True</span></code> with <code class="docutils literal notranslate"><span class="pre">subprocess.Popen</span></code>.</li>
</ul>
</section>
</section>
<section id="open-issues">
<h2><a class="toc-backref" href="#open-issues" role="doc-backlink">Open Issues</a></h2>
<p>Some features have been requested but is not yet implemented.
This includes:</p>
<ul class="simple">
<li>Support for managing a whole flock of subprocesses</li>
<li>Support for managing “daemon” processes</li>
<li>Built-in method for killing subprocesses</li>
</ul>
<p>While these are useful features, it’s expected that these can be
added later without problems.</p>
<ul class="simple">
<li>expect-like functionality, including pty support.</li>
</ul>
<p>pty support is highly platform-dependent, which is a
problem.  Also, there are already other modules that provide this
kind of functionality <a class="footnote-reference brackets" href="#id12" id="id4">[6]</a>.</p>
</section>
<section id="backwards-compatibility">
<h2><a class="toc-backref" href="#backwards-compatibility" role="doc-backlink">Backwards Compatibility</a></h2>
<p>Since this is a new module, no major backward compatible issues
are expected.  The module name “subprocess” might collide with
other, previous modules <a class="footnote-reference brackets" href="#id9" id="id5">[3]</a> with the same name, but the name
“subprocess” seems to be the best suggested name so far.  The
first name of this module was “popen5”, but this name was
considered too unintuitive.  For a while, the module was called
“process”, but this name is already used by Trent Mick’s
module <a class="footnote-reference brackets" href="#id10" id="id6">[4]</a>.</p>
<p>The functions and modules that this new module is trying to
replace (<code class="docutils literal notranslate"><span class="pre">os.system</span></code>, <code class="docutils literal notranslate"><span class="pre">os.spawn*</span></code>, <code class="docutils literal notranslate"><span class="pre">os.popen*</span></code>, <code class="docutils literal notranslate"><span class="pre">popen2.*</span></code>,
<code class="docutils literal notranslate"><span class="pre">commands.*</span></code>) are expected to be available in future Python versions
for a long time, to preserve backwards compatibility.</p>
</section>
<section id="reference-implementation">
<h2><a class="toc-backref" href="#reference-implementation" role="doc-backlink">Reference Implementation</a></h2>
<p>A reference implementation is available from
<a class="reference external" href="http://www.lysator.liu.se/~astrand/popen5/">http://www.lysator.liu.se/~astrand/popen5/</a>.</p>
</section>
<section id="references">
<h2><a class="toc-backref" href="#references" role="doc-backlink">References</a></h2>
<aside class="footnote-list brackets">
<aside class="footnote brackets" id="id7" role="doc-footnote">
<dt class="label" id="id7">[<a href="#id1">1</a>]</dt>
<dd>Secure Programming for Linux and Unix HOWTO, section 8.3.
<a class="reference external" href="http://www.dwheeler.com/secure-programs/">http://www.dwheeler.com/secure-programs/</a></aside>
<aside class="footnote brackets" id="id8" role="doc-footnote">
<dt class="label" id="id8">[<a href="#id2">2</a>]</dt>
<dd>Python Dialog
<a class="reference external" href="http://pythondialog.sourceforge.net/">http://pythondialog.sourceforge.net/</a></aside>
<aside class="footnote brackets" id="id9" role="doc-footnote">
<dt class="label" id="id9">[<a href="#id5">3</a>]</dt>
<dd><a class="reference external" href="http://www.iol.ie/~padraiga/libs/subProcess.py">http://www.iol.ie/~padraiga/libs/subProcess.py</a></aside>
<aside class="footnote brackets" id="id10" role="doc-footnote">
<dt class="label" id="id10">[<a href="#id6">4</a>]</dt>
<dd><a class="reference external" href="http://starship.python.net/crew/tmick/">http://starship.python.net/crew/tmick/</a></aside>
<aside class="footnote brackets" id="id11" role="doc-footnote">
<dt class="label" id="id11">[<a href="#id3">5</a>]</dt>
<dd><a class="reference external" href="http://starship.python.net/crew/mhammond/win32/">http://starship.python.net/crew/mhammond/win32/</a></aside>
<aside class="footnote brackets" id="id12" role="doc-footnote">
<dt class="label" id="id12">[<a href="#id4">6</a>]</dt>
<dd><a class="reference external" href="http://www.lysator.liu.se/~ceder/pcl-expect/">http://www.lysator.liu.se/~ceder/pcl-expect/</a></aside>
</aside>
</section>
<section id="copyright">
<h2><a class="toc-backref" href="#copyright" role="doc-backlink">Copyright</a></h2>
<p>This document has been placed in the public domain.</p>
</section>
</section>
<hr class="docutils" />
<p>Source: <a class="reference external" href="https://github.com/python/peps/blob/main/peps/pep-0324.rst">https://github.com/python/peps/blob/main/peps/pep-0324.rst</a></p>
<p>Last modified: <a class="reference external" href="https://github.com/python/peps/commits/main/peps/pep-0324.rst">2025-02-01 08:59:27 GMT</a></p>

        </article>
        <nav id="pep-sidebar">
            <h2>Contents</h2>
            <ul>
<li><a class="reference internal" href="#abstract">Abstract</a></li>
<li><a class="reference internal" href="#motivation">Motivation</a></li>
<li><a class="reference internal" href="#rationale">Rationale</a></li>
<li><a class="reference internal" href="#specification">Specification</a><ul>
<li><a class="reference internal" href="#exceptions">Exceptions</a></li>
<li><a class="reference internal" href="#security">Security</a></li>
<li><a class="reference internal" href="#popen-objects">Popen objects</a></li>
</ul>
</li>
<li><a class="reference internal" href="#replacing-older-functions-with-the-subprocess-module">Replacing older functions with the subprocess module</a><ul>
<li><a class="reference internal" href="#replacing-bin-sh-shell-backquote">Replacing /bin/sh shell backquote</a></li>
<li><a class="reference internal" href="#replacing-shell-pipe-line">Replacing shell pipe line</a></li>
<li><a class="reference internal" href="#replacing-os-system">Replacing <code class="docutils literal notranslate"><span class="pre">os.system()</span></code></a></li>
<li><a class="reference internal" href="#replacing-os-spawn">Replacing <code class="docutils literal notranslate"><span class="pre">os.spawn*</span></code></a></li>
<li><a class="reference internal" href="#replacing-os-popen">Replacing <code class="docutils literal notranslate"><span class="pre">os.popen*</span></code></a></li>
<li><a class="reference internal" href="#replacing-popen2">Replacing <code class="docutils literal notranslate"><span class="pre">popen2.*</span></code></a></li>
</ul>
</li>
<li><a class="reference internal" href="#open-issues">Open Issues</a></li>
<li><a class="reference internal" href="#backwards-compatibility">Backwards Compatibility</a></li>
<li><a class="reference internal" href="#reference-implementation">Reference Implementation</a></li>
<li><a class="reference internal" href="#references">References</a></li>
<li><a class="reference internal" href="#copyright">Copyright</a></li>
</ul>

            <br>
            <a id="source" href="https://github.com/python/peps/blob/main/peps/pep-0324.rst?plain=1">Page Source (GitHub)</a>
        </nav>
    </section>
    <script src="../_static/colour_scheme.js"></script>
    <script src="../_static/wrap_tables.js"></script>
    <script src="../_static/sticky_banner.js"></script>
    <script src="https://analytics.python.org/js/script.outbound-links.js"
            data-domain="peps.python.org" defer></script>
</body>
</html>