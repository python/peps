
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="color-scheme" content="light dark">
    <title>PEP 548 – More Flexible Loop Control | peps.python.org</title>
    <link rel="shortcut icon" href="../_static/py.png">
    <link rel="canonical" href="https://peps.python.org/pep-0548/">
    <link rel="stylesheet" href="../_static/style.css" type="text/css">
    <link rel="stylesheet" href="../_static/mq.css" type="text/css">
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" media="(prefers-color-scheme: light)" id="pyg-light">
    <link rel="stylesheet" href="../_static/pygments_dark.css" type="text/css" media="(prefers-color-scheme: dark)" id="pyg-dark">
    <link rel="alternate" type="application/rss+xml" title="Latest PEPs" href="https://peps.python.org/peps.rss">
    <meta property="og:title" content='PEP 548 – More Flexible Loop Control | peps.python.org'>
    <meta property="og:description" content="This PEP proposes enhancing the break and continue statements with an optional boolean expression that controls whether or not they execute.  This allows the flow of control in loops to be expressed more clearly and compactly.">
    <meta property="og:type" content="website">
    <meta property="og:url" content="https://peps.python.org/pep-0548/">
    <meta property="og:site_name" content="Python Enhancement Proposals (PEPs)">
    <meta property="og:image" content="https://peps.python.org/_static/og-image.png">
    <meta property="og:image:alt" content="Python PEPs">
    <meta property="og:image:width" content="200">
    <meta property="og:image:height" content="200">
    <meta name="description" content="This PEP proposes enhancing the break and continue statements with an optional boolean expression that controls whether or not they execute.  This allows the flow of control in loops to be expressed more clearly and compactly.">
    <meta name="theme-color" content="#3776ab">
</head>
<body>
    
<svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
  <symbol id="svg-sun-half" viewBox="0 0 24 24" pointer-events="all">
    <title>Following system colour scheme</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none"
         stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
      <circle cx="12" cy="12" r="9"></circle>
      <path d="M12 3v18m0-12l4.65-4.65M12 14.3l7.37-7.37M12 19.6l8.85-8.85"></path>
    </svg>
  </symbol>
  <symbol id="svg-moon" viewBox="0 0 24 24" pointer-events="all">
    <title>Selected dark colour scheme</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none"
         stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
      <path stroke="none" d="M0 0h24v24H0z" fill="none"></path>
      <path d="M12 3c.132 0 .263 0 .393 0a7.5 7.5 0 0 0 7.92 12.446a9 9 0 1 1 -8.313 -12.454z"></path>
    </svg>
  </symbol>
  <symbol id="svg-sun" viewBox="0 0 24 24" pointer-events="all">
    <title>Selected light colour scheme</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none"
         stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
      <circle cx="12" cy="12" r="5"></circle>
      <line x1="12" y1="1" x2="12" y2="3"></line>
      <line x1="12" y1="21" x2="12" y2="23"></line>
      <line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line>
      <line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line>
      <line x1="1" y1="12" x2="3" y2="12"></line>
      <line x1="21" y1="12" x2="23" y2="12"></line>
      <line x1="4.22" y1="19.78" x2="5.64" y2="18.36"></line>
      <line x1="18.36" y1="5.64" x2="19.78" y2="4.22"></line>
    </svg>
  </symbol>
</svg>
    <script>

        document.documentElement.dataset.colour_scheme = localStorage.getItem("colour_scheme") || "auto"
    </script>
    <section id="pep-page-section">
        <header>
            <h1>Python Enhancement Proposals</h1>
            <ul class="breadcrumbs">
                <li><a href="https://www.python.org/" title="The Python Programming Language">Python</a> &raquo; </li>
                <li><a href="../pep-0000/">PEP Index</a> &raquo; </li>
                <li>PEP 548</li>
            </ul>
            <button id="colour-scheme-cycler" onClick="setColourScheme(nextColourScheme())">
                <svg aria-hidden="true" class="colour-scheme-icon-when-auto"><use href="#svg-sun-half"></use></svg>
                <svg aria-hidden="true" class="colour-scheme-icon-when-dark"><use href="#svg-moon"></use></svg>
                <svg aria-hidden="true" class="colour-scheme-icon-when-light"><use href="#svg-sun"></use></svg>
                <span class="visually-hidden">Toggle light / dark / auto colour theme</span>
            </button>
        </header>
        <article>
            <section id="pep-content">
<h1 class="page-title">PEP 548 – More Flexible Loop Control</h1>
<dl class="rfc2822 field-list simple">
<dt class="field-odd">Author<span class="colon">:</span></dt>
<dd class="field-odd">R David Murray</dd>
<dt class="field-even">Status<span class="colon">:</span></dt>
<dd class="field-even"><abbr title="Formally declined and will not be accepted">Rejected</abbr></dd>
<dt class="field-odd">Type<span class="colon">:</span></dt>
<dd class="field-odd"><abbr title="Normative PEP with a new feature for Python, implementation change for CPython or interoperability standard for the ecosystem">Standards Track</abbr></dd>
<dt class="field-even">Created<span class="colon">:</span></dt>
<dd class="field-even">05-Sep-2017</dd>
<dt class="field-odd">Python-Version<span class="colon">:</span></dt>
<dd class="field-odd">3.7</dd>
<dt class="field-even">Post-History<span class="colon">:</span></dt>
<dd class="field-even">05-Aug-2017</dd>
</dl>
<hr class="docutils" />
<section id="contents">
<details><summary>Table of Contents</summary><ul class="simple">
<li><a class="reference internal" href="#rejection-note">Rejection Note</a></li>
<li><a class="reference internal" href="#abstract">Abstract</a></li>
<li><a class="reference internal" href="#motivation">Motivation</a></li>
<li><a class="reference internal" href="#syntax">Syntax</a></li>
<li><a class="reference internal" href="#semantics">Semantics</a></li>
<li><a class="reference internal" href="#justification-and-examples">Justification and Examples</a></li>
<li><a class="reference internal" href="#copyright">Copyright</a></li>
</ul>
</details></section>
<section id="rejection-note">
<h2><a class="toc-backref" href="#rejection-note" role="doc-backlink">Rejection Note</a></h2>
<p>Rejection by Guido:
<a class="reference external" href="https://mail.python.org/pipermail/python-dev/2017-September/149232.html">https://mail.python.org/pipermail/python-dev/2017-September/149232.html</a></p>
</section>
<section id="abstract">
<h2><a class="toc-backref" href="#abstract" role="doc-backlink">Abstract</a></h2>
<p>This PEP proposes enhancing the <code class="docutils literal notranslate"><span class="pre">break</span></code> and <code class="docutils literal notranslate"><span class="pre">continue</span></code> statements
with an optional boolean expression that controls whether or not
they execute.  This allows the flow of control in loops to be
expressed more clearly and compactly.</p>
</section>
<section id="motivation">
<h2><a class="toc-backref" href="#motivation" role="doc-backlink">Motivation</a></h2>
<p>Quoting from the rejected <a class="pep reference internal" href="../pep-0315/" title="PEP 315 – Enhanced While Loop">PEP 315</a>:</p>
<blockquote>
<div>It is often necessary for some code to be executed before each
evaluation of the while loop condition.  This code is often
duplicated outside the loop, as setup code that executes once
before entering the loop:<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">&lt;</span><span class="n">setup</span> <span class="n">code</span><span class="o">&gt;</span>
<span class="k">while</span> <span class="o">&lt;</span><span class="n">condition</span><span class="o">&gt;</span><span class="p">:</span>
    <span class="o">&lt;</span><span class="n">loop</span> <span class="n">body</span><span class="o">&gt;</span>
    <span class="o">&lt;</span><span class="n">setup</span> <span class="n">code</span><span class="o">&gt;</span>
</pre></div>
</div>
</div></blockquote>
<p>That PEP was rejected because no syntax was found that was superior
to the following form:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="k">while</span> <span class="kc">True</span><span class="p">:</span>
    <span class="o">&lt;</span><span class="n">setup</span> <span class="n">code</span><span class="o">&gt;</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="o">&lt;</span><span class="n">condition</span><span class="o">&gt;</span><span class="p">:</span>
        <span class="k">break</span>
    <span class="o">&lt;</span><span class="n">loop</span> <span class="n">body</span><span class="o">&gt;</span>
</pre></div>
</div>
<p>This PEP proposes a superior form, one that also has application to
for loops. It is superior because it makes the flow of control in
loops more explicit, while preserving Python’s indentation aesthetic.</p>
</section>
<section id="syntax">
<h2><a class="toc-backref" href="#syntax" role="doc-backlink">Syntax</a></h2>
<p>The syntax of the break and continue statements are extended
as follows:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">break_stmt</span> <span class="p">:</span> <span class="s2">&quot;break&quot;</span> <span class="p">[</span><span class="s2">&quot;if&quot;</span> <span class="n">expression</span><span class="p">]</span>
<span class="n">continue_stmt</span> <span class="p">:</span> <span class="s2">&quot;continue&quot;</span> <span class="p">[</span><span class="s2">&quot;if&quot;</span> <span class="n">expression</span><span class="p">]</span>
</pre></div>
</div>
<p>In addition, the syntax of the while statement is modified as follows:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">while_stmt</span> <span class="p">:</span> <span class="n">while1_stmt</span><span class="o">|</span><span class="n">while2_stmt</span>
<span class="n">while1_stmt</span> <span class="p">:</span> <span class="s2">&quot;while&quot;</span> <span class="n">expression</span> <span class="s2">&quot;:&quot;</span> <span class="n">suite</span>
              <span class="p">[</span><span class="s2">&quot;else&quot;</span> <span class="s2">&quot;:&quot;</span> <span class="n">suite</span><span class="p">]</span>
<span class="n">while2_stmt</span> <span class="p">:</span> <span class="s2">&quot;while&quot;</span> <span class="s2">&quot;:&quot;</span> <span class="n">suite</span>
</pre></div>
</div>
</section>
<section id="semantics">
<h2><a class="toc-backref" href="#semantics" role="doc-backlink">Semantics</a></h2>
<p>A <code class="docutils literal notranslate"><span class="pre">break</span> <span class="pre">if</span></code> or <code class="docutils literal notranslate"><span class="pre">continue</span> <span class="pre">if</span></code> is executed if and only if
<code class="docutils literal notranslate"><span class="pre">expression</span></code> evaluates to true.</p>
<p>A <code class="docutils literal notranslate"><span class="pre">while</span></code> statement with no expression loops until a break or return
is executed (or an error is raised), as if it were a <code class="docutils literal notranslate"><span class="pre">while</span> <span class="pre">True</span></code>
statement.  Given that the loop can never terminate except in a
way that would not cause an <code class="docutils literal notranslate"><span class="pre">else</span></code> suite to execute, no <code class="docutils literal notranslate"><span class="pre">else</span></code>
suite is allowed in the expressionless form.  If practical, it
should also be an error if the body of an expressionless <code class="docutils literal notranslate"><span class="pre">while</span></code>
does not contain at least one <code class="docutils literal notranslate"><span class="pre">break</span></code> or <code class="docutils literal notranslate"><span class="pre">return</span></code> statement.</p>
</section>
<section id="justification-and-examples">
<h2><a class="toc-backref" href="#justification-and-examples" role="doc-backlink">Justification and Examples</a></h2>
<p>The previous “best possible” form:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="k">while</span> <span class="kc">True</span><span class="p">:</span>
    <span class="o">&lt;</span><span class="n">setup</span> <span class="n">code</span><span class="o">&gt;</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="o">&lt;</span><span class="n">condition</span><span class="o">&gt;</span><span class="p">:</span>
        <span class="k">break</span>
    <span class="o">&lt;</span><span class="n">loop</span> <span class="n">body</span><span class="o">&gt;</span>
</pre></div>
</div>
<p>could be formatted as:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="k">while</span> <span class="kc">True</span><span class="p">:</span>
    <span class="o">&lt;</span><span class="n">setup</span> <span class="n">code</span><span class="o">&gt;</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="o">&lt;</span><span class="n">condition</span><span class="o">&gt;</span><span class="p">:</span> <span class="k">break</span>
    <span class="o">&lt;</span><span class="n">loop</span> <span class="n">body</span><span class="o">&gt;</span>
</pre></div>
</div>
<p>This is superficially almost identical to the form proposed by this
PEP:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="k">while</span><span class="p">:</span>
    <span class="o">&lt;</span><span class="n">setup</span> <span class="n">code</span><span class="o">&gt;</span>
    <span class="k">break</span> <span class="k">if</span> <span class="ow">not</span> <span class="o">&lt;</span><span class="n">condition</span><span class="o">&gt;</span>
    <span class="o">&lt;</span><span class="n">loop</span> <span class="n">body</span><span class="o">&gt;</span>
</pre></div>
</div>
<p>The significant difference here is that the loop flow control
keyword appears <em>first</em> in the line of code.  This makes it easier
to comprehend the flow of control in the loop at a glance, especially
when reading colorized code.</p>
<p>For example, this is a common code pattern, taken in this case
from the tarfile module:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="k">while</span> <span class="kc">True</span><span class="p">:</span>
    <span class="n">buf</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_read</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">bufsize</span><span class="p">)</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="n">buf</span><span class="p">:</span>
        <span class="k">break</span>
    <span class="n">t</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">buf</span><span class="p">)</span>
</pre></div>
</div>
<p>Reading this, we either see the break and possibly need to think about
where the while is that it applies to, since the break is indented
under the if, and then track backward to read the condition that
triggers it; or, we read the condition and only afterward discover
that this condition changes the flow of the loop.</p>
<p>With the new syntax this becomes:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="k">while</span><span class="p">:</span>
    <span class="n">buf</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_read</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">bufsize</span><span class="p">)</span>
    <span class="k">break</span> <span class="k">if</span> <span class="ow">not</span> <span class="n">buf</span>
    <span class="n">t</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">buf</span><span class="p">)</span>
</pre></div>
</div>
<p>Reading this we first see the <code class="docutils literal notranslate"><span class="pre">break</span></code>, which obviously applies to
the while since it is at the same level of indentation as the loop
body, and then we read the condition that causes the flow of control
to change.</p>
<p>Further, consider a more complex example from sre_parse:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="k">while</span> <span class="kc">True</span><span class="p">:</span>
    <span class="n">c</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">next</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">__next</span><span class="p">()</span>
    <span class="k">if</span> <span class="n">c</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">result</span><span class="p">:</span>
            <span class="k">raise</span> <span class="bp">self</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="s2">&quot;missing group name&quot;</span><span class="p">)</span>
        <span class="k">raise</span> <span class="bp">self</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="s2">&quot;missing </span><span class="si">%s</span><span class="s2">, unterminated name&quot;</span> <span class="o">%</span> <span class="n">terminator</span><span class="p">,</span>
                         <span class="nb">len</span><span class="p">(</span><span class="n">result</span><span class="p">))</span>
    <span class="k">if</span> <span class="n">c</span> <span class="o">==</span> <span class="n">terminator</span><span class="p">:</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">result</span><span class="p">:</span>
            <span class="k">raise</span> <span class="bp">self</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="s2">&quot;missing group name&quot;</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span>
        <span class="k">break</span>
    <span class="n">result</span> <span class="o">+=</span> <span class="n">c</span>
<span class="k">return</span> <span class="n">result</span>
</pre></div>
</div>
<p>This is the natural way to write this code given current Python
loop control syntax.  However, given <code class="docutils literal notranslate"><span class="pre">break</span> <span class="pre">if</span></code>, it would be more
natural to write this as follows:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="k">while</span><span class="p">:</span>
    <span class="n">c</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">next</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">__next</span><span class="p">()</span>
    <span class="k">break</span> <span class="k">if</span> <span class="n">c</span> <span class="ow">is</span> <span class="kc">None</span> <span class="ow">or</span> <span class="n">c</span> <span class="o">==</span> <span class="n">terminator</span>
    <span class="n">result</span> <span class="o">+=</span> <span class="n">c</span>
<span class="k">if</span> <span class="ow">not</span> <span class="n">result</span><span class="p">:</span>
    <span class="k">raise</span> <span class="bp">self</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="s2">&quot;missing group name&quot;</span><span class="p">)</span>
<span class="k">elif</span> <span class="n">c</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
    <span class="k">raise</span> <span class="bp">self</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="s2">&quot;missing </span><span class="si">%s</span><span class="s2">, unterminated name&quot;</span> <span class="o">%</span> <span class="n">terminator</span><span class="p">,</span>
                     <span class="nb">len</span><span class="p">(</span><span class="n">result</span><span class="p">))</span>
<span class="k">return</span> <span class="n">result</span>
</pre></div>
</div>
<p>This form moves the error handling out of the loop body, leaving the
loop logic much more understandable.  While it would certainly be
possible to write the code this way using the current syntax, the
proposed syntax makes it more natural to write it in the clearer form.</p>
<p>The proposed syntax also provides a natural, Pythonic spelling of
the classic  <code class="docutils literal notranslate"><span class="pre">repeat</span> <span class="pre">...</span> <span class="pre">until</span> <span class="pre">&lt;expression&gt;</span></code> construct found in
other languages, and for which no good syntax has previously been
found for Python:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="k">while</span><span class="p">:</span>
    <span class="o">...</span>
    <span class="k">break</span> <span class="k">if</span> <span class="o">&lt;</span><span class="n">expression</span><span class="o">&gt;</span>
</pre></div>
</div>
<p>The tarfile module, for example, has a couple of “read until” loops like
the following:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="k">while</span> <span class="kc">True</span><span class="p">:</span>
    <span class="n">s</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">__read</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="n">s</span> <span class="ow">or</span> <span class="n">s</span> <span class="o">==</span> <span class="n">NUL</span><span class="p">:</span>
        <span class="k">break</span>
</pre></div>
</div>
<p>With the new syntax this would read more clearly:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="k">while</span><span class="p">:</span>
    <span class="n">s</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">__read</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
    <span class="k">break</span> <span class="k">if</span> <span class="ow">not</span> <span class="n">s</span> <span class="ow">or</span> <span class="n">s</span> <span class="o">==</span> <span class="n">NUL</span>
</pre></div>
</div>
<p>The case for extending this syntax to <code class="docutils literal notranslate"><span class="pre">continue</span></code> is less strong,
but buttressed by the value of consistency.</p>
<p>It is much more common for a <code class="docutils literal notranslate"><span class="pre">continue</span></code> statement to be at the
end of a multiline if suite, such as this example from zipfile</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="k">while</span> <span class="kc">True</span><span class="p">:</span>
    <span class="k">try</span><span class="p">:</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">fp</span> <span class="o">=</span> <span class="n">io</span><span class="o">.</span><span class="n">open</span><span class="p">(</span><span class="n">file</span><span class="p">,</span> <span class="n">filemode</span><span class="p">)</span>
    <span class="k">except</span> <span class="ne">OSError</span><span class="p">:</span>
        <span class="k">if</span> <span class="n">filemode</span> <span class="ow">in</span> <span class="n">modeDict</span><span class="p">:</span>
            <span class="n">filemode</span> <span class="o">=</span> <span class="n">modeDict</span><span class="p">[</span><span class="n">filemode</span><span class="p">]</span>
            <span class="k">continue</span>
        <span class="k">raise</span>
    <span class="k">break</span>
</pre></div>
</div>
<p>The only opportunity for improvement the new syntax would offer for
this loop would be the omission of the <code class="docutils literal notranslate"><span class="pre">True</span></code> token.</p>
<p>On the other hand, consider this example from uuid.py:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">adapters</span><span class="o">.</span><span class="n">length</span><span class="p">):</span>
    <span class="n">ncb</span><span class="o">.</span><span class="n">Reset</span><span class="p">()</span>
    <span class="n">ncb</span><span class="o">.</span><span class="n">Command</span> <span class="o">=</span> <span class="n">netbios</span><span class="o">.</span><span class="n">NCBRESET</span>
    <span class="n">ncb</span><span class="o">.</span><span class="n">Lana_num</span> <span class="o">=</span> <span class="nb">ord</span><span class="p">(</span><span class="n">adapters</span><span class="o">.</span><span class="n">lana</span><span class="p">[</span><span class="n">i</span><span class="p">])</span>
    <span class="k">if</span> <span class="n">win32wnet</span><span class="o">.</span><span class="n">Netbios</span><span class="p">(</span><span class="n">ncb</span><span class="p">)</span> <span class="o">!=</span> <span class="mi">0</span><span class="p">:</span>
        <span class="k">continue</span>
    <span class="n">ncb</span><span class="o">.</span><span class="n">Reset</span><span class="p">()</span>
    <span class="n">ncb</span><span class="o">.</span><span class="n">Command</span> <span class="o">=</span> <span class="n">netbios</span><span class="o">.</span><span class="n">NCBASTAT</span>
    <span class="n">ncb</span><span class="o">.</span><span class="n">Lana_num</span> <span class="o">=</span> <span class="nb">ord</span><span class="p">(</span><span class="n">adapters</span><span class="o">.</span><span class="n">lana</span><span class="p">[</span><span class="n">i</span><span class="p">])</span>
    <span class="n">ncb</span><span class="o">.</span><span class="n">Callname</span> <span class="o">=</span> <span class="s1">&#39;*&#39;</span><span class="o">.</span><span class="n">ljust</span><span class="p">(</span><span class="mi">16</span><span class="p">)</span>
    <span class="n">ncb</span><span class="o">.</span><span class="n">Buffer</span> <span class="o">=</span> <span class="n">status</span> <span class="o">=</span> <span class="n">netbios</span><span class="o">.</span><span class="n">ADAPTER_STATUS</span><span class="p">()</span>
    <span class="k">if</span> <span class="n">win32wnet</span><span class="o">.</span><span class="n">Netbios</span><span class="p">(</span><span class="n">ncb</span><span class="p">)</span> <span class="o">!=</span> <span class="mi">0</span><span class="p">:</span>
        <span class="k">continue</span>
    <span class="n">status</span><span class="o">.</span><span class="n">_unpack</span><span class="p">()</span>
    <span class="nb">bytes</span> <span class="o">=</span> <span class="n">status</span><span class="o">.</span><span class="n">adapter_address</span><span class="p">[:</span><span class="mi">6</span><span class="p">]</span>
    <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="nb">bytes</span><span class="p">)</span> <span class="o">!=</span> <span class="mi">6</span><span class="p">:</span>
        <span class="k">continue</span>
    <span class="k">return</span> <span class="nb">int</span><span class="o">.</span><span class="n">from_bytes</span><span class="p">(</span><span class="nb">bytes</span><span class="p">,</span> <span class="s1">&#39;big&#39;</span><span class="p">)</span>
</pre></div>
</div>
<p>This becomes:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">adapters</span><span class="o">.</span><span class="n">length</span><span class="p">):</span>
    <span class="n">ncb</span><span class="o">.</span><span class="n">Reset</span><span class="p">()</span>
    <span class="n">ncb</span><span class="o">.</span><span class="n">Command</span> <span class="o">=</span> <span class="n">netbios</span><span class="o">.</span><span class="n">NCBRESET</span>
    <span class="n">ncb</span><span class="o">.</span><span class="n">Lana_num</span> <span class="o">=</span> <span class="nb">ord</span><span class="p">(</span><span class="n">adapters</span><span class="o">.</span><span class="n">lana</span><span class="p">[</span><span class="n">i</span><span class="p">])</span>
    <span class="k">continue</span> <span class="k">if</span> <span class="n">win32wnet</span><span class="o">.</span><span class="n">Netbios</span><span class="p">(</span><span class="n">ncb</span><span class="p">)</span> <span class="o">!=</span> <span class="mi">0</span>
    <span class="n">ncb</span><span class="o">.</span><span class="n">Reset</span><span class="p">()</span>
    <span class="n">ncb</span><span class="o">.</span><span class="n">Command</span> <span class="o">=</span> <span class="n">netbios</span><span class="o">.</span><span class="n">NCBASTAT</span>
    <span class="n">ncb</span><span class="o">.</span><span class="n">Lana_num</span> <span class="o">=</span> <span class="nb">ord</span><span class="p">(</span><span class="n">adapters</span><span class="o">.</span><span class="n">lana</span><span class="p">[</span><span class="n">i</span><span class="p">])</span>
    <span class="n">ncb</span><span class="o">.</span><span class="n">Callname</span> <span class="o">=</span> <span class="s1">&#39;*&#39;</span><span class="o">.</span><span class="n">ljust</span><span class="p">(</span><span class="mi">16</span><span class="p">)</span>
    <span class="n">ncb</span><span class="o">.</span><span class="n">Buffer</span> <span class="o">=</span> <span class="n">status</span> <span class="o">=</span> <span class="n">netbios</span><span class="o">.</span><span class="n">ADAPTER_STATUS</span><span class="p">()</span>
    <span class="k">continue</span> <span class="k">if</span> <span class="n">win32wnet</span><span class="o">.</span><span class="n">Netbios</span><span class="p">(</span><span class="n">ncb</span><span class="p">)</span> <span class="o">!=</span> <span class="mi">0</span>
    <span class="n">status</span><span class="o">.</span><span class="n">_unpack</span><span class="p">()</span>
    <span class="nb">bytes</span> <span class="o">=</span> <span class="n">status</span><span class="o">.</span><span class="n">adapter_address</span><span class="p">[:</span><span class="mi">6</span><span class="p">]</span>
    <span class="k">continue</span> <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="nb">bytes</span><span class="p">)</span> <span class="o">!=</span> <span class="mi">6</span>
    <span class="k">return</span> <span class="nb">int</span><span class="o">.</span><span class="n">from_bytes</span><span class="p">(</span><span class="nb">bytes</span><span class="p">,</span> <span class="s1">&#39;big&#39;</span><span class="p">)</span>
</pre></div>
</div>
<p>This example indicates that there are non-trivial use cases where
<code class="docutils literal notranslate"><span class="pre">continue</span> <span class="pre">if</span></code> also improves the readability of the loop code.</p>
<p>It is probably significant to note that all of the examples selected
for this PEP were found by grepping the standard library for <code class="docutils literal notranslate"><span class="pre">while</span>
<span class="pre">True</span></code> and <code class="docutils literal notranslate"><span class="pre">continue</span></code>, and the relevant examples were found in
the first four modules inspected.</p>
</section>
<section id="copyright">
<h2><a class="toc-backref" href="#copyright" role="doc-backlink">Copyright</a></h2>
<p>This document is placed in the public domain.</p>
</section>
</section>
<hr class="docutils" />
<p>Source: <a class="reference external" href="https://github.com/python/peps/blob/main/peps/pep-0548.rst">https://github.com/python/peps/blob/main/peps/pep-0548.rst</a></p>
<p>Last modified: <a class="reference external" href="https://github.com/python/peps/commits/main/peps/pep-0548.rst">2025-02-01 08:59:27 GMT</a></p>

        </article>
        <nav id="pep-sidebar">
            <h2>Contents</h2>
            <ul>
<li><a class="reference internal" href="#rejection-note">Rejection Note</a></li>
<li><a class="reference internal" href="#abstract">Abstract</a></li>
<li><a class="reference internal" href="#motivation">Motivation</a></li>
<li><a class="reference internal" href="#syntax">Syntax</a></li>
<li><a class="reference internal" href="#semantics">Semantics</a></li>
<li><a class="reference internal" href="#justification-and-examples">Justification and Examples</a></li>
<li><a class="reference internal" href="#copyright">Copyright</a></li>
</ul>

            <br>
            <a id="source" href="https://github.com/python/peps/blob/main/peps/pep-0548.rst?plain=1">Page Source (GitHub)</a>
        </nav>
    </section>
    <script src="../_static/colour_scheme.js"></script>
    <script src="../_static/wrap_tables.js"></script>
    <script src="../_static/sticky_banner.js"></script>
    <script src="https://analytics.python.org/js/script.outbound-links.js"
            data-domain="peps.python.org" defer></script>
</body>
</html>