
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="color-scheme" content="light dark">
    <title>PEP 794 – Import Name Metadata | peps.python.org</title>
    <link rel="shortcut icon" href="../_static/py.png">
    <link rel="canonical" href="https://peps.python.org/pep-0794/">
    <link rel="stylesheet" href="../_static/style.css" type="text/css">
    <link rel="stylesheet" href="../_static/mq.css" type="text/css">
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" media="(prefers-color-scheme: light)" id="pyg-light">
    <link rel="stylesheet" href="../_static/pygments_dark.css" type="text/css" media="(prefers-color-scheme: dark)" id="pyg-dark">
    <link rel="alternate" type="application/rss+xml" title="Latest PEPs" href="https://peps.python.org/peps.rss">
    <meta property="og:title" content='PEP 794 – Import Name Metadata | peps.python.org'>
    <meta property="og:description" content="This PEP proposes extending the core metadata specification for Python packaging to include two new, repeatable fields named Import-Name and Import-Namespace to record the import names that a project provides once installed. New keys named import-names ...">
    <meta property="og:type" content="website">
    <meta property="og:url" content="https://peps.python.org/pep-0794/">
    <meta property="og:site_name" content="Python Enhancement Proposals (PEPs)">
    <meta property="og:image" content="https://peps.python.org/_static/og-image.png">
    <meta property="og:image:alt" content="Python PEPs">
    <meta property="og:image:width" content="200">
    <meta property="og:image:height" content="200">
    <meta name="description" content="This PEP proposes extending the core metadata specification for Python packaging to include two new, repeatable fields named Import-Name and Import-Namespace to record the import names that a project provides once installed. New keys named import-names ...">
    <meta name="theme-color" content="#3776ab">
</head>
<body>
    
<svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
  <symbol id="svg-sun-half" viewBox="0 0 24 24" pointer-events="all">
    <title>Following system colour scheme</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none"
         stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
      <circle cx="12" cy="12" r="9"></circle>
      <path d="M12 3v18m0-12l4.65-4.65M12 14.3l7.37-7.37M12 19.6l8.85-8.85"></path>
    </svg>
  </symbol>
  <symbol id="svg-moon" viewBox="0 0 24 24" pointer-events="all">
    <title>Selected dark colour scheme</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none"
         stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
      <path stroke="none" d="M0 0h24v24H0z" fill="none"></path>
      <path d="M12 3c.132 0 .263 0 .393 0a7.5 7.5 0 0 0 7.92 12.446a9 9 0 1 1 -8.313 -12.454z"></path>
    </svg>
  </symbol>
  <symbol id="svg-sun" viewBox="0 0 24 24" pointer-events="all">
    <title>Selected light colour scheme</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none"
         stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
      <circle cx="12" cy="12" r="5"></circle>
      <line x1="12" y1="1" x2="12" y2="3"></line>
      <line x1="12" y1="21" x2="12" y2="23"></line>
      <line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line>
      <line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line>
      <line x1="1" y1="12" x2="3" y2="12"></line>
      <line x1="21" y1="12" x2="23" y2="12"></line>
      <line x1="4.22" y1="19.78" x2="5.64" y2="18.36"></line>
      <line x1="18.36" y1="5.64" x2="19.78" y2="4.22"></line>
    </svg>
  </symbol>
</svg>
    <script>

        document.documentElement.dataset.colour_scheme = localStorage.getItem("colour_scheme") || "auto"
    </script>
    <section id="pep-page-section">
        <header>
            <h1 data-pagefind-ignore>Python Enhancement Proposals</h1>
            <ul class="breadcrumbs">
                <li><a href="https://www.python.org/" title="The Python Programming Language">Python</a> &raquo; </li>
                <li><a href="../pep-0000/">PEP Index</a> &raquo; </li>
                <li>PEP 794</li>
            </ul>
            <button id="colour-scheme-cycler" onClick="setColourScheme(nextColourScheme())">
                <svg aria-hidden="true" class="colour-scheme-icon-when-auto"><use href="#svg-sun-half"></use></svg>
                <svg aria-hidden="true" class="colour-scheme-icon-when-dark"><use href="#svg-moon"></use></svg>
                <svg aria-hidden="true" class="colour-scheme-icon-when-light"><use href="#svg-sun"></use></svg>
                <span class="visually-hidden">Toggle light / dark / auto colour theme</span>
            </button>
        </header>
        
        <div id="mobile-search" class="mobile-search-container"></div>
        
        <article data-pagefind-body>
            
            <span data-pagefind-meta="title:PEP 794 – Import Name Metadata" data-pagefind-weight="10" class="visually-hidden">PEP 794 – Import Name Metadata</span>
            <section id="pep-content">
<h1 class="page-title">PEP 794 – Import Name Metadata</h1>
<dl class="rfc2822 field-list simple">
<dt class="field-odd">Author<span class="colon">:</span></dt>
<dd class="field-odd">Brett Cannon &lt;brett&#32;&#97;t&#32;python.org&gt;</dd>
<dt class="field-even">Discussions-To<span class="colon">:</span></dt>
<dd class="field-even"><a class="reference external" href="https://discuss.python.org/t/94567">Discourse thread</a></dd>
<dt class="field-odd">Status<span class="colon">:</span></dt>
<dd class="field-odd"><abbr title="Normative proposal accepted for implementation">Accepted</abbr></dd>
<dt class="field-even">Type<span class="colon">:</span></dt>
<dd class="field-even"><abbr title="Normative PEP with a new feature for Python, implementation change for CPython or interoperability standard for the ecosystem">Standards Track</abbr></dd>
<dt class="field-odd">Topic<span class="colon">:</span></dt>
<dd class="field-odd"><a class="reference external" href="../topic/packaging/">Packaging</a></dd>
<dt class="field-even">Created<span class="colon">:</span></dt>
<dd class="field-even">05-Jun-2025</dd>
<dt class="field-odd">Post-History<span class="colon">:</span></dt>
<dd class="field-odd"><a class="reference external" href="https://discuss.python.org/t/90506" title="Discourse thread">02-May-2025</a>,
<a class="reference external" href="https://discuss.python.org/t/94567" title="Discourse thread">05-Jun-2025</a></dd>
<dt class="field-even">Resolution<span class="colon">:</span></dt>
<dd class="field-even"><a class="reference external" href="https://discuss.python.org/t/94567/85">05-Sep-2025</a></dd>
</dl>
<hr class="docutils" />
<section id="contents">
<details><summary>Table of Contents</summary><ul class="simple">
<li><a class="reference internal" href="#abstract">Abstract</a></li>
<li><a class="reference internal" href="#motivation">Motivation</a></li>
<li><a class="reference internal" href="#rationale">Rationale</a></li>
<li><a class="reference internal" href="#specification">Specification</a><ul>
<li><a class="reference internal" href="#examples">Examples</a></li>
</ul>
</li>
<li><a class="reference internal" href="#backwards-compatibility">Backwards Compatibility</a></li>
<li><a class="reference internal" href="#security-implications">Security Implications</a></li>
<li><a class="reference internal" href="#how-to-teach-this">How to Teach This</a></li>
<li><a class="reference internal" href="#reference-implementation">Reference Implementation</a></li>
<li><a class="reference internal" href="#rejected-ideas">Rejected Ideas</a><ul>
<li><a class="reference internal" href="#infer-the-value-for-import-namespace">Infer the value for <code class="docutils literal notranslate"><span class="pre">Import-Namespace</span></code></a></li>
<li><a class="reference internal" href="#require-that-names-listed-in-import-namespace-never-be-contained-by-a-name-in-import-name">Require that names listed in <code class="docutils literal notranslate"><span class="pre">Import-Namespace</span></code> never be contained by a name in <code class="docutils literal notranslate"><span class="pre">Import-Name</span></code></a></li>
<li><a class="reference internal" href="#re-purpose-the-provides-field">Re-purpose the <code class="docutils literal notranslate"><span class="pre">Provides</span></code> field</a></li>
<li><a class="reference internal" href="#name-the-field-namespace">Name the field <code class="docutils literal notranslate"><span class="pre">Namespace</span></code></a></li>
<li><a class="reference internal" href="#serving-the-record-file">Serving the <code class="docutils literal notranslate"><span class="pre">RECORD</span></code> file</a></li>
<li><a class="reference internal" href="#be-more-prescriptive-in-what-projects-specify">Be more prescriptive in what projects specify</a></li>
</ul>
</li>
<li><a class="reference internal" href="#open-issues">Open Issues</a></li>
<li><a class="reference internal" href="#acknowledgments">Acknowledgments</a></li>
<li><a class="reference internal" href="#copyright">Copyright</a></li>
</ul>
</details></section>
<section id="abstract">
<h2><a class="toc-backref" href="#abstract" role="doc-backlink">Abstract</a></h2>
<p>This PEP proposes extending the core metadata specification for Python
packaging to include two new, repeatable fields named <code class="docutils literal notranslate"><span class="pre">Import-Name</span></code> and
<code class="docutils literal notranslate"><span class="pre">Import-Namespace</span></code> to record the import names that a project provides once
installed. New keys named <code class="docutils literal notranslate"><span class="pre">import-names</span></code> and <code class="docutils literal notranslate"><span class="pre">import-namespaces</span></code> will be
added to the <code class="docutils literal notranslate"><span class="pre">[project]</span></code> table in <code class="file docutils literal notranslate"><span class="pre">pyproject.toml</span></code> for providing the
values for the new core metadata fields. This also leads to the introduction of
core metadata version 2.5.</p>
</section>
<section id="motivation">
<h2><a class="toc-backref" href="#motivation" role="doc-backlink">Motivation</a></h2>
<p>In Python packaging there is no requirement that a project name match the
name(s) that you can import for that project. As such, there is no clean,
easy, accurate way to go from import name to project name and vice versa.
This can make it difficult for tools that try to help people in discovering
the right project to install when they know the import name or knowing what
import names a project will provide once installed.</p>
<p>As an example, a code editor may detect a user has an unsatisfied import in a
selected virtual environment. But with no way to reliably know what import
names various projects provide, the code editor cannot accurately
provide a user with a list of potential projects to install to satisfy that
import requirement (e.g. it is not obvious that <code class="docutils literal notranslate"><span class="pre">import</span> <span class="pre">PIL</span></code> very likely
implies the user wants the <a class="reference external" href="https://pypi.org/project/pillow/">Pillow project</a> installed). This also applies to when a
user vaguely remembers the project name but does not remember the import
name(s) and would have their memory jogged when seeing a list of import names
a package provides. Finally, tools would be able to notify users what import
names will become available once they install a project.</p>
<p>There is also no easy way to know whether installing two projects will conflict
with one another based on the import names they provide. For instance, if two
different projects have a <code class="docutils literal notranslate"><span class="pre">_utils</span></code> module, installing both projects will lead
to a clash as one project’s <code class="docutils literal notranslate"><span class="pre">_utils</span></code> module would take precedence over the
other’s, by overwriting the other project’s file; this issue
has been <a class="reference external" href="https://github.com/astral-sh/uv/pull/13437">seen in the wild</a>.</p>
<p>It may also help with spam detection. If a project specifies the same import
names as a very popular project it can act as a signal to take a closer look
at the validity of the less popular project. A project found to be lying
about what import names it provides would be another signal.</p>
</section>
<section id="rationale">
<h2><a class="toc-backref" href="#rationale" role="doc-backlink">Rationale</a></h2>
<p>This PEP proposes extending the packaging <a class="reference external" href="https://packaging.python.org/en/latest/specifications/core-metadata/#core-metadata" title="(in Python Packaging User Guide)"><span>Core metadata specifications</span></a> so
that project owners can specify the highest-level import names that a project
provides if installed on some platform.</p>
<p>Putting this metadata in the core metadata means the data is (potentially)
served by an index server, independent of any sdist or wheel. That negates
needing to come up with a way to expose the metadata to tools to avoid
having to download an entire e.g. wheel.</p>
<p>Having this metadata be the same across all release artifacts would allow for
projects to only have to check a single file’s core metadata to get all
possible import names instead of checking all the released files. This also
means one does not need to worry if a file is missing when reading the core
metadata or one can work solely from an sdist if the metadata is provided. As
well, it simplifies having <code class="docutils literal notranslate"><span class="pre">project.import-names</span></code> and
<code class="docutils literal notranslate"><span class="pre">project.import-namespaces</span></code> keys in <code class="file docutils literal notranslate"><span class="pre">pyproject.toml</span></code> by having it be
consistent for the entire project version and not unique per released file for
the same version.</p>
<p>A distribution file containing modules and packages can have any combination of
public and private APIs at the module/package level. Distribution files can also
contain no modules or packages of any kind. Being able to distinguish between
the situations all have various tool uses that could be beneficial to users. For
instance, knowing all import names regardless of whether they are public or
private helps detect clashes at install time. But knowing what is explicitly
public or private allows tools such as editors to not suggest private import
names as part of auto-complete.</p>
<p>This PEP is not overly strict on what to (not) list in the proposed metadata on
purpose. Having build back-ends verify that a project is accurately following
a specification that is somehow strict about what can be listed would be nearly
impossible to get right due to how flexible Python’s import system is. As such,
this PEP only requires that valid import names be used and that projects don’t
lie (and it is acknowledged the latter requirement cannot be validated
programmatically). Projects do, though, need to account for all levels of the
names they list (e.g. you can’t list <code class="docutils literal notranslate"><span class="pre">a.b.c</span></code> and not account for <code class="docutils literal notranslate"><span class="pre">a</span></code> and
<code class="docutils literal notranslate"><span class="pre">a.b</span></code>).</p>
<p>Various other attempts have been made to solve this, but they all have to
make trade-offs. For instance, one could download every wheel for
every project release and look at what files are provided via the
<a class="reference external" href="https://packaging.python.org/en/latest/specifications/binary-distribution-format/#binary-distribution-format" title="(in Python Packaging User Guide)"><span>Binary distribution format</span></a>, but that’s a lot of CPU and
bandwidth for something that is static information (although tricks can be
used to lessen the data requests such as using HTTP range requests to only
read the table of contents of the zip file). This sort of calculation is also
currently repeated by everyone independently instead of having the metadata
hosted by a central index server like PyPI. It also doesn’t work for sdists
as the structure of the wheel isn’t known yet, and so inferring the structure
of the code installed isn’t possible. As well, these solutions are not
necessarily accurate as they are based on inference instead of being explicitly
provided by the project owners. All of these accuracy issues affect even having
an index host the information to avoid the compute costs of gathering it.</p>
</section>
<section id="specification">
<h2><a class="toc-backref" href="#specification" role="doc-backlink">Specification</a></h2>
<p>Because this PEP introduces a new field to the core metadata, it bumps the
latest core metadata version to 2.5.</p>
<p>The <code class="docutils literal notranslate"><span class="pre">Import-Name</span></code> and <code class="docutils literal notranslate"><span class="pre">Import-Namespace</span></code> fields are “multiple uses” fields.
Each entry of both fields MUST be a valid import name or can be empty in the
case of <code class="docutils literal notranslate"><span class="pre">Import-Name</span></code>. Any names specified MUST be importable when the project
is installed on <em>some</em> platform for the same version of the project (e.g. the
metadata MUST be consistent across all sdists and wheels for a project release).
This does imply that the information isn’t specific to the distribution artifact
it is found in, but to the release version the distribution artifact belongs to.</p>
<p>An import name MAY be followed by a semicolon and the term “private” (e.g.
<code class="docutils literal notranslate"><span class="pre">;</span> <span class="pre">private</span></code>). This signals to tools that the import name is not part of the
public API for the project. Any number of spaces surrounding the <code class="docutils literal notranslate"><span class="pre">;</span></code> is
allowed.</p>
<p><code class="docutils literal notranslate"><span class="pre">Import-Name</span></code> lists import names which a project, when installed, would
<em>exclusively</em> provide (i.e. if two projects were installed with the same import
names listed in <code class="docutils literal notranslate"><span class="pre">Import-Name</span></code>, then one of the projects would shadow the
name for the other). <code class="docutils literal notranslate"><span class="pre">Import-Namespace</span></code> lists import names that, when
installed, would be provided by the project, but not exclusively (i.e.
projects all listing the same import name in <code class="docutils literal notranslate"><span class="pre">Import-Namespace</span></code> being
installed together would not shadow those shared names).</p>
<p>The <a class="reference external" href="https://packaging.python.org/en/latest/specifications/pyproject-toml/#declaring-project-metadata" title="(in Python Packaging User Guide)"><span>pyproject.toml specification</span></a> will gain an <code class="docutils literal notranslate"><span class="pre">import-names</span></code> key. It
will be an array of strings that stores what will be written out to
<code class="docutils literal notranslate"><span class="pre">Import-Name</span></code>. Build back-ends MAY support dynamically calculating the
value on the user’s behalf if desired, if the user declares the key in
<code class="docutils literal notranslate"><span class="pre">project.dynamic</span></code>. The same applies to <code class="docutils literal notranslate"><span class="pre">import-namespaces</span></code> for
<code class="docutils literal notranslate"><span class="pre">Import-Namespace</span></code>.</p>
<p>Projects SHOULD list all the shortest import names that are exclusively provided
by a project which would cover all import name scenarios. If any of the shortest
names are dotted names, all intervening names from that name to the top-level
name should also be listed appropriately in <code class="docutils literal notranslate"><span class="pre">Import-Namespace</span></code> and/or
<code class="docutils literal notranslate"><span class="pre">Import-Name</span></code>. For instance, a project which is a single package named
<code class="docutils literal notranslate"><span class="pre">spam</span></code> with multiple submodules would only list
<code class="docutils literal notranslate"><span class="pre">project.import-names</span> <span class="pre">=</span> <span class="pre">[&quot;spam&quot;]</span></code>. A project that lists <code class="docutils literal notranslate"><span class="pre">spam.bacon.eggs</span></code>
would also need to account for <code class="docutils literal notranslate"><span class="pre">spam</span></code> and <code class="docutils literal notranslate"><span class="pre">spam.bacon</span></code> appropriately in
<code class="docutils literal notranslate"><span class="pre">import-names</span></code> and <code class="docutils literal notranslate"><span class="pre">import-namespaces</span></code>. Listing all names acts as a check
that the intent of the import names is as expected. As well, projects SHOULD
list all import names, public or private, using the <code class="docutils literal notranslate"><span class="pre">;</span> <span class="pre">private</span></code> modifier
as appropriate.</p>
<p>If a project lists the same name in both <code class="docutils literal notranslate"><span class="pre">Import-Name</span></code> and
<code class="docutils literal notranslate"><span class="pre">Import-Namespace</span></code>, then tools MUST raise an error due to ambiguity; this also
applies to <code class="docutils literal notranslate"><span class="pre">import-names</span></code> and <code class="docutils literal notranslate"><span class="pre">import-namespaces</span></code>, respectively.</p>
<p>Tools SHOULD raise an error when two projects that are about to be installed by
a tool list names that overlap in each other’s <code class="docutils literal notranslate"><span class="pre">Import-Name</span></code> entries (i.e.
installed in the same command/action). This is to avoid projects unexpectedly
shadowing another project’s code. The same applies to when a project has an
entry in <code class="docutils literal notranslate"><span class="pre">Import-Name</span></code> that overlaps with another project’s
<code class="docutils literal notranslate"><span class="pre">Import-Namespace</span></code> entries. This does not apply to overlapping
<code class="docutils literal notranslate"><span class="pre">Import-Namespace</span></code> entries as that’s the purpose of namespace packages. Tools
MAY warn or raise an error when installing a project into a preexisting
environment where there is import name overlap with a project that is already
installed. This is a “MAY” and not a “SHOULD” due to some users purposefully
overwriting import names when installation is done in multiple steps (e.g.
using different installers with the same environment).</p>
<p>Projects MAY set <code class="docutils literal notranslate"><span class="pre">import-names</span></code> an empty array and not set
<code class="docutils literal notranslate"><span class="pre">import-namespaces</span></code> at all in a <code class="file docutils literal notranslate"><span class="pre">pyproject.toml</span></code> file (e.g.
<code class="docutils literal notranslate"><span class="pre">import-names</span> <span class="pre">=</span> <span class="pre">[]</span></code>). To match this, projects MAY have an empty
<code class="docutils literal notranslate"><span class="pre">Import-Name</span></code> field in their metadata. This represents a project with NO
import names, public or private (i.e. there are no Python modules of any kind
in the distribution file).</p>
<p>Since projects MAY have no <code class="docutils literal notranslate"><span class="pre">Import-Name</span></code> metadata (either because the project
uses an older metadata version, or because it didn’t specify any), then tools
have no information about what names the project provides. However, in practice
the majority of projects have their project name match what their import name
would be. As such, it is a reasonable assumption to make that a project name
that is normalized in some way to an import name (e.g.
<code class="docutils literal notranslate"><span class="pre">packaging.utils.canonicalize_name(name,</span> <span class="pre">validate=True).replace(&quot;-&quot;,</span> <span class="pre">&quot;_&quot;)</span></code>)
can be used if some answer is needed.</p>
<p>Projects MAY set <code class="docutils literal notranslate"><span class="pre">import-names</span></code> or <code class="docutils literal notranslate"><span class="pre">import-namespaces</span></code> – as well as
<code class="docutils literal notranslate"><span class="pre">Import-Name</span></code> or <code class="docutils literal notranslate"><span class="pre">Import-Namespace</span></code>, respectively – to an import name that
matches the project name (normalized or not) to explicitly declare that the
project’s name is also the import name.</p>
<section id="examples">
<h3><a class="toc-backref" href="#examples" role="doc-backlink">Examples</a></h3>
<p>For <a class="reference external" href="https://pypi-browser.org/package/scikit-learn/scikit_learn-1.7.0-cp313-cp313-manylinux_2_17_x86_64.manylinux2014_x86_64.whl">scikit-learn 1.7.0</a>:</p>
<div class="highlight-TOML notranslate"><div class="highlight"><pre><span></span><span class="k">[project]</span>
<span class="n">import-names</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">[</span><span class="s2">&quot;sklearn&quot;</span><span class="p">]</span>
</pre></div>
</div>
<p>For <a class="reference external" href="https://pypi-browser.org/package/pytest/pytest-8.3.5-py3-none-any.whl">pytest 8.3.5</a>
there would be 3 expected entries:</p>
<div class="highlight-TOML notranslate"><div class="highlight"><pre><span></span><span class="k">[project]</span>
<span class="c1"># The pytest docs list code out of all of these modules, so it isn&#39;t</span>
<span class="c1"># obvious whether they would mark any as private.</span>
<span class="n">import-names</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">[</span><span class="s2">&quot;_pytest&quot;</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;py&quot;</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;pytest&quot;</span><span class="p">]</span>
</pre></div>
</div>
<p>For <a class="reference external" href="https://pypi-browser.org/package/azure-mgmt-search/azure_mgmt_search-9.1.0-py3-none-any.whl">azure-mgmt-search 9.1.0</a>,
there should be two namespace entries and one name entry for
<code class="docutils literal notranslate"><span class="pre">azure.mgmt.search</span></code>:</p>
<div class="highlight-TOML notranslate"><div class="highlight"><pre><span></span><span class="k">[project]</span>
<span class="n">import-names</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">[</span><span class="s2">&quot;azure.mgmt.search&quot;</span><span class="p">]</span>
<span class="n">import-namespaces</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">[</span><span class="s2">&quot;azure&quot;</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;azure.mgmt&quot;</span><span class="p">]</span>
</pre></div>
</div>
</section>
</section>
<section id="backwards-compatibility">
<h2><a class="toc-backref" href="#backwards-compatibility" role="doc-backlink">Backwards Compatibility</a></h2>
<p>As this is a new field for the core metadata and a new core metadata version,
there should be no backwards compatibility concerns.</p>
</section>
<section id="security-implications">
<h2><a class="toc-backref" href="#security-implications" role="doc-backlink">Security Implications</a></h2>
<p>Tools should treat the metadata as potentially inaccurate. As such, any
decisions made based on the provided metadata should be assumed to be
malicious in some way.</p>
</section>
<section id="how-to-teach-this">
<h2><a class="toc-backref" href="#how-to-teach-this" role="doc-backlink">How to Teach This</a></h2>
<p>Project owners should be taught that they can now record what names their
projects provide for importing. If their project name matches the module or
package name their project provides they don’t have to do anything. If there is
a difference, though, they should record all the import names their project
provides, using the shortest names possible. If any of the names are implicit
namespaces, those go into <code class="docutils literal notranslate"><span class="pre">project.import-namespaces</span></code> in
<code class="file docutils literal notranslate"><span class="pre">pyproject.toml</span></code>, otherwise the name goes into <code class="docutils literal notranslate"><span class="pre">project.import-names</span></code>.</p>
<p>Users of projects don’t necessarily need to know about this new metadata.
While they may be exposed to it via tooling, the details of where that data
came from isn’t critical. It’s possible they may come across it if an index
server exposes it (e.g., lists the values from <code class="docutils literal notranslate"><span class="pre">Import-Name</span></code> and marks
whether the file structure backs up the claims the metadata makes), but that
still wouldn’t require users to know the technical details of this PEP.</p>
</section>
<section id="reference-implementation">
<h2><a class="toc-backref" href="#reference-implementation" role="doc-backlink">Reference Implementation</a></h2>
<p><a class="reference external" href="https://github.com/brettcannon/packaging/tree/pep-794">https://github.com/brettcannon/packaging/tree/pep-794</a> is a branch to update
‘packaging’ to support this PEP.</p>
</section>
<section id="rejected-ideas">
<h2><a class="toc-backref" href="#rejected-ideas" role="doc-backlink">Rejected Ideas</a></h2>
<section id="infer-the-value-for-import-namespace">
<h3><a class="toc-backref" href="#infer-the-value-for-import-namespace" role="doc-backlink">Infer the value for <code class="docutils literal notranslate"><span class="pre">Import-Namespace</span></code></a></h3>
<p>A previous version of this PEP inferred what would have been the values for
<code class="docutils literal notranslate"><span class="pre">Import-Namespace</span></code> based on dotted names in <code class="docutils literal notranslate"><span class="pre">Import-Name</span></code>. It was decided
that it would be better to be explicit not only to avoid mistakes by accidentally
listing something that would be interpreted as an implicit namespace, but it
also made the data more self-documenting.</p>
</section>
<section id="require-that-names-listed-in-import-namespace-never-be-contained-by-a-name-in-import-name">
<h3><a class="toc-backref" href="#require-that-names-listed-in-import-namespace-never-be-contained-by-a-name-in-import-name" role="doc-backlink">Require that names listed in <code class="docutils literal notranslate"><span class="pre">Import-Namespace</span></code> never be contained by a name in <code class="docutils literal notranslate"><span class="pre">Import-Name</span></code></a></h3>
<p>The way Python’s import system works by default means that it isn’t possible to
have an import name contain a namespace. But Python’s import system is flexible
enough that user code could make that possible. As such, the requirement that
tools error out if an import name contained a namespace name –
<code class="docutils literal notranslate"><span class="pre">import-names</span> <span class="pre">=</span> <span class="pre">[&quot;spam&quot;]</span></code> and <code class="docutils literal notranslate"><span class="pre">import-namespaces</span> <span class="pre">=</span> <span class="pre">[&quot;spam.bacon&quot;]</span></code> – was
removed.</p>
</section>
<section id="re-purpose-the-provides-field">
<h3><a class="toc-backref" href="#re-purpose-the-provides-field" role="doc-backlink">Re-purpose the <code class="docutils literal notranslate"><span class="pre">Provides</span></code> field</a></h3>
<p>Introduced in metadata version 1.1 and deprecated in 1.2, the <code class="docutils literal notranslate"><span class="pre">Provides</span></code>
field was meant to provide similar information, except for <strong>all</strong> names
provided by a project instead of the distinguishing namespaces as this PEP
proposes. Based on that difference and the fact that <code class="docutils literal notranslate"><span class="pre">Provides</span></code> is
deprecated and thus could be ignored by preexisting code, the decision was
made to go with a new field.</p>
</section>
<section id="name-the-field-namespace">
<h3><a class="toc-backref" href="#name-the-field-namespace" role="doc-backlink">Name the field <code class="docutils literal notranslate"><span class="pre">Namespace</span></code></a></h3>
<p>While the term “namespace” is technically accurate from an import
perspective, it could be confused with implicit namespace packages.</p>
</section>
<section id="serving-the-record-file">
<h3><a class="toc-backref" href="#serving-the-record-file" role="doc-backlink">Serving the <code class="docutils literal notranslate"><span class="pre">RECORD</span></code> file</a></h3>
<p>During <a class="reference external" href="https://discuss.python.org/t/90506/">discussions about a pre-PEP version</a> of this
PEP, it was suggested that the <code class="docutils literal notranslate"><span class="pre">RECORD</span></code> file from wheels be served from
index servers instead of this new metadata. That would have the benefit of
being implementable immediately. But in order to provide the equivalent
information, inference would be necessary based on the file structure of
what would be installed by the wheel. That could lead to inaccurate
information. It also doesn’t support sdists.</p>
<p>In the end a <a class="reference external" href="https://discuss.python.org/t/90506/46">poll</a> was
held and the approach this PEP takes won out.</p>
</section>
<section id="be-more-prescriptive-in-what-projects-specify">
<h3><a class="toc-backref" href="#be-more-prescriptive-in-what-projects-specify" role="doc-backlink">Be more prescriptive in what projects specify</a></h3>
<p>An earlier version of this PEP was much more strict in what could be put into
<code class="docutils literal notranslate"><span class="pre">Import-Name</span></code>. This included turning some “SHOULD” guidelines into “MUST”
requirements and being specific about how to calculate what a project “owned”.
In the end it was decided that was too restrictive and risked being implemented
incorrectly or the spec being unexpectedly too strict.</p>
<p>Since the metadata was never expected to be exhaustive as it can’t be verified
to be, the looser spec that is currently in this PEP was chosen instead.</p>
</section>
</section>
<section id="open-issues">
<h2><a class="toc-backref" href="#open-issues" role="doc-backlink">Open Issues</a></h2>
<p>N/A</p>
</section>
<section id="acknowledgments">
<h2><a class="toc-backref" href="#acknowledgments" role="doc-backlink">Acknowledgments</a></h2>
<p>Thanks to HeeJae Chang for ~~complaining about~~ regularly bringing up the
usefulness that this metadata would provide. Thanks to Josh Cannon (no
relation) for reviewing drafts of this PEP and providing feedback. Also,
thanks to everyone who participated in a <a class="reference external" href="https://discuss.python.org/t/29494">previous discussion</a>
on this topic.</p>
</section>
<section id="copyright">
<h2><a class="toc-backref" href="#copyright" role="doc-backlink">Copyright</a></h2>
<p>This document is placed in the public domain or under the
CC0-1.0-Universal license, whichever is more permissive.</p>
</section>
</section>
<hr class="docutils" />
<p>Source: <a class="reference external" href="https://github.com/python/peps/blob/main/peps/pep-0794.rst">https://github.com/python/peps/blob/main/peps/pep-0794.rst</a></p>
<p>Last modified: <a class="reference external" href="https://github.com/python/peps/commits/main/peps/pep-0794.rst">2025-09-05 19:53:27 GMT</a></p>

        </article>
        <nav id="pep-sidebar">
            <div id="search"></div>
            <h2>Contents</h2>
            <ul>
<li><a class="reference internal" href="#abstract">Abstract</a></li>
<li><a class="reference internal" href="#motivation">Motivation</a></li>
<li><a class="reference internal" href="#rationale">Rationale</a></li>
<li><a class="reference internal" href="#specification">Specification</a><ul>
<li><a class="reference internal" href="#examples">Examples</a></li>
</ul>
</li>
<li><a class="reference internal" href="#backwards-compatibility">Backwards Compatibility</a></li>
<li><a class="reference internal" href="#security-implications">Security Implications</a></li>
<li><a class="reference internal" href="#how-to-teach-this">How to Teach This</a></li>
<li><a class="reference internal" href="#reference-implementation">Reference Implementation</a></li>
<li><a class="reference internal" href="#rejected-ideas">Rejected Ideas</a><ul>
<li><a class="reference internal" href="#infer-the-value-for-import-namespace">Infer the value for <code class="docutils literal notranslate"><span class="pre">Import-Namespace</span></code></a></li>
<li><a class="reference internal" href="#require-that-names-listed-in-import-namespace-never-be-contained-by-a-name-in-import-name">Require that names listed in <code class="docutils literal notranslate"><span class="pre">Import-Namespace</span></code> never be contained by a name in <code class="docutils literal notranslate"><span class="pre">Import-Name</span></code></a></li>
<li><a class="reference internal" href="#re-purpose-the-provides-field">Re-purpose the <code class="docutils literal notranslate"><span class="pre">Provides</span></code> field</a></li>
<li><a class="reference internal" href="#name-the-field-namespace">Name the field <code class="docutils literal notranslate"><span class="pre">Namespace</span></code></a></li>
<li><a class="reference internal" href="#serving-the-record-file">Serving the <code class="docutils literal notranslate"><span class="pre">RECORD</span></code> file</a></li>
<li><a class="reference internal" href="#be-more-prescriptive-in-what-projects-specify">Be more prescriptive in what projects specify</a></li>
</ul>
</li>
<li><a class="reference internal" href="#open-issues">Open Issues</a></li>
<li><a class="reference internal" href="#acknowledgments">Acknowledgments</a></li>
<li><a class="reference internal" href="#copyright">Copyright</a></li>
</ul>

            <br>
            <a id="source" href="https://github.com/python/peps/blob/main/peps/pep-0794.rst?plain=1">Page Source (GitHub)</a>
        </nav>
    </section>
    <script src="../_static/colour_scheme.js"></script>
    <script src="../_static/wrap_tables.js"></script>
    <script src="../_static/sticky_banner.js"></script>
    <script src="https://analytics.python.org/js/script.outbound-links.js"
            data-domain="peps.python.org" defer></script>
    <script src="/pagefind/pagefind-ui.js"></script>
    <script>
        window.addEventListener('DOMContentLoaded', (event) => {
            // Ranking configuration to boost exact title matches
            const searchOptions = {
                ranking: {
                    termSimilarity: 9.0, // Higher values favor exact matches
                    termFrequency: 0.5, // Lower values reduce penalty for low term frequency
                    pageLength: 0.2, // Lower values reduce the impact of page length
                }
            };

            // Initialize pagefind for either mobile or desktop, not both
            if (window.innerWidth <= 640) {
                new PagefindUI({ element: "#mobile-search", ...searchOptions, showSubResults: false });
            } else {
                new PagefindUI({ element: "#search", ...searchOptions, showSubResults: true });
            }
        });
    </script>
</body>
</html>