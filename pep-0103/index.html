
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="color-scheme" content="light dark">
    <title>PEP 103 – Collecting information about git | peps.python.org</title>
    <link rel="shortcut icon" href="../_static/py.png">
    <link rel="canonical" href="https://peps.python.org/pep-0103/">
    <link rel="stylesheet" href="../_static/style.css" type="text/css">
    <link rel="stylesheet" href="../_static/mq.css" type="text/css">
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" media="(prefers-color-scheme: light)" id="pyg-light">
    <link rel="stylesheet" href="../_static/pygments_dark.css" type="text/css" media="(prefers-color-scheme: dark)" id="pyg-dark">
    <link rel="alternate" type="application/rss+xml" title="Latest PEPs" href="https://peps.python.org/peps.rss">
    <meta property="og:title" content='PEP 103 – Collecting information about git | peps.python.org'>
    <meta property="og:description" content="This Informational PEP collects information about git. There is, of course, a lot of documentation for git, so the PEP concentrates on more complex (and more related to Python development) issues, scenarios and examples.">
    <meta property="og:type" content="website">
    <meta property="og:url" content="https://peps.python.org/pep-0103/">
    <meta property="og:site_name" content="Python Enhancement Proposals (PEPs)">
    <meta property="og:image" content="https://peps.python.org/_static/og-image.png">
    <meta property="og:image:alt" content="Python PEPs">
    <meta property="og:image:width" content="200">
    <meta property="og:image:height" content="200">
    <meta name="description" content="This Informational PEP collects information about git. There is, of course, a lot of documentation for git, so the PEP concentrates on more complex (and more related to Python development) issues, scenarios and examples.">
    <meta name="theme-color" content="#3776ab">
</head>
<body>
    
<svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
  <symbol id="svg-sun-half" viewBox="0 0 24 24" pointer-events="all">
    <title>Following system colour scheme</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none"
         stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
      <circle cx="12" cy="12" r="9"></circle>
      <path d="M12 3v18m0-12l4.65-4.65M12 14.3l7.37-7.37M12 19.6l8.85-8.85"></path>
    </svg>
  </symbol>
  <symbol id="svg-moon" viewBox="0 0 24 24" pointer-events="all">
    <title>Selected dark colour scheme</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none"
         stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
      <path stroke="none" d="M0 0h24v24H0z" fill="none"></path>
      <path d="M12 3c.132 0 .263 0 .393 0a7.5 7.5 0 0 0 7.92 12.446a9 9 0 1 1 -8.313 -12.454z"></path>
    </svg>
  </symbol>
  <symbol id="svg-sun" viewBox="0 0 24 24" pointer-events="all">
    <title>Selected light colour scheme</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none"
         stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
      <circle cx="12" cy="12" r="5"></circle>
      <line x1="12" y1="1" x2="12" y2="3"></line>
      <line x1="12" y1="21" x2="12" y2="23"></line>
      <line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line>
      <line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line>
      <line x1="1" y1="12" x2="3" y2="12"></line>
      <line x1="21" y1="12" x2="23" y2="12"></line>
      <line x1="4.22" y1="19.78" x2="5.64" y2="18.36"></line>
      <line x1="18.36" y1="5.64" x2="19.78" y2="4.22"></line>
    </svg>
  </symbol>
</svg>
    <script>

        document.documentElement.dataset.colour_scheme = localStorage.getItem("colour_scheme") || "auto"
    </script>
    <section id="pep-page-section">
        <header>
            <h1 data-pagefind-ignore>Python Enhancement Proposals</h1>
            <ul class="breadcrumbs">
                <li><a href="https://www.python.org/" title="The Python Programming Language">Python</a> &raquo; </li>
                <li><a href="../pep-0000/">PEP Index</a> &raquo; </li>
                <li>PEP 103</li>
            </ul>
            <button id="colour-scheme-cycler" onClick="setColourScheme(nextColourScheme())">
                <svg aria-hidden="true" class="colour-scheme-icon-when-auto"><use href="#svg-sun-half"></use></svg>
                <svg aria-hidden="true" class="colour-scheme-icon-when-dark"><use href="#svg-moon"></use></svg>
                <svg aria-hidden="true" class="colour-scheme-icon-when-light"><use href="#svg-sun"></use></svg>
                <span class="visually-hidden">Toggle light / dark / auto colour theme</span>
            </button>
        </header>
        
        <div id="mobile-search" class="mobile-search-container"></div>
        
        <article data-pagefind-body>
            
            <span data-pagefind-meta="title:PEP 103 – Collecting information about git" data-pagefind-weight="10" class="visually-hidden">PEP 103 – Collecting information about git</span>
            <section id="pep-content">
<h1 class="page-title">PEP 103 – Collecting information about git</h1>
<dl class="rfc2822 field-list simple">
<dt class="field-odd">Author<span class="colon">:</span></dt>
<dd class="field-odd">Oleg Broytman &lt;phd&#32;&#97;t&#32;phdru.name&gt;</dd>
<dt class="field-even">Status<span class="colon">:</span></dt>
<dd class="field-even"><abbr title="Removed from consideration by sponsor or authors">Withdrawn</abbr></dd>
<dt class="field-odd">Type<span class="colon">:</span></dt>
<dd class="field-odd"><abbr title="Non-normative PEP containing background, guidelines or other information relevant to the Python ecosystem">Informational</abbr></dd>
<dt class="field-even">Created<span class="colon">:</span></dt>
<dd class="field-even">01-Jun-2015</dd>
<dt class="field-odd">Post-History<span class="colon">:</span></dt>
<dd class="field-odd">12-Sep-2015</dd>
</dl>
<hr class="docutils" />
<section id="contents">
<details><summary>Table of Contents</summary><ul class="simple">
<li><a class="reference internal" href="#abstract">Abstract</a></li>
<li><a class="reference internal" href="#documentation">Documentation</a><ul>
<li><a class="reference internal" href="#documentation-for-starters">Documentation for starters</a></li>
<li><a class="reference internal" href="#advanced-documentation">Advanced documentation</a></li>
<li><a class="reference internal" href="#offline-documentation">Offline documentation</a></li>
</ul>
</li>
<li><a class="reference internal" href="#quick-start">Quick start</a><ul>
<li><a class="reference internal" href="#download-and-installation">Download and installation</a></li>
<li><a class="reference internal" href="#initial-configuration">Initial configuration</a></li>
</ul>
</li>
<li><a class="reference internal" href="#examples-in-this-pep">Examples in this PEP</a></li>
<li><a class="reference internal" href="#branches-and-branches">Branches and branches</a></li>
<li><a class="reference internal" href="#remote-repositories-and-remote-branches">Remote repositories and remote branches</a><ul>
<li><a class="reference internal" href="#updating-local-and-remote-tracking-branches">Updating local and remote-tracking branches</a><ul>
<li><a class="reference internal" href="#fetch-and-pull">Fetch and pull</a></li>
<li><a class="reference internal" href="#push">Push</a></li>
<li><a class="reference internal" href="#tags">Tags</a></li>
<li><a class="reference internal" href="#private-information">Private information</a></li>
</ul>
</li>
</ul>
</li>
<li><a class="reference internal" href="#commit-editing-and-caveats">Commit editing and caveats</a></li>
<li><a class="reference internal" href="#undo">Undo</a><ul>
<li><a class="reference internal" href="#git-checkout-restore-file-s-content">git checkout: restore file’s content</a></li>
<li><a class="reference internal" href="#git-reset-remove-non-pushed-commits">git reset: remove (non-pushed) commits</a><ul>
<li><a class="reference internal" href="#unstaging">Unstaging</a></li>
</ul>
</li>
<li><a class="reference internal" href="#git-reflog-reference-log">git reflog: reference log</a></li>
<li><a class="reference internal" href="#git-revert-revert-a-commit">git revert: revert a commit</a></li>
<li><a class="reference internal" href="#one-thing-that-cannot-be-undone">One thing that cannot be undone</a></li>
</ul>
</li>
<li><a class="reference internal" href="#merge-or-rebase">Merge or rebase?</a></li>
<li><a class="reference internal" href="#null-merges">Null-merges</a></li>
<li><a class="reference internal" href="#branching-models">Branching models</a></li>
<li><a class="reference internal" href="#advanced-configuration">Advanced configuration</a><ul>
<li><a class="reference internal" href="#line-endings">Line endings</a></li>
<li><a class="reference internal" href="#useful-assets">Useful assets</a></li>
</ul>
</li>
<li><a class="reference internal" href="#advanced-topics">Advanced topics</a><ul>
<li><a class="reference internal" href="#staging-area">Staging area</a></li>
<li><a class="reference internal" href="#root">Root</a></li>
<li><a class="reference internal" href="#rerere">ReReRe</a></li>
<li><a class="reference internal" href="#database-maintenance">Database maintenance</a></li>
</ul>
</li>
<li><a class="reference internal" href="#tips-and-tricks">Tips and tricks</a><ul>
<li><a class="reference internal" href="#command-line-options-and-arguments">Command-line options and arguments</a></li>
<li><a class="reference internal" href="#bash-zsh-completion">bash/zsh completion</a></li>
<li><a class="reference internal" href="#bash-zsh-prompt">bash/zsh prompt</a></li>
<li><a class="reference internal" href="#ssh-connection-sharing">SSH connection sharing</a></li>
</ul>
</li>
<li><a class="reference internal" href="#git-on-server">git on server</a></li>
<li><a class="reference internal" href="#from-mercurial-to-git">From Mercurial to git</a></li>
<li><a class="reference internal" href="#git-and-github">Git and GitHub</a></li>
<li><a class="reference internal" href="#copyright">Copyright</a></li>
</ul>
</details></section>
<div class="pep-banner sticky-banner deprecated withdrawn admonition important">
<p class="admonition-title">Important</p>
<p>This PEP has been withdrawn.</p>
<p class="close-button">×</p>
<p>It is too generic and doesn’t really deal
with Python development. It is no longer updated.</p>
<p>The content was moved to <a class="reference external" href="https://wiki.python.org/moin/Git">Python Wiki</a>. Make further updates in the
wiki.</p>
<p></p>
</div>
<section id="abstract">
<h2><a class="toc-backref" href="#abstract" role="doc-backlink">Abstract</a></h2>
<p>This Informational PEP collects information about git. There is, of
course, a lot of documentation for git, so the PEP concentrates on
more complex (and more related to Python development) issues,
scenarios and examples.</p>
<p>The plan is to extend the PEP in the future collecting information
about equivalence of Mercurial and git scenarios to help migrating
Python development from Mercurial to git.</p>
<p>The author of the PEP doesn’t currently plan to write a Process PEP on
migration Python development from Mercurial to git.</p>
</section>
<section id="documentation">
<h2><a class="toc-backref" href="#documentation" role="doc-backlink">Documentation</a></h2>
<p>Git is accompanied with a lot of documentation, both online and
offline.</p>
<section id="documentation-for-starters">
<h3><a class="toc-backref" href="#documentation-for-starters" role="doc-backlink">Documentation for starters</a></h3>
<p>Git Tutorial: <a class="reference external" href="https://www.kernel.org/pub/software/scm/git/docs/gittutorial.html">part 1</a>,
<a class="reference external" href="https://www.kernel.org/pub/software/scm/git/docs/gittutorial-2.html">part 2</a>.</p>
<p><a class="reference external" href="https://www.kernel.org/pub/software/scm/git/docs/user-manual.html">Git User’s manual</a>.
<a class="reference external" href="https://www.kernel.org/pub/software/scm/git/docs/giteveryday.html">Everyday GIT With 20 Commands Or So</a>.
<a class="reference external" href="https://www.kernel.org/pub/software/scm/git/docs/gitworkflows.html">Git workflows</a>.</p>
</section>
<section id="advanced-documentation">
<h3><a class="toc-backref" href="#advanced-documentation" role="doc-backlink">Advanced documentation</a></h3>
<p><a class="reference external" href="http://www-cs-students.stanford.edu/~blynn/gitmagic/index.html">Git Magic</a>,
with a number of translations.</p>
<p><a class="reference external" href="https://git-scm.com/book">Pro Git</a>. The Book about git. Buy it at
Amazon or download in PDF, mobi, or ePub form. It has translations to
many different languages. Download Russian translation from <a class="reference external" href="https://github.com/GArik/progit/wiki">GArik</a>.</p>
<p><a class="reference external" href="https://git.wiki.kernel.org/index.php/Main_Page">Git Wiki</a>.</p>
<p><a class="reference external" href="http://gitbu.ch/index.html">Git Buch</a> (German).</p>
</section>
<section id="offline-documentation">
<h3><a class="toc-backref" href="#offline-documentation" role="doc-backlink">Offline documentation</a></h3>
<p>Git has builtin help: run <code class="docutils literal notranslate"><span class="pre">git</span> <span class="pre">help</span> <span class="pre">$TOPIC</span></code>. For example, run
<code class="docutils literal notranslate"><span class="pre">git</span> <span class="pre">help</span> <span class="pre">git</span></code> or <code class="docutils literal notranslate"><span class="pre">git</span> <span class="pre">help</span> <span class="pre">help</span></code>.</p>
</section>
</section>
<section id="quick-start">
<h2><a class="toc-backref" href="#quick-start" role="doc-backlink">Quick start</a></h2>
<section id="download-and-installation">
<h3><a class="toc-backref" href="#download-and-installation" role="doc-backlink">Download and installation</a></h3>
<p>Unix users: <a class="reference external" href="https://git-scm.com/download/linux">download and install using your package manager</a>.</p>
<p>Microsoft Windows: download <a class="reference external" href="https://github.com/git-for-windows/git/releases">git-for-windows</a>.</p>
<p>MacOS X: use git installed with <a class="reference external" href="https://developer.apple.com/xcode/">XCode</a> or download from <a class="reference external" href="https://www.macports.org/ports.php?by=name&amp;substr=git">MacPorts</a> or
<a class="reference external" href="http://sourceforge.net/projects/git-osx-installer/files/">git-osx-installer</a> or
install git with <a class="reference external" href="http://brew.sh/">Homebrew</a>: <code class="docutils literal notranslate"><span class="pre">brew</span> <span class="pre">install</span> <span class="pre">git</span></code>.</p>
<p><a class="reference external" href="https://git-cola.github.io/index.html">git-cola</a> (<a class="reference external" href="https://github.com/git-cola/git-cola">repository</a>) is a Git GUI written in
Python and GPL licensed. Linux, Windows, MacOS X.</p>
<p><a class="reference external" href="https://tortoisegit.org/">TortoiseGit</a> is a Windows Shell Interface
to Git based on TortoiseSVN; open source.</p>
</section>
<section id="initial-configuration">
<h3><a class="toc-backref" href="#initial-configuration" role="doc-backlink">Initial configuration</a></h3>
<p>This simple code is often appears in documentation, but it is
important so let repeat it here. Git stores author and committer
names/emails in every commit, so configure your real name and
preferred email:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>$ git config --global user.name &quot;User Name&quot;
$ git config --global user.email user.name@example.org
</pre></div>
</div>
</section>
</section>
<section id="examples-in-this-pep">
<h2><a class="toc-backref" href="#examples-in-this-pep" role="doc-backlink">Examples in this PEP</a></h2>
<p>Examples of git commands in this PEP use the following approach. It is
supposed that you, the user, works with a local repository named
<code class="docutils literal notranslate"><span class="pre">python</span></code> that has an upstream remote repo named <code class="docutils literal notranslate"><span class="pre">origin</span></code>. Your
local repo has two branches <code class="docutils literal notranslate"><span class="pre">v1</span></code> and <code class="docutils literal notranslate"><span class="pre">master</span></code>. For most examples
the currently checked out branch is <code class="docutils literal notranslate"><span class="pre">master</span></code>. That is, it’s assumed
you have done something like that:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>$ git clone https://git.python.org/python.git
$ cd python
$ git branch v1 origin/v1
</pre></div>
</div>
<p>The first command clones remote repository into local directory
<code class="docutils literal notranslate"><span class="pre">python</span></code>, creates a new local branch master, sets
remotes/origin/master as its upstream remote-tracking branch and
checks it out into the working directory.</p>
<p>The last command creates a new local branch v1 and sets
remotes/origin/v1 as its upstream remote-tracking branch.</p>
<p>The same result can be achieved with commands:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>$ git clone -b v1 https://git.python.org/python.git
$ cd python
$ git checkout --track origin/master
</pre></div>
</div>
<p>The last command creates a new local branch master, sets
remotes/origin/master as its upstream remote-tracking branch and
checks it out into the working directory.</p>
</section>
<section id="branches-and-branches">
<h2><a class="toc-backref" href="#branches-and-branches" role="doc-backlink">Branches and branches</a></h2>
<p>Git terminology can be a bit misleading. Take, for example, the term
“branch”. In git it has two meanings. A branch is a directed line of
commits (possibly with merges). And a branch is a label or a pointer
assigned to a line of commits. It is important to distinguish when you
talk about commits and when about their labels. Lines of commits are
by itself unnamed and are usually only lengthening and merging.
Labels, on the other hand, can be created, moved, renamed and deleted
freely.</p>
</section>
<section id="remote-repositories-and-remote-branches">
<h2><a class="toc-backref" href="#remote-repositories-and-remote-branches" role="doc-backlink">Remote repositories and remote branches</a></h2>
<p>Remote-tracking branches are branches (pointers to commits) in your
local repository. They are there for git (and for you) to remember
what branches and commits have been pulled from and pushed to what
remote repos (you can pull from and push to many remotes).
Remote-tracking branches live under <code class="docutils literal notranslate"><span class="pre">remotes/$REMOTE</span></code> namespaces,
e.g. <code class="docutils literal notranslate"><span class="pre">remotes/origin/master</span></code>.</p>
<p>To see the status of remote-tracking branches run:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>$ git branch -rv
</pre></div>
</div>
<p>To see local and remote-tracking branches (and tags) pointing to
commits:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>$ git log --decorate
</pre></div>
</div>
<p>You never do your own development on remote-tracking branches. You
create a local branch that has a remote branch as upstream and do
development on that local branch. On push git pushes commits to the
remote repo and updates remote-tracking branches, on pull git fetches
commits from the remote repo, updates remote-tracking branches and
fast-forwards, merges or rebases local branches.</p>
<p>When you do an initial clone like this:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>$ git clone -b v1 https://git.python.org/python.git
</pre></div>
</div>
<p>git clones remote repository <code class="docutils literal notranslate"><span class="pre">https://git.python.org/python.git</span></code> to
directory <code class="docutils literal notranslate"><span class="pre">python</span></code>, creates a remote named <code class="docutils literal notranslate"><span class="pre">origin</span></code>, creates
remote-tracking branches, creates a local branch <code class="docutils literal notranslate"><span class="pre">v1</span></code>, configure it
to track upstream remotes/origin/v1 branch and checks out <code class="docutils literal notranslate"><span class="pre">v1</span></code> into
the working directory.</p>
<p>Some commands, like <code class="docutils literal notranslate"><span class="pre">git</span> <span class="pre">status</span> <span class="pre">--branch</span></code> and <code class="docutils literal notranslate"><span class="pre">git</span> <span class="pre">branch</span> <span class="pre">--verbose</span></code>,
report the difference between local and remote branches.
Please remember they only do comparison with remote-tracking branches
in your local repository, and the state of those remote-tracking
branches can be outdated. To update remote-tracking branches you
either fetch and merge (or rebase) commits from the remote repository
or update remote-tracking branches without updating local branches.</p>
<section id="updating-local-and-remote-tracking-branches">
<h3><a class="toc-backref" href="#updating-local-and-remote-tracking-branches" role="doc-backlink">Updating local and remote-tracking branches</a></h3>
<p>To update remote-tracking branches without updating local branches run
<code class="docutils literal notranslate"><span class="pre">git</span> <span class="pre">remote</span> <span class="pre">update</span> <span class="pre">[$REMOTE...]</span></code>. For example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>$ git remote update
$ git remote update origin
</pre></div>
</div>
<section id="fetch-and-pull">
<h4><a class="toc-backref" href="#fetch-and-pull" role="doc-backlink">Fetch and pull</a></h4>
<p>There is a major difference between</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>$ git fetch $REMOTE $BRANCH
</pre></div>
</div>
<p>and</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>$ git fetch $REMOTE $BRANCH:$BRANCH
</pre></div>
</div>
<p>The first command fetches commits from the named $BRANCH in the
$REMOTE repository that are not in your repository, updates
remote-tracking branch and leaves the id (the hash) of the head commit
in file .git/FETCH_HEAD.</p>
<p>The second command fetches commits from the named $BRANCH in the
$REMOTE repository that are not in your repository and updates both
the local branch $BRANCH and its upstream remote-tracking branch. But
it refuses to update branches in case of non-fast-forward. And it
refuses to update the current branch (currently checked out branch,
where HEAD is pointing to).</p>
<p>The first command is used internally by <code class="docutils literal notranslate"><span class="pre">git</span> <span class="pre">pull</span></code>.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>$ git pull $REMOTE $BRANCH
</pre></div>
</div>
<p>is equivalent to</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>$ git fetch $REMOTE $BRANCH
$ git merge FETCH_HEAD
</pre></div>
</div>
<p>Certainly, $BRANCH in that case should be your current branch. If you
want to merge a different branch into your current branch first update
that non-current branch and then merge:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>$ git fetch origin v1:v1  # Update v1
$ git pull --rebase origin master  # Update the current branch master
                                   # using rebase instead of merge
$ git merge v1
</pre></div>
</div>
<p>If you have not yet pushed commits on <code class="docutils literal notranslate"><span class="pre">v1</span></code>, though, the scenario has
to become a bit more complex. Git refuses to update
non-fast-forwardable branch, and you don’t want to do force-pull
because that would remove your non-pushed commits and you would need
to recover. So you want to rebase <code class="docutils literal notranslate"><span class="pre">v1</span></code> but you cannot rebase
non-current branch. Hence, checkout <code class="docutils literal notranslate"><span class="pre">v1</span></code> and rebase it before
merging:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>$ git checkout v1
$ git pull --rebase origin v1
$ git checkout master
$ git pull --rebase origin master
$ git merge v1
</pre></div>
</div>
<p>It is possible to configure git to make it fetch/pull a few branches
or all branches at once, so you can simply run</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>$ git pull origin
</pre></div>
</div>
<p>or even</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>$ git pull
</pre></div>
</div>
<p>Default remote repository for fetching/pulling is <code class="docutils literal notranslate"><span class="pre">origin</span></code>. Default
set of references to fetch is calculated using matching algorithm: git
fetches all branches having the same name on both ends.</p>
</section>
<section id="push">
<h4><a class="toc-backref" href="#push" role="doc-backlink">Push</a></h4>
<p>Pushing is a bit simpler. There is only one command <code class="docutils literal notranslate"><span class="pre">push</span></code>. When you
run</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>$ git push origin v1 master
</pre></div>
</div>
<p>git pushes local v1 to remote v1 and local master to remote master.
The same as:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>$ git push origin v1:v1 master:master
</pre></div>
</div>
<p>Git pushes commits to the remote repo and updates remote-tracking
branches. Git refuses to push commits that aren’t fast-forwardable.
You can force-push anyway, but please remember - you can force-push to
your own repositories but don’t force-push to public or shared repos.
If you find git refuses to push commits that aren’t fast-forwardable,
better fetch and merge commits from the remote repo (or rebase your
commits on top of the fetched commits), then push. Only force-push if
you know what you do and why you do it. See the section <a class="reference internal" href="#commit-editing-and-caveats">Commit
editing and caveats</a> below.</p>
<p>It is possible to configure git to make it push a few branches or all
branches at once, so you can simply run</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>$ git push origin
</pre></div>
</div>
<p>or even</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>$ git push
</pre></div>
</div>
<p>Default remote repository for pushing is <code class="docutils literal notranslate"><span class="pre">origin</span></code>. Default set of
references to push in git before 2.0 is calculated using matching
algorithm: git pushes all branches having the same name on both ends.
Default set of references to push in git 2.0+ is calculated using
simple algorithm: git pushes the current branch back to its
&#64;{upstream}.</p>
<p>To configure git before 2.0 to the new behaviour run:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>$ git config push.default simple
</pre></div>
</div>
<p>To configure git 2.0+ to the old behaviour run:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>$ git config push.default matching
</pre></div>
</div>
<p>Git doesn’t allow to push a branch if it’s the current branch in the
remote non-bare repository: git refuses to update remote working
directory. You really should push only to bare repositories. For
non-bare repositories git prefers pull-based workflow.</p>
<p>When you want to deploy code on a remote host and can only use push
(because your workstation is behind a firewall and you cannot pull
from it) you do that in two steps using two repositories: you push
from the workstation to a bare repo on the remote host, ssh to the
remote host and pull from the bare repo to a non-bare deployment repo.</p>
<p>That changed in git 2.3, but see <a class="reference external" href="https://github.com/blog/1957-git-2-3-has-been-released#push-to-deploy">the blog post</a>
for caveats; in 2.4 the push-to-deploy feature was <a class="reference external" href="https://github.com/blog/1994-git-2-4-atomic-pushes-push-to-deploy-and-more#push-to-deploy-improvements">further improved</a>.</p>
</section>
<section id="tags">
<h4><a class="toc-backref" href="#tags" role="doc-backlink">Tags</a></h4>
<p>Git automatically fetches tags that point to commits being fetched
during fetch/pull. To fetch all tags (and commits they point to) run
<code class="docutils literal notranslate"><span class="pre">git</span> <span class="pre">fetch</span> <span class="pre">--tags</span> <span class="pre">origin</span></code>. To fetch some specific tags fetch them
explicitly:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>$ git fetch origin tag $TAG1 tag $TAG2...
</pre></div>
</div>
<p>For example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>$ git fetch origin tag 1.4.2
$ git fetch origin v1:v1 tag 2.1.7
</pre></div>
</div>
<p>Git doesn’t automatically pushes tags. That allows you to have private
tags. To push tags list them explicitly:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>$ git push origin tag 1.4.2
$ git push origin v1 master tag 2.1.7
</pre></div>
</div>
<p>Or push all tags at once:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>$ git push --tags origin
</pre></div>
</div>
<p>Don’t move tags with <code class="docutils literal notranslate"><span class="pre">git</span> <span class="pre">tag</span> <span class="pre">-f</span></code> or remove tags with <code class="docutils literal notranslate"><span class="pre">git</span> <span class="pre">tag</span> <span class="pre">-d</span></code>
after they have been published.</p>
</section>
<section id="private-information">
<h4><a class="toc-backref" href="#private-information" role="doc-backlink">Private information</a></h4>
<p>When cloning/fetching/pulling/pushing git copies only database objects
(commits, trees, files and tags) and symbolic references (branches and
lightweight tags). Everything else is private to the repository and
never cloned, updated or pushed. It’s your config, your hooks, your
private exclude file.</p>
<p>If you want to distribute hooks, copy them to the working tree, add,
commit, push and instruct the team to update and install the hooks
manually.</p>
</section>
</section>
</section>
<section id="commit-editing-and-caveats">
<h2><a class="toc-backref" href="#commit-editing-and-caveats" role="doc-backlink">Commit editing and caveats</a></h2>
<p>A warning not to edit published (pushed) commits also appears in
documentation but it’s repeated here anyway as it’s very important.</p>
<p>It is possible to recover from a forced push but it’s PITA for the
entire team. Please avoid it.</p>
<p>To see what commits have not been published yet compare the head of the
branch with its upstream remote-tracking branch:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>$ git log origin/master..  # from origin/master to HEAD (of master)
$ git log origin/v1..v1  # from origin/v1 to the head of v1
</pre></div>
</div>
<p>For every branch that has an upstream remote-tracking branch git
maintains an alias &#64;{upstream} (short version &#64;{u}), so the commands
above can be given as:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>$ git log @{u}..
$ git log v1@{u}..v1
</pre></div>
</div>
<p>To see the status of all branches:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>$ git branch -avv
</pre></div>
</div>
<p>To compare the status of local branches with a remote repo:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>$ git remote show origin
</pre></div>
</div>
<p>Read <a class="reference external" href="https://git-scm.com/docs/git-rebase#_recovering_from_upstream_rebase">how to recover from upstream rebase</a>.
It is in <code class="docutils literal notranslate"><span class="pre">git</span> <span class="pre">help</span> <span class="pre">rebase</span></code>.</p>
<p>On the other hand, don’t be too afraid about commit editing. You can
safely edit, reorder, remove, combine and split commits that haven’t
been pushed yet. You can even push commits to your own (backup) repo,
edit them later and force-push edited commits to replace what have
already been pushed. Not a problem until commits are in a public
or shared repository.</p>
</section>
<section id="undo">
<h2><a class="toc-backref" href="#undo" role="doc-backlink">Undo</a></h2>
<p>Whatever you do, don’t panic. Almost anything in git can be undone.</p>
<section id="git-checkout-restore-file-s-content">
<h3><a class="toc-backref" href="#git-checkout-restore-file-s-content" role="doc-backlink">git checkout: restore file’s content</a></h3>
<p><code class="docutils literal notranslate"><span class="pre">git</span> <span class="pre">checkout</span></code>, for example, can be used to restore the content of
file(s) to that one of a commit. Like this:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">git</span> <span class="n">checkout</span> <span class="n">HEAD</span><span class="o">~</span> <span class="n">README</span>
</pre></div>
</div>
<p>The commands restores the contents of README file to the last but one
commit in the current branch. By default the commit ID is simply HEAD;
i.e. <code class="docutils literal notranslate"><span class="pre">git</span> <span class="pre">checkout</span> <span class="pre">README</span></code> restores README to the latest commit.</p>
<p>(Do not use <code class="docutils literal notranslate"><span class="pre">git</span> <span class="pre">checkout</span></code> to view a content of a file in a commit,
use <code class="docutils literal notranslate"><span class="pre">git</span> <span class="pre">cat-file</span> <span class="pre">-p</span></code>; e.g. <code class="docutils literal notranslate"><span class="pre">git</span> <span class="pre">cat-file</span> <span class="pre">-p</span> <span class="pre">HEAD~:path/to/README</span></code>).</p>
</section>
<section id="git-reset-remove-non-pushed-commits">
<h3><a class="toc-backref" href="#git-reset-remove-non-pushed-commits" role="doc-backlink">git reset: remove (non-pushed) commits</a></h3>
<p><code class="docutils literal notranslate"><span class="pre">git</span> <span class="pre">reset</span></code> moves the head of the current branch. The head can be
moved to point to any commit but it’s often used to remove a commit or
a few (preferably, non-pushed ones) from the top of the branch - that
is, to move the branch backward in order to undo a few (non-pushed)
commits.</p>
<p><code class="docutils literal notranslate"><span class="pre">git</span> <span class="pre">reset</span></code> has three modes of operation - soft, hard and mixed.
Default is mixed. ProGit <a class="reference external" href="https://git-scm.com/book/en/Git-Tools-Reset-Demystified">explains</a> the
difference very clearly. Bare repositories don’t have indices or
working trees so in a bare repo only soft reset is possible.</p>
<section id="unstaging">
<h4><a class="toc-backref" href="#unstaging" role="doc-backlink">Unstaging</a></h4>
<p>Mixed mode reset with a path or paths can be used to unstage changes -
that is, to remove from index changes added with <code class="docutils literal notranslate"><span class="pre">git</span> <span class="pre">add</span></code> for
committing. See <a class="reference external" href="https://git-scm.com/book/en/Git-Basics-Undoing-Things">The Book</a> for details
about unstaging and other undo tricks.</p>
</section>
</section>
<section id="git-reflog-reference-log">
<h3><a class="toc-backref" href="#git-reflog-reference-log" role="doc-backlink">git reflog: reference log</a></h3>
<p>Removing commits with <code class="docutils literal notranslate"><span class="pre">git</span> <span class="pre">reset</span></code> or moving the head of a branch
sounds dangerous and it is. But there is a way to undo: another
reset back to the original commit. Git doesn’t remove commits
immediately; unreferenced commits (in git terminology they are called
“dangling commits”) stay in the database for some time (default is two
weeks) so you can reset back to it or create a new branch pointing to
the original commit.</p>
<p>For every move of a branch’s head - with <code class="docutils literal notranslate"><span class="pre">git</span> <span class="pre">commit</span></code>, <code class="docutils literal notranslate"><span class="pre">git</span>
<span class="pre">checkout</span></code>, <code class="docutils literal notranslate"><span class="pre">git</span> <span class="pre">fetch</span></code>, <code class="docutils literal notranslate"><span class="pre">git</span> <span class="pre">pull</span></code>, <code class="docutils literal notranslate"><span class="pre">git</span> <span class="pre">rebase</span></code>, <code class="docutils literal notranslate"><span class="pre">git</span> <span class="pre">reset</span></code>
and so on - git stores a reference log (reflog for short). For every
move git stores where the head was. Command <code class="docutils literal notranslate"><span class="pre">git</span> <span class="pre">reflog</span></code> can be used
to view (and manipulate) the log.</p>
<p>In addition to the moves of the head of every branch git stores the
moves of the HEAD - a symbolic reference that (usually) names the
current branch. HEAD is changed with <code class="docutils literal notranslate"><span class="pre">git</span> <span class="pre">checkout</span> <span class="pre">$BRANCH</span></code>.</p>
<p>By default <code class="docutils literal notranslate"><span class="pre">git</span> <span class="pre">reflog</span></code> shows the moves of the HEAD, i.e. the
command is equivalent to <code class="docutils literal notranslate"><span class="pre">git</span> <span class="pre">reflog</span> <span class="pre">HEAD</span></code>. To show the moves of the
head of a branch use the command <code class="docutils literal notranslate"><span class="pre">git</span> <span class="pre">reflog</span> <span class="pre">$BRANCH</span></code>.</p>
<p>So to undo a <code class="docutils literal notranslate"><span class="pre">git</span> <span class="pre">reset</span></code> lookup the original commit in <code class="docutils literal notranslate"><span class="pre">git</span>
<span class="pre">reflog</span></code>, verify it with <code class="docutils literal notranslate"><span class="pre">git</span> <span class="pre">show</span></code> or <code class="docutils literal notranslate"><span class="pre">git</span> <span class="pre">log</span></code> and run <code class="docutils literal notranslate"><span class="pre">git</span>
<span class="pre">reset</span> <span class="pre">$COMMIT_ID</span></code>. Git stores the move of the branch’s head in
reflog, so you can undo that undo later again.</p>
<p>In a more complex situation you’d want to move some commits along with
resetting the head of the branch. Cherry-pick them to the new branch.
For example, if you want to reset the branch <code class="docutils literal notranslate"><span class="pre">master</span></code> back to the
original commit but preserve two commits created in the current branch
do something like:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>$ git branch save-master  # create a new branch saving master
$ git reflog  # find the original place of master
$ git reset $COMMIT_ID
$ git cherry-pick save-master~ save-master
$ git branch -D save-master  # remove temporary branch
</pre></div>
</div>
</section>
<section id="git-revert-revert-a-commit">
<h3><a class="toc-backref" href="#git-revert-revert-a-commit" role="doc-backlink">git revert: revert a commit</a></h3>
<p><code class="docutils literal notranslate"><span class="pre">git</span> <span class="pre">revert</span></code> reverts a commit or commits, that is, it creates a new
commit or commits that revert(s) the effects of the given commits.
It’s the only way to undo published commits (<code class="docutils literal notranslate"><span class="pre">git</span> <span class="pre">commit</span> <span class="pre">--amend</span></code>,
<code class="docutils literal notranslate"><span class="pre">git</span> <span class="pre">rebase</span></code> and <code class="docutils literal notranslate"><span class="pre">git</span> <span class="pre">reset</span></code> change the branch in
non-fast-forwardable ways so they should only be used for non-pushed
commits.)</p>
<p>There is a problem with reverting a merge commit. <code class="docutils literal notranslate"><span class="pre">git</span> <span class="pre">revert</span></code> can
undo the code created by the merge commit but it cannot undo the fact
of merge. See the discussion <a class="reference external" href="https://www.kernel.org/pub/software/scm/git/docs/howto/revert-a-faulty-merge.html">How to revert a faulty merge</a>.</p>
</section>
<section id="one-thing-that-cannot-be-undone">
<h3><a class="toc-backref" href="#one-thing-that-cannot-be-undone" role="doc-backlink">One thing that cannot be undone</a></h3>
<p>Whatever you undo, there is one thing that cannot be undone -
overwritten uncommitted changes. Uncommitted changes don’t belong to
git so git cannot help preserving them.</p>
<p>Most of the time git warns you when you’re going to execute a command
that overwrites uncommitted changes. Git doesn’t allow you to switch
branches with <code class="docutils literal notranslate"><span class="pre">git</span> <span class="pre">checkout</span></code>. It stops you when you’re going to
rebase with non-clean working tree. It refuses to pull new commits
over non-committed files.</p>
<p>But there are commands that do exactly that - overwrite files in the
working tree. Commands like <code class="docutils literal notranslate"><span class="pre">git</span> <span class="pre">checkout</span> <span class="pre">$PATHs</span></code> or <code class="docutils literal notranslate"><span class="pre">git</span> <span class="pre">reset</span>
<span class="pre">--hard</span></code> silently overwrite files including your uncommitted changes.</p>
<p>With that in mind you can understand the stance “commit early, commit
often”. Commit as often as possible. Commit on every save in your
editor or IDE. You can edit your commits before pushing - edit commit
messages, change commits, reorder, combine, split, remove. But save
your changes in git database, either commit changes or at least stash
them with <code class="docutils literal notranslate"><span class="pre">git</span> <span class="pre">stash</span></code>.</p>
</section>
</section>
<section id="merge-or-rebase">
<h2><a class="toc-backref" href="#merge-or-rebase" role="doc-backlink">Merge or rebase?</a></h2>
<p>Internet is full of heated discussions on the topic: “merge or
rebase?” Most of them are meaningless. When a DVCS is being used in a
big team with a big and complex project with many branches there is
simply no way to avoid merges. So the question’s diminished to
“whether to use rebase, and if yes - when to use rebase?” Considering
that it is very much recommended not to rebase published commits the
question’s diminished even further: “whether to use rebase on
non-pushed commits?”</p>
<p>That small question is for the team to decide. To preserve the beauty
of linear history it’s recommended to use rebase when pulling, i.e. do
<code class="docutils literal notranslate"><span class="pre">git</span> <span class="pre">pull</span> <span class="pre">--rebase</span></code> or even configure automatic setup of rebase for
every new branch:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>$ git config branch.autosetuprebase always
</pre></div>
</div>
<p>and configure rebase for existing branches:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>$ git config branch.$NAME.rebase true
</pre></div>
</div>
<p>For example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>$ git config branch.v1.rebase true
$ git config branch.master.rebase true
</pre></div>
</div>
<p>After that <code class="docutils literal notranslate"><span class="pre">git</span> <span class="pre">pull</span> <span class="pre">origin</span> <span class="pre">master</span></code> becomes equivalent to <code class="docutils literal notranslate"><span class="pre">git</span> <span class="pre">pull</span>
<span class="pre">--rebase</span> <span class="pre">origin</span> <span class="pre">master</span></code>.</p>
<p>It is recommended to create new commits in a separate feature or topic
branch while using rebase to update the mainline branch. When the
topic branch is ready merge it into mainline. To avoid a tedious task
of resolving large number of conflicts at once you can merge the topic
branch to the mainline from time to time and switch back to the topic
branch to continue working on it. The entire workflow would be
something like:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>$ git checkout -b issue-42  # create a new issue branch and switch to it
    ...edit/test/commit...
$ git checkout master
$ git pull --rebase origin master  # update master from the upstream
$ git merge issue-42
$ git branch -d issue-42  # delete the topic branch
$ git push origin master
</pre></div>
</div>
<p>When the topic branch is deleted only the label is removed, commits
are stayed in the database, they are now merged into master:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">o</span><span class="o">--</span><span class="n">o</span><span class="o">--</span><span class="n">o</span><span class="o">--</span><span class="n">o</span><span class="o">--</span><span class="n">o</span><span class="o">--</span><span class="n">M</span><span class="o">--&lt;</span> <span class="n">master</span> <span class="o">-</span> <span class="n">the</span> <span class="n">mainline</span> <span class="n">branch</span>
    \         <span class="o">/</span>
     <span class="o">--*--*--*</span>             <span class="o">-</span> <span class="n">the</span> <span class="n">topic</span> <span class="n">branch</span><span class="p">,</span> <span class="n">now</span> <span class="n">unnamed</span>
</pre></div>
</div>
<p>The topic branch is deleted to avoid cluttering branch namespace with
small topic branches. Information on what issue was fixed or what
feature was implemented should be in the commit messages.</p>
<p>But even that small amount of rebasing could be too big in case of
long-lived merged branches. Imagine you’re doing work in both <code class="docutils literal notranslate"><span class="pre">v1</span></code>
and <code class="docutils literal notranslate"><span class="pre">master</span></code> branches, regularly merging <code class="docutils literal notranslate"><span class="pre">v1</span></code> into <code class="docutils literal notranslate"><span class="pre">master</span></code>.
After some time you will have a lot of merge and non-merge commits in
<code class="docutils literal notranslate"><span class="pre">master</span></code>. Then you want to push your finished work to a shared
repository and find someone has pushed a few commits to <code class="docutils literal notranslate"><span class="pre">v1</span></code>. Now
you have a choice of two equally bad alternatives: either you fetch
and rebase <code class="docutils literal notranslate"><span class="pre">v1</span></code> and then have to recreate all you work in <code class="docutils literal notranslate"><span class="pre">master</span></code>
(reset <code class="docutils literal notranslate"><span class="pre">master</span></code> to the origin, merge <code class="docutils literal notranslate"><span class="pre">v1</span></code> and cherry-pick all
non-merge commits from the old master); or merge the new <code class="docutils literal notranslate"><span class="pre">v1</span></code> and
loose the beauty of linear history.</p>
</section>
<section id="null-merges">
<h2><a class="toc-backref" href="#null-merges" role="doc-backlink">Null-merges</a></h2>
<p>Git has a builtin merge strategy for what Python core developers call
“null-merge”:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>$ git merge -s ours v1  # null-merge v1 into master
</pre></div>
</div>
</section>
<section id="branching-models">
<h2><a class="toc-backref" href="#branching-models" role="doc-backlink">Branching models</a></h2>
<p>Git doesn’t assume any particular development model regarding
branching and merging. Some projects prefer to graduate patches from
the oldest branch to the newest, some prefer to cherry-pick commits
backwards, some use squashing (combining a number of commits into
one). Anything is possible.</p>
<p>There are a few examples to start with. <a class="reference external" href="https://www.kernel.org/pub/software/scm/git/docs/gitworkflows.html">git help workflows</a>
describes how the very git authors develop git.</p>
<p>ProGit book has a few chapters devoted to branch management in
different projects: <a class="reference external" href="https://git-scm.com/book/en/Git-Branching-Branching-Workflows">Git Branching - Branching Workflows</a> and
<a class="reference external" href="https://git-scm.com/book/en/Distributed-Git-Contributing-to-a-Project">Distributed Git - Contributing to a Project</a>.</p>
<p>There is also a well-known article <a class="reference external" href="http://nvie.com/posts/a-successful-git-branching-model/">A successful Git branching model</a> by Vincent
Driessen. It recommends a set of very detailed rules on creating and
managing mainline, topic and bugfix branches. To support the model the
author implemented <a class="reference external" href="https://github.com/nvie/gitflow">git flow</a>
extension.</p>
</section>
<section id="advanced-configuration">
<h2><a class="toc-backref" href="#advanced-configuration" role="doc-backlink">Advanced configuration</a></h2>
<section id="line-endings">
<h3><a class="toc-backref" href="#line-endings" role="doc-backlink">Line endings</a></h3>
<p>Git has builtin mechanisms to handle line endings between platforms
with different end-of-line styles. To allow git to do CRLF conversion
assign <code class="docutils literal notranslate"><span class="pre">text</span></code> attribute to files using <a class="reference external" href="https://www.kernel.org/pub/software/scm/git/docs/gitattributes.html">.gitattributes</a>.
For files that have to have specific line endings assign <code class="docutils literal notranslate"><span class="pre">eol</span></code>
attribute. For binary files the attribute is, naturally, <code class="docutils literal notranslate"><span class="pre">binary</span></code>.</p>
<p>For example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>$ cat .gitattributes
*.py text
*.txt text
*.png binary
/readme.txt eol=CRLF
</pre></div>
</div>
<p>To check what attributes git uses for files use <code class="docutils literal notranslate"><span class="pre">git</span> <span class="pre">check-attr</span></code>
command. For example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>$ git check-attr -a -- \*.py
</pre></div>
</div>
</section>
<section id="useful-assets">
<h3><a class="toc-backref" href="#useful-assets" role="doc-backlink">Useful assets</a></h3>
<p><a class="reference external" href="http://gitalias.com/">GitAlias</a> (<a class="reference external" href="https://github.com/GitAlias/gitalias">repository</a>) is a big collection of
aliases. A careful selection of aliases for frequently used commands
could save you a lot of keystrokes!</p>
<p><a class="reference external" href="https://www.gitignore.io/">GitIgnore</a> and
<a class="reference external" href="https://github.com/github/gitignore">https://github.com/github/gitignore</a> are collections of <code class="docutils literal notranslate"><span class="pre">.gitignore</span></code>
files for all kinds of IDEs and programming languages. Python
included!</p>
<p><a class="reference external" href="http://pre-commit.com/">pre-commit</a> (<a class="reference external" href="https://github.com/pre-commit">repositories</a>) is a framework for managing and
maintaining multi-language pre-commit hooks. The framework is written
in Python and has a lot of plugins for many programming languages.</p>
</section>
</section>
<section id="advanced-topics">
<h2><a class="toc-backref" href="#advanced-topics" role="doc-backlink">Advanced topics</a></h2>
<section id="staging-area">
<h3><a class="toc-backref" href="#staging-area" role="doc-backlink">Staging area</a></h3>
<p>Staging area aka index aka cache is a distinguishing feature of git.
Staging area is where git collects patches before committing them.
Separation between collecting patches and commit phases provides a
very useful feature of git: you can review collected patches before
commit and even edit them - remove some hunks, add new hunks and
review again.</p>
<p>To add files to the index use <code class="docutils literal notranslate"><span class="pre">git</span> <span class="pre">add</span></code>. Collecting patches before
committing means you need to do that for every change, not only to add
new (untracked) files. To simplify committing in case you just want to
commit everything without reviewing run <code class="docutils literal notranslate"><span class="pre">git</span> <span class="pre">commit</span> <span class="pre">--all</span></code> (or just
<code class="docutils literal notranslate"><span class="pre">-a</span></code>) - the command adds every changed tracked file to the index and
then commit. To commit a file or files regardless of patches collected
in the index run <code class="docutils literal notranslate"><span class="pre">git</span> <span class="pre">commit</span> <span class="pre">[--only|-o]</span> <span class="pre">--</span> <span class="pre">$FILE...</span></code>.</p>
<p>To add hunks of patches to the index use <code class="docutils literal notranslate"><span class="pre">git</span> <span class="pre">add</span> <span class="pre">--patch</span></code> (or just
<code class="docutils literal notranslate"><span class="pre">-p</span></code>). To remove collected files from the index use <code class="docutils literal notranslate"><span class="pre">git</span> <span class="pre">reset</span> <span class="pre">HEAD</span>
<span class="pre">--</span> <span class="pre">$FILE...</span></code> To add/inspect/remove collected hunks use <code class="docutils literal notranslate"><span class="pre">git</span> <span class="pre">add</span>
<span class="pre">--interactive</span></code> (<code class="docutils literal notranslate"><span class="pre">-i</span></code>).</p>
<p>To see the diff between the index and the last commit (i.e., collected
patches) use <code class="docutils literal notranslate"><span class="pre">git</span> <span class="pre">diff</span> <span class="pre">--cached</span></code>. To see the diff between the
working tree and the index (i.e., uncollected patches) use just <code class="docutils literal notranslate"><span class="pre">git</span>
<span class="pre">diff</span></code>. To see the diff between the working tree and the last commit
(i.e., both collected and uncollected patches) run <code class="docutils literal notranslate"><span class="pre">git</span> <span class="pre">diff</span> <span class="pre">HEAD</span></code>.</p>
<p>See <a class="reference external" href="https://git.wiki.kernel.org/index.php/WhatIsTheIndex">WhatIsTheIndex</a> and
<a class="reference external" href="https://git.wiki.kernel.org/index.php/IndexCommandQuickref">IndexCommandQuickref</a> in Git
Wiki.</p>
</section>
<section id="root">
<h3><a class="toc-backref" href="#root" role="doc-backlink">Root</a></h3>
<p>Git switches to the root (top-level directory of the project where
<code class="docutils literal notranslate"><span class="pre">.git</span></code> subdirectory exists) before running any command. Git
remembers though the directory that was current before the switch.
Some programs take into account the current directory. E.g., <code class="docutils literal notranslate"><span class="pre">git</span>
<span class="pre">status</span></code> shows file paths of changed and unknown files relative to the
current directory; <code class="docutils literal notranslate"><span class="pre">git</span> <span class="pre">grep</span></code> searches below the current directory;
<code class="docutils literal notranslate"><span class="pre">git</span> <span class="pre">apply</span></code> applies only those hunks from the patch that touch files
below the current directory.</p>
<p>But most commands run from the root and ignore the current directory.
Imagine, for example, that you have two work trees, one for the branch
<code class="docutils literal notranslate"><span class="pre">v1</span></code> and the other for <code class="docutils literal notranslate"><span class="pre">master</span></code>. If you want to merge <code class="docutils literal notranslate"><span class="pre">v1</span></code> from
a subdirectory inside the second work tree you must write commands as
if you’re in the top-level dir. Let take two work trees,
<code class="docutils literal notranslate"><span class="pre">project-v1</span></code> and <code class="docutils literal notranslate"><span class="pre">project</span></code>, for example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>$ cd project/subdirectory
$ git fetch ../project-v1 v1:v1
$ git merge v1
</pre></div>
</div>
<p>Please note the path in <code class="docutils literal notranslate"><span class="pre">git</span> <span class="pre">fetch</span> <span class="pre">../project-v1</span> <span class="pre">v1:v1</span></code> is
<code class="docutils literal notranslate"><span class="pre">../project-v1</span></code> and not <code class="docutils literal notranslate"><span class="pre">../../project-v1</span></code> despite the fact that
we run the commands from a subdirectory, not from the root.</p>
</section>
<section id="rerere">
<h3><a class="toc-backref" href="#rerere" role="doc-backlink">ReReRe</a></h3>
<p>Rerere is a mechanism that helps to resolve repeated merge conflicts.
The most frequent source of recurring merge conflicts are topic
branches that are merged into mainline and then the merge commits are
removed; that’s often performed to test the topic branches and train
rerere; merge commits are removed to have clean linear history and
finish the topic branch with only one last merge commit.</p>
<p>Rerere works by remembering the states of tree before and after a
successful commit. That way rerere can automatically resolve conflicts
if they appear in the same files.</p>
<p>Rerere can be used manually with <code class="docutils literal notranslate"><span class="pre">git</span> <span class="pre">rerere</span></code> command but most often
it’s used automatically. Enable rerere with these commands in a
working tree:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>$ git config rerere.enabled true
$ git config rerere.autoupdate true
</pre></div>
</div>
<p>You don’t need to turn rerere on globally - you don’t want rerere in
bare repositories or single-branch repositories; you only need rerere
in repos where you often perform merges and resolve merge conflicts.</p>
<p>See <a class="reference external" href="https://git-scm.com/book/en/Git-Tools-Rerere">Rerere</a> in The
Book.</p>
</section>
<section id="database-maintenance">
<h3><a class="toc-backref" href="#database-maintenance" role="doc-backlink">Database maintenance</a></h3>
<p>Git object database and other files/directories under <code class="docutils literal notranslate"><span class="pre">.git</span></code> require
periodic maintenance and cleanup. For example, commit editing left
unreferenced objects (dangling objects, in git terminology) and these
objects should be pruned to avoid collecting cruft in the DB. The
command <code class="docutils literal notranslate"><span class="pre">git</span> <span class="pre">gc</span></code> is used for maintenance. Git automatically runs
<code class="docutils literal notranslate"><span class="pre">git</span> <span class="pre">gc</span> <span class="pre">--auto</span></code> as a part of some commands to do quick maintenance.
Users are recommended to run <code class="docutils literal notranslate"><span class="pre">git</span> <span class="pre">gc</span> <span class="pre">--aggressive</span></code> from time to
time; <code class="docutils literal notranslate"><span class="pre">git</span> <span class="pre">help</span> <span class="pre">gc</span></code> recommends to run it  every few hundred
changesets; for more intensive projects it should be something like
once a week and less frequently (biweekly or monthly) for lesser
active projects.</p>
<p><code class="docutils literal notranslate"><span class="pre">git</span> <span class="pre">gc</span> <span class="pre">--aggressive</span></code> not only removes dangling objects, it also
repacks object database into indexed and better optimized pack(s); it
also packs symbolic references (branches and tags). Another way to do
it is to run <code class="docutils literal notranslate"><span class="pre">git</span> <span class="pre">repack</span></code>.</p>
<p>There is a well-known <a class="reference external" href="https://gcc.gnu.org/ml/gcc/2007-12/msg00165.html">message</a> from Linus
Torvalds regarding “stupidity” of <code class="docutils literal notranslate"><span class="pre">git</span> <span class="pre">gc</span> <span class="pre">--aggressive</span></code>. The message
can safely be ignored now. It is old and outdated, <code class="docutils literal notranslate"><span class="pre">git</span> <span class="pre">gc</span>
<span class="pre">--aggressive</span></code> became much better since that time.</p>
<p>For those who still prefer <code class="docutils literal notranslate"><span class="pre">git</span> <span class="pre">repack</span></code> over <code class="docutils literal notranslate"><span class="pre">git</span> <span class="pre">gc</span> <span class="pre">--aggressive</span></code>
the recommended parameters are <code class="docutils literal notranslate"><span class="pre">git</span> <span class="pre">repack</span> <span class="pre">-a</span> <span class="pre">-d</span> <span class="pre">-f</span> <span class="pre">--depth=20</span>
<span class="pre">--window=250</span></code>. See <a class="reference external" href="http://vcscompare.blogspot.ru/2008/06/git-repack-parameters.html">this detailed experiment</a>
for explanation of the effects of these parameters.</p>
<p>From time to time run <code class="docutils literal notranslate"><span class="pre">git</span> <span class="pre">fsck</span> <span class="pre">[--strict]</span></code> to verify integrity of
the database. <code class="docutils literal notranslate"><span class="pre">git</span> <span class="pre">fsck</span></code> may produce a list of dangling objects;
that’s not an error, just a reminder to perform regular maintenance.</p>
</section>
</section>
<section id="tips-and-tricks">
<h2><a class="toc-backref" href="#tips-and-tricks" role="doc-backlink">Tips and tricks</a></h2>
<section id="command-line-options-and-arguments">
<h3><a class="toc-backref" href="#command-line-options-and-arguments" role="doc-backlink">Command-line options and arguments</a></h3>
<p><a class="reference external" href="https://www.kernel.org/pub/software/scm/git/docs/gitcli.html">git help cli</a>
recommends not to combine short options/flags. Most of the times
combining works: <code class="docutils literal notranslate"><span class="pre">git</span> <span class="pre">commit</span> <span class="pre">-av</span></code> works perfectly, but there are
situations when it doesn’t. E.g., <code class="docutils literal notranslate"><span class="pre">git</span> <span class="pre">log</span> <span class="pre">-p</span> <span class="pre">-5</span></code> cannot be combined
as <code class="docutils literal notranslate"><span class="pre">git</span> <span class="pre">log</span> <span class="pre">-p5</span></code>.</p>
<p>Some options have arguments, some even have default arguments. In that
case the argument for such option must be spelled in a sticky way:
<code class="docutils literal notranslate"><span class="pre">-Oarg</span></code>, never <code class="docutils literal notranslate"><span class="pre">-O</span> <span class="pre">arg</span></code> because for an option that has a default
argument the latter means “use default value for option <code class="docutils literal notranslate"><span class="pre">-O</span></code> and
pass <code class="docutils literal notranslate"><span class="pre">arg</span></code> further to the option parser”. For example, <code class="docutils literal notranslate"><span class="pre">git</span> <span class="pre">grep</span></code>
has an option <code class="docutils literal notranslate"><span class="pre">-O</span></code> that passes a list of names of the found files to
a program; default program for <code class="docutils literal notranslate"><span class="pre">-O</span></code> is a pager (usually <code class="docutils literal notranslate"><span class="pre">less</span></code>),
but you can use your editor:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>$ git grep -Ovim  # but not -O vim
</pre></div>
</div>
<p>BTW, if git is instructed to use <code class="docutils literal notranslate"><span class="pre">less</span></code> as the pager (i.e., if pager
is not configured in git at all it uses <code class="docutils literal notranslate"><span class="pre">less</span></code> by default, or if it
gets <code class="docutils literal notranslate"><span class="pre">less</span></code> from GIT_PAGER or PAGER environment variables, or if it
was configured with <code class="docutils literal notranslate"><span class="pre">git</span> <span class="pre">config</span> <span class="pre">[--global]</span> <span class="pre">core.pager</span> <span class="pre">less</span></code>, or
<code class="docutils literal notranslate"><span class="pre">less</span></code> is used in the command <code class="docutils literal notranslate"><span class="pre">git</span> <span class="pre">grep</span> <span class="pre">-Oless</span></code>) <code class="docutils literal notranslate"><span class="pre">git</span> <span class="pre">grep</span></code>
passes <code class="docutils literal notranslate"><span class="pre">+/$pattern</span></code> option to <code class="docutils literal notranslate"><span class="pre">less</span></code> which is quite convenient.
Unfortunately, <code class="docutils literal notranslate"><span class="pre">git</span> <span class="pre">grep</span></code> doesn’t pass the pattern if the pager is
not exactly <code class="docutils literal notranslate"><span class="pre">less</span></code>, even if it’s <code class="docutils literal notranslate"><span class="pre">less</span></code> with parameters (something
like <code class="docutils literal notranslate"><span class="pre">git</span> <span class="pre">config</span> <span class="pre">[--global]</span> <span class="pre">core.pager</span> <span class="pre">less</span> <span class="pre">-FRSXgimq</span></code>); fortunately,
<code class="docutils literal notranslate"><span class="pre">git</span> <span class="pre">grep</span> <span class="pre">-Oless</span></code> always passes the pattern.</p>
</section>
<section id="bash-zsh-completion">
<h3><a class="toc-backref" href="#bash-zsh-completion" role="doc-backlink">bash/zsh completion</a></h3>
<p>It’s a bit hard to type <code class="docutils literal notranslate"><span class="pre">git</span> <span class="pre">rebase</span> <span class="pre">--interactive</span> <span class="pre">--preserve-merges</span>
<span class="pre">HEAD~5</span></code> manually even for those who are happy to use command-line,
and this is where shell completion is of great help. Bash/zsh come
with programmable completion, often automatically installed and
enabled, so if you have bash/zsh and git installed, chances are you
are already done - just go and use it at the command-line.</p>
<p>If you don’t have necessary bits installed, install and enable
bash_completion package. If you want to upgrade your git completion to
the latest and greatest download necessary file from <a class="reference external" href="https://git.kernel.org/cgit/git/git.git/tree/contrib/completion">git contrib</a>.</p>
<p>Git-for-windows comes with git-bash for which bash completion is
installed and enabled.</p>
</section>
<section id="bash-zsh-prompt">
<h3><a class="toc-backref" href="#bash-zsh-prompt" role="doc-backlink">bash/zsh prompt</a></h3>
<p>For command-line lovers shell prompt can carry a lot of useful
information. To include git information in the prompt use
<a class="reference external" href="https://git.kernel.org/cgit/git/git.git/tree/contrib/completion/git-prompt.sh">git-prompt.sh</a>.
Read the detailed instructions in the file.</p>
<p>Search the Net for “git prompt” to find other prompt variants.</p>
</section>
<section id="ssh-connection-sharing">
<h3><a class="toc-backref" href="#ssh-connection-sharing" role="doc-backlink">SSH connection sharing</a></h3>
<p>SSH connection sharing is a feature of OpenSSH and perhaps derivatives
like PuTTY. SSH connection sharing is a way to decrease ssh client
startup time by establishing one connection and reusing it for all
subsequent clients connecting to the same server. SSH connection
sharing can be used to speedup a lot of short ssh sessions like scp,
sftp, rsync and of course git over ssh. If you regularly
fetch/pull/push from/to remote repositories accessible over ssh then
using ssh connection sharing is recommended.</p>
<p>To turn on ssh connection sharing add something like this to your
~/.ssh/config:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">Host</span> <span class="o">*</span>
<span class="n">ControlMaster</span> <span class="n">auto</span>
<span class="n">ControlPath</span> <span class="o">~/.</span><span class="n">ssh</span><span class="o">/</span><span class="n">mux</span><span class="o">-%</span><span class="n">r</span><span class="o">@%</span><span class="n">h</span><span class="p">:</span><span class="o">%</span><span class="n">p</span>
<span class="n">ControlPersist</span> <span class="mi">600</span>
</pre></div>
</div>
<p>See <a class="reference external" href="https://en.wikibooks.org/wiki/OpenSSH/Cookbook/Multiplexing">OpenSSH wikibook</a> and
<a class="reference external" href="https://www.google.com/search?q=ssh+connection+sharing">search</a> for
more information.</p>
<p>SSH connection sharing can be used at GitHub, GitLab and SourceForge
repositories, but please be advised that BitBucket doesn’t allow it
and forcibly closes master connection after a short inactivity period
so you will see errors like this from ssh: “Connection to bitbucket.org
closed by remote host.”</p>
</section>
</section>
<section id="git-on-server">
<h2><a class="toc-backref" href="#git-on-server" role="doc-backlink">git on server</a></h2>
<p>The simplest way to publish a repository or a group of repositories is
<code class="docutils literal notranslate"><span class="pre">git</span> <span class="pre">daemon</span></code>. The daemon provides anonymous access, by default it is
read-only. The repositories are accessible by git protocol (git://
URLs). Write access can be enabled but the protocol lacks any
authentication means, so it should be enabled only within a trusted
LAN. See <code class="docutils literal notranslate"><span class="pre">git</span> <span class="pre">help</span> <span class="pre">daemon</span></code> for details.</p>
<p>Git over ssh provides authentication and repo-level authorisation as
repositories can be made user- or group-writeable (see parameter
<code class="docutils literal notranslate"><span class="pre">core.sharedRepository</span></code> in <code class="docutils literal notranslate"><span class="pre">git</span> <span class="pre">help</span> <span class="pre">config</span></code>). If that’s too
permissive or too restrictive for some project’s needs there is a
wrapper <a class="reference external" href="http://gitolite.com/gitolite/index.html">gitolite</a> that can
be configured to allow access with great granularity; gitolite is
written in Perl and has a lot of documentation.</p>
<p>Web interface to browse repositories can be created using <a class="reference external" href="https://git.kernel.org/cgit/git/git.git/tree/gitweb">gitweb</a> or <a class="reference external" href="http://git.zx2c4.com/cgit/about/">cgit</a>. Both are CGI scripts (written in
Perl and C). In addition to web interface both provide read-only dumb
http access for git (http(s):// URLs). <a class="reference external" href="https://pypi.python.org/pypi/klaus">Klaus</a> is a small and simple WSGI web
server that implements both web interface and git smart HTTP
transport; supports Python 2 and Python 3, performs syntax
highlighting.</p>
<p>There are also more advanced web-based development environments that
include ability to manage users, groups and projects; private,
group-accessible and public repositories; they often include issue
trackers, wiki pages, pull requests and other tools for development
and communication. Among these environments are <a class="reference external" href="https://kallithea-scm.org/">Kallithea</a> and <a class="reference external" href="https://pagure.io/">pagure</a>,
both are written in Python; pagure was written by Fedora developers
and is being used to develop some Fedora projects. <a class="reference external" href="http://gitprep.yukikimoto.com/">GitPrep</a> is yet another GitHub clone,
written in Perl. <a class="reference external" href="https://gogs.io/">Gogs</a> is written in Go.
<a class="reference external" href="https://gitbucket.github.io/gitbucket-news/about/">GitBucket</a> is
written in Scala.</p>
<p>And last but not least, <a class="reference external" href="https://about.gitlab.com/">GitLab</a>. It’s
perhaps the most advanced web-based development environment for git.
Written in Ruby, community edition is free and open source (MIT
license).</p>
</section>
<section id="from-mercurial-to-git">
<h2><a class="toc-backref" href="#from-mercurial-to-git" role="doc-backlink">From Mercurial to git</a></h2>
<p>There are many tools to convert Mercurial repositories to git. The
most famous are, probably, <a class="reference external" href="https://hg-git.github.io/">hg-git</a> and
<a class="reference external" href="http://repo.or.cz/w/fast-export.git">fast-export</a> (many years ago
it was known under the name <code class="docutils literal notranslate"><span class="pre">hg2git</span></code>).</p>
<p>But a better tool, perhaps the best, is <a class="reference external" href="https://github.com/felipec/git-remote-hg">git-remote-hg</a>. It provides transparent
bidirectional (pull and push) access to Mercurial repositories from
git. Its author wrote a <a class="reference external" href="https://github.com/felipec/git/wiki/Comparison-of-git-remote-hg-alternatives">comparison of alternatives</a>
that seems to be mostly objective.</p>
<p>To use git-remote-hg, install or clone it, add to your PATH (or copy
script <code class="docutils literal notranslate"><span class="pre">git-remote-hg</span></code> to a directory that’s already in PATH) and
prepend <code class="docutils literal notranslate"><span class="pre">hg::</span></code> to Mercurial URLs. For example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>$ git clone https://github.com/felipec/git-remote-hg.git
$ PATH=$PATH:&quot;`pwd`&quot;/git-remote-hg
$ git clone hg::https://hg.python.org/peps/ PEPs
</pre></div>
</div>
<p>To work with the repository just use regular git commands including
<code class="docutils literal notranslate"><span class="pre">git</span> <span class="pre">fetch/pull/push</span></code>.</p>
<p>To start converting your Mercurial habits to git see the page
<a class="reference external" href="https://www.mercurial-scm.org/wiki/GitConcepts">Mercurial for Git users</a> at Mercurial wiki.
At the second half of the page there is a table that lists
corresponding Mercurial and git commands. Should work perfectly in
both directions.</p>
<p>Python Developer’s Guide also has a chapter <a class="reference external" href="https://docs.python.org/devguide/gitdevs.html">Mercurial for git
developers</a> that
documents a few differences between git and hg.</p>
</section>
<section id="git-and-github">
<h2><a class="toc-backref" href="#git-and-github" role="doc-backlink">Git and GitHub</a></h2>
<p><a class="reference external" href="https://github.com/donnemartin/gitsome">gitsome</a> - Git/GitHub
command line interface (CLI). Written in Python, work on MacOS, Unix,
Windows. Git/GitHub CLI with autocomplete, includes many GitHub
integrated commands that work with all shells, builtin xonsh with
Python REPL to run Python commands alongside shell commands, command
history, customizable highlighting, thoroughly documented.</p>
</section>
<section id="copyright">
<h2><a class="toc-backref" href="#copyright" role="doc-backlink">Copyright</a></h2>
<p>This document has been placed in the public domain.</p>
</section>
</section>
<hr class="docutils" />
<p>Source: <a class="reference external" href="https://github.com/python/peps/blob/main/peps/pep-0103.rst">https://github.com/python/peps/blob/main/peps/pep-0103.rst</a></p>
<p>Last modified: <a class="reference external" href="https://github.com/python/peps/commits/main/peps/pep-0103.rst">2024-04-14 20:08:31 GMT</a></p>

        </article>
        <nav id="pep-sidebar">
            <div id="search"></div>
            <h2>Contents</h2>
            <ul>
<li><a class="reference internal" href="#abstract">Abstract</a></li>
<li><a class="reference internal" href="#documentation">Documentation</a><ul>
<li><a class="reference internal" href="#documentation-for-starters">Documentation for starters</a></li>
<li><a class="reference internal" href="#advanced-documentation">Advanced documentation</a></li>
<li><a class="reference internal" href="#offline-documentation">Offline documentation</a></li>
</ul>
</li>
<li><a class="reference internal" href="#quick-start">Quick start</a><ul>
<li><a class="reference internal" href="#download-and-installation">Download and installation</a></li>
<li><a class="reference internal" href="#initial-configuration">Initial configuration</a></li>
</ul>
</li>
<li><a class="reference internal" href="#examples-in-this-pep">Examples in this PEP</a></li>
<li><a class="reference internal" href="#branches-and-branches">Branches and branches</a></li>
<li><a class="reference internal" href="#remote-repositories-and-remote-branches">Remote repositories and remote branches</a><ul>
<li><a class="reference internal" href="#updating-local-and-remote-tracking-branches">Updating local and remote-tracking branches</a><ul>
<li><a class="reference internal" href="#fetch-and-pull">Fetch and pull</a></li>
<li><a class="reference internal" href="#push">Push</a></li>
<li><a class="reference internal" href="#tags">Tags</a></li>
<li><a class="reference internal" href="#private-information">Private information</a></li>
</ul>
</li>
</ul>
</li>
<li><a class="reference internal" href="#commit-editing-and-caveats">Commit editing and caveats</a></li>
<li><a class="reference internal" href="#undo">Undo</a><ul>
<li><a class="reference internal" href="#git-checkout-restore-file-s-content">git checkout: restore file’s content</a></li>
<li><a class="reference internal" href="#git-reset-remove-non-pushed-commits">git reset: remove (non-pushed) commits</a><ul>
<li><a class="reference internal" href="#unstaging">Unstaging</a></li>
</ul>
</li>
<li><a class="reference internal" href="#git-reflog-reference-log">git reflog: reference log</a></li>
<li><a class="reference internal" href="#git-revert-revert-a-commit">git revert: revert a commit</a></li>
<li><a class="reference internal" href="#one-thing-that-cannot-be-undone">One thing that cannot be undone</a></li>
</ul>
</li>
<li><a class="reference internal" href="#merge-or-rebase">Merge or rebase?</a></li>
<li><a class="reference internal" href="#null-merges">Null-merges</a></li>
<li><a class="reference internal" href="#branching-models">Branching models</a></li>
<li><a class="reference internal" href="#advanced-configuration">Advanced configuration</a><ul>
<li><a class="reference internal" href="#line-endings">Line endings</a></li>
<li><a class="reference internal" href="#useful-assets">Useful assets</a></li>
</ul>
</li>
<li><a class="reference internal" href="#advanced-topics">Advanced topics</a><ul>
<li><a class="reference internal" href="#staging-area">Staging area</a></li>
<li><a class="reference internal" href="#root">Root</a></li>
<li><a class="reference internal" href="#rerere">ReReRe</a></li>
<li><a class="reference internal" href="#database-maintenance">Database maintenance</a></li>
</ul>
</li>
<li><a class="reference internal" href="#tips-and-tricks">Tips and tricks</a><ul>
<li><a class="reference internal" href="#command-line-options-and-arguments">Command-line options and arguments</a></li>
<li><a class="reference internal" href="#bash-zsh-completion">bash/zsh completion</a></li>
<li><a class="reference internal" href="#bash-zsh-prompt">bash/zsh prompt</a></li>
<li><a class="reference internal" href="#ssh-connection-sharing">SSH connection sharing</a></li>
</ul>
</li>
<li><a class="reference internal" href="#git-on-server">git on server</a></li>
<li><a class="reference internal" href="#from-mercurial-to-git">From Mercurial to git</a></li>
<li><a class="reference internal" href="#git-and-github">Git and GitHub</a></li>
<li><a class="reference internal" href="#copyright">Copyright</a></li>
</ul>

            <br>
            <a id="source" href="https://github.com/python/peps/blob/main/peps/pep-0103.rst?plain=1">Page Source (GitHub)</a>
        </nav>
    </section>
    <script src="../_static/colour_scheme.js"></script>
    <script src="../_static/wrap_tables.js"></script>
    <script src="../_static/sticky_banner.js"></script>
    <script src="https://analytics.python.org/js/script.outbound-links.js"
            data-domain="peps.python.org" defer></script>
    <script src="/pagefind/pagefind-ui.js"></script>
    <script>
        window.addEventListener('DOMContentLoaded', (event) => {
            // Ranking configuration to boost exact title matches
            const searchOptions = {
                ranking: {
                    termSimilarity: 9.0, // Higher values favor exact matches
                    termFrequency: 0.5, // Lower values reduce penalty for low term frequency
                    pageLength: 0.2, // Lower values reduce the impact of page length
                }
            };

            // Initialize pagefind for either mobile or desktop, not both
            if (window.innerWidth <= 640) {
                new PagefindUI({ element: "#mobile-search", ...searchOptions, showSubResults: false });
            } else {
                new PagefindUI({ element: "#search", ...searchOptions, showSubResults: true });
            }
        });
    </script>
</body>
</html>