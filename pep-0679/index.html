
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="color-scheme" content="light dark">
    <title>PEP 679 – New assert statement syntax with parentheses | peps.python.org</title>
    <link rel="shortcut icon" href="../_static/py.png">
    <link rel="canonical" href="https://peps.python.org/pep-0679/">
    <link rel="stylesheet" href="../_static/style.css" type="text/css">
    <link rel="stylesheet" href="../_static/mq.css" type="text/css">
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" media="(prefers-color-scheme: light)" id="pyg-light">
    <link rel="stylesheet" href="../_static/pygments_dark.css" type="text/css" media="(prefers-color-scheme: dark)" id="pyg-dark">
    <link rel="alternate" type="application/rss+xml" title="Latest PEPs" href="https://peps.python.org/peps.rss">
    <meta property="og:title" content='PEP 679 – New assert statement syntax with parentheses | peps.python.org'>
    <meta property="og:description" content="This PEP proposes allowing parentheses in the two-argument form of assert. The interpreter will reinterpret assert (expr, msg) as assert expr, msg, eliminating the common pitfall where such code was previously treated as asserting a two-element tuple, w...">
    <meta property="og:type" content="website">
    <meta property="og:url" content="https://peps.python.org/pep-0679/">
    <meta property="og:site_name" content="Python Enhancement Proposals (PEPs)">
    <meta property="og:image" content="https://peps.python.org/_static/og-image.png">
    <meta property="og:image:alt" content="Python PEPs">
    <meta property="og:image:width" content="200">
    <meta property="og:image:height" content="200">
    <meta name="description" content="This PEP proposes allowing parentheses in the two-argument form of assert. The interpreter will reinterpret assert (expr, msg) as assert expr, msg, eliminating the common pitfall where such code was previously treated as asserting a two-element tuple, w...">
    <meta name="theme-color" content="#3776ab">
</head>
<body>
    
<svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
  <symbol id="svg-sun-half" viewBox="0 0 24 24" pointer-events="all">
    <title>Following system colour scheme</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none"
         stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
      <circle cx="12" cy="12" r="9"></circle>
      <path d="M12 3v18m0-12l4.65-4.65M12 14.3l7.37-7.37M12 19.6l8.85-8.85"></path>
    </svg>
  </symbol>
  <symbol id="svg-moon" viewBox="0 0 24 24" pointer-events="all">
    <title>Selected dark colour scheme</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none"
         stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
      <path stroke="none" d="M0 0h24v24H0z" fill="none"></path>
      <path d="M12 3c.132 0 .263 0 .393 0a7.5 7.5 0 0 0 7.92 12.446a9 9 0 1 1 -8.313 -12.454z"></path>
    </svg>
  </symbol>
  <symbol id="svg-sun" viewBox="0 0 24 24" pointer-events="all">
    <title>Selected light colour scheme</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none"
         stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
      <circle cx="12" cy="12" r="5"></circle>
      <line x1="12" y1="1" x2="12" y2="3"></line>
      <line x1="12" y1="21" x2="12" y2="23"></line>
      <line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line>
      <line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line>
      <line x1="1" y1="12" x2="3" y2="12"></line>
      <line x1="21" y1="12" x2="23" y2="12"></line>
      <line x1="4.22" y1="19.78" x2="5.64" y2="18.36"></line>
      <line x1="18.36" y1="5.64" x2="19.78" y2="4.22"></line>
    </svg>
  </symbol>
</svg>
    <script>

        document.documentElement.dataset.colour_scheme = localStorage.getItem("colour_scheme") || "auto"
    </script>
    <section id="pep-page-section">
        <header>
            <h1 data-pagefind-ignore>Python Enhancement Proposals</h1>
            <ul class="breadcrumbs">
                <li><a href="https://www.python.org/" title="The Python Programming Language">Python</a> &raquo; </li>
                <li><a href="../pep-0000/">PEP Index</a> &raquo; </li>
                <li>PEP 679</li>
            </ul>
            <button id="colour-scheme-cycler" onClick="setColourScheme(nextColourScheme())">
                <svg aria-hidden="true" class="colour-scheme-icon-when-auto"><use href="#svg-sun-half"></use></svg>
                <svg aria-hidden="true" class="colour-scheme-icon-when-dark"><use href="#svg-moon"></use></svg>
                <svg aria-hidden="true" class="colour-scheme-icon-when-light"><use href="#svg-sun"></use></svg>
                <span class="visually-hidden">Toggle light / dark / auto colour theme</span>
            </button>
        </header>
        
        <div id="mobile-search" class="mobile-search-container"></div>
        
        <article data-pagefind-body>
            
            <span data-pagefind-meta="title:PEP 679 – New assert statement syntax with parentheses" data-pagefind-weight="10" class="visually-hidden">PEP 679 – New assert statement syntax with parentheses</span>
            <section id="pep-content">
<h1 class="page-title">PEP 679 – New assert statement syntax with parentheses</h1>
<dl class="rfc2822 field-list simple">
<dt class="field-odd">Author<span class="colon">:</span></dt>
<dd class="field-odd">Pablo Galindo Salgado &lt;pablogsal&#32;&#97;t&#32;python.org&gt;,
Stan Ulbrych &lt;stanulbrych&#32;&#97;t&#32;gmail.com&gt;</dd>
<dt class="field-even">Discussions-To<span class="colon">:</span></dt>
<dd class="field-even"><a class="reference external" href="https://discuss.python.org/t/pep-679-new-assert-statement-syntax-with-parentheses/103634">Discourse thread</a></dd>
<dt class="field-odd">Status<span class="colon">:</span></dt>
<dd class="field-odd"><abbr title="Formally declined and will not be accepted">Rejected</abbr></dd>
<dt class="field-even">Type<span class="colon">:</span></dt>
<dd class="field-even"><abbr title="Normative PEP with a new feature for Python, implementation change for CPython or interoperability standard for the ecosystem">Standards Track</abbr></dd>
<dt class="field-odd">Created<span class="colon">:</span></dt>
<dd class="field-odd">07-Jan-2022</dd>
<dt class="field-even">Python-Version<span class="colon">:</span></dt>
<dd class="field-even">3.15</dd>
<dt class="field-odd">Post-History<span class="colon">:</span></dt>
<dd class="field-odd"><a class="reference external" href="https://discuss.python.org/t/pep-679-new-assert-statement-syntax-with-parentheses/103634" title="Discourse thread">08-Sep-2025</a>,
<a class="reference external" href="https://discuss.python.org/t/pep-679-allow-parentheses-in-assert-statements/13003" title="Discourse thread">10-Jan-2022</a></dd>
<dt class="field-even">Resolution<span class="colon">:</span></dt>
<dd class="field-even"><a class="reference external" href="https://discuss.python.org/t/pep-679-new-assert-statement-syntax-with-parentheses/103634/24">24-Oct-2025</a></dd>
</dl>
<hr class="docutils" />
<section id="contents">
<details><summary>Table of Contents</summary><ul class="simple">
<li><a class="reference internal" href="#abstract">Abstract</a></li>
<li><a class="reference internal" href="#motivation">Motivation</a></li>
<li><a class="reference internal" href="#rationale">Rationale</a></li>
<li><a class="reference internal" href="#specification">Specification</a></li>
<li><a class="reference internal" href="#implementation-notes">Implementation Notes</a><ul>
<li><a class="reference internal" href="#implementing-in-the-parser">Implementing in the parser</a></li>
<li><a class="reference internal" href="#implementing-in-the-compiler">Implementing in the compiler</a></li>
</ul>
</li>
<li><a class="reference internal" href="#backwards-compatibility">Backwards Compatibility</a></li>
<li><a class="reference internal" href="#how-to-teach-this">How to Teach This</a></li>
<li><a class="reference internal" href="#reference-implementation">Reference Implementation</a></li>
<li><a class="reference internal" href="#rejected-ideas">Rejected Ideas</a><ul>
<li><a class="reference internal" href="#adding-a-syntax-with-a-keyword">Adding a syntax with a keyword</a></li>
</ul>
</li>
<li><a class="reference internal" href="#security-implications">Security Implications</a></li>
<li><a class="reference internal" href="#acknowledgements">Acknowledgements</a></li>
<li><a class="reference internal" href="#footnotes">Footnotes</a></li>
<li><a class="reference internal" href="#copyright">Copyright</a></li>
</ul>
</details></section>
<section id="abstract">
<h2><a class="toc-backref" href="#abstract" role="doc-backlink">Abstract</a></h2>
<p>This PEP proposes allowing parentheses in the two-argument form of <a class="reference external" href="https://docs.python.org/3/reference/simple_stmts.html#assert" title="(in Python v3.14)"><code class="xref std std-keyword docutils literal notranslate"><span class="pre">assert</span></code></a>.
The interpreter will reinterpret <code class="docutils literal notranslate"><span class="pre">assert</span> <span class="pre">(expr,</span> <span class="pre">msg)</span></code> as <code class="docutils literal notranslate"><span class="pre">assert</span> <span class="pre">expr,</span> <span class="pre">msg</span></code>,
eliminating the common pitfall where such code was previously treated as
asserting a two-element <a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#tuple" title="(in Python v3.14)"><code class="xref py py-class docutils literal notranslate"><span class="pre">tuple</span></code></a>, which is always truthy.</p>
</section>
<section id="motivation">
<h2><a class="toc-backref" href="#motivation" role="doc-backlink">Motivation</a></h2>
<p>It is a common user mistake when using the form of the <a class="reference external" href="https://docs.python.org/3/reference/simple_stmts.html#assert" title="(in Python v3.14)"><code class="xref std std-keyword docutils literal notranslate"><span class="pre">assert</span></code></a>
statement that includes the error message to surround it with parentheses <a class="footnote-reference brackets" href="#so1" id="id1">[1]</a> <a class="footnote-reference brackets" href="#rd" id="id2">[2]</a>.
This is because many beginners assume <code class="xref std std-keyword docutils literal notranslate"><span class="pre">assert</span></code> is a function.
The prominent <a class="reference external" href="https://docs.python.org/3/library/unittest.html#module-unittest" title="(in Python v3.14)"><code class="xref py py-mod docutils literal notranslate"><span class="pre">unittest</span></code></a> methods, particularly <a class="reference external" href="https://docs.python.org/3/library/unittest.html#unittest.TestCase.assertTrue" title="(in Python v3.14)"><code class="xref py py-meth docutils literal notranslate"><span class="pre">assertTrue()</span></code></a>,
also require parentheses around the assertion and message.</p>
<p>Unfortunately, this mistake passes undetected as the <code class="docutils literal notranslate"><span class="pre">assert</span></code> will always pass
<a class="footnote-reference brackets" href="#exception" id="id3">[6]</a>, because it is interpreted as an <code class="docutils literal notranslate"><span class="pre">assert</span></code> statement where the
expression is a two-tuple, which always has truth-y value.
The mistake also often occurs when extending the test or description beyond a
single line, as parentheses are a natural way to do that.</p>
<p>This is so common that a <a class="reference external" href="https://docs.python.org/3/library/exceptions.html#SyntaxWarning" title="(in Python v3.14)"><code class="xref py py-exc docutils literal notranslate"><span class="pre">SyntaxWarning</span></code></a> is <a class="reference external" href="https://github.com/python/cpython/issues/79210">emitted by the compiler</a> since 3.10 and several
code linters <a class="footnote-reference brackets" href="#fl8" id="id4">[3]</a> <a class="footnote-reference brackets" href="#pylint" id="id5">[4]</a>.</p>
<p>Additionally, some other statements in the language allow parenthesized forms
in one way or another, for example, <code class="docutils literal notranslate"><span class="pre">import</span></code> statements
(<code class="docutils literal notranslate"><span class="pre">from</span> <span class="pre">x</span> <span class="pre">import</span> <span class="pre">(a,b,c)</span></code>) or <code class="docutils literal notranslate"><span class="pre">del</span></code> statements (<code class="docutils literal notranslate"><span class="pre">del</span> <span class="pre">(a,b,c)</span></code>).</p>
<p>Allowing parentheses not only will remove the pitfall but also will allow
users and auto-formatters to format long assert statements over multiple lines
in what the authors of this document believe will be a more natural way.
Although it is possible to currently format long <a class="reference external" href="https://docs.python.org/3/reference/simple_stmts.html#assert" title="(in Python v3.14)"><code class="xref std std-keyword docutils literal notranslate"><span class="pre">assert</span></code></a> statements
over multiple lines with backslashes (as is recommended by
<a class="pep reference internal" href="../pep-0008/#maximum-line-length" title="PEP 8 – Style Guide for Python Code § Maximum Line Length">PEP 8</a>) or parentheses and a comma:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="k">assert</span> <span class="p">(</span>
  <span class="n">very</span> <span class="n">very</span> <span class="n">long</span>
  <span class="n">test</span>
<span class="p">),</span> <span class="p">(</span>
  <span class="s2">&quot;very very long &quot;</span>
  <span class="s2">&quot;error message&quot;</span>
<span class="p">)</span>
</pre></div>
</div>
<p>the authors of this document believe the proposed parenthesized form is more
clear and intuitive, along with being more consistent with the formatting of
other grammar constructs:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="k">assert</span> <span class="p">(</span>
  <span class="n">very</span> <span class="n">very</span> <span class="n">long</span>
  <span class="n">test</span><span class="p">,</span>

  <span class="s2">&quot;very very long &quot;</span>
  <span class="s2">&quot;message&quot;</span>
<span class="p">)</span>
</pre></div>
</div>
</section>
<section id="rationale">
<h2><a class="toc-backref" href="#rationale" role="doc-backlink">Rationale</a></h2>
<p>Due to backwards compatibility concerns (see section below), to inform users
of the new change of how what was previously a two element tuple is parsed,
a <a class="reference external" href="https://docs.python.org/3/library/exceptions.html#SyntaxWarning" title="(in Python v3.14)"><code class="xref py py-exc docutils literal notranslate"><span class="pre">SyntaxWarning</span></code></a> with a message like
<code class="docutils literal notranslate"><span class="pre">&quot;new</span> <span class="pre">assertion</span> <span class="pre">syntax,</span> <span class="pre">will</span> <span class="pre">assert</span> <span class="pre">first</span> <span class="pre">element</span> <span class="pre">of</span> <span class="pre">tuple&quot;</span></code>
will be raised till Python 3.17. For example, when using the new syntax:</p>
<div class="highlight-pycon notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="k">assert</span> <span class="p">(</span><span class="s1">&#39;Petr&#39;</span> <span class="o">==</span> <span class="s1">&#39;Pablo&#39;</span><span class="p">,</span> <span class="s2">&quot;That doesn&#39;t look right!&quot;</span><span class="p">)</span>
<span class="go">&lt;python-input-0&gt;:0: SyntaxWarning: new assertion syntax, will assert first element of tuple</span>
<span class="gt">Traceback (most recent call last):</span>
  File <span class="nb">&quot;&lt;python-input-0&gt;&quot;</span>, line <span class="m">1</span>, in <span class="n">&lt;module&gt;</span>
<span class="w">    </span><span class="k">assert</span> <span class="p">(</span><span class="s1">&#39;Petr&#39;</span> <span class="o">==</span> <span class="s1">&#39;Pablo&#39;</span><span class="p">,</span> <span class="s2">&quot;That doesn&#39;t look right!&quot;</span><span class="p">)</span>
<span class="w">            </span><span class="pm">^^^^^^^^^^^^^^^^^</span>
<span class="gr">AssertionError</span>: <span class="n">That doesn&#39;t look right!</span>
</pre></div>
</div>
<p>Note that improving syntax warnings in general
is out of the scope of this PEP.</p>
</section>
<section id="specification">
<h2><a class="toc-backref" href="#specification" role="doc-backlink">Specification</a></h2>
<p>The formal grammar of the <a class="reference external" href="https://docs.python.org/3/reference/simple_stmts.html#assert" title="(in Python v3.14)"><code class="xref std std-keyword docutils literal notranslate"><span class="pre">assert</span></code></a> statement will change to <a class="footnote-reference brackets" href="#edgecase" id="id6">[8]</a>:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">|</span> <span class="s1">&#39;assert&#39;</span> <span class="s1">&#39;(&#39;</span> <span class="n">expression</span> <span class="s1">&#39;,&#39;</span> <span class="n">expression</span> <span class="p">[</span><span class="s1">&#39;,&#39;</span><span class="p">]</span> <span class="s1">&#39;)&#39;</span> <span class="o">&amp;</span><span class="p">(</span><span class="n">NEWLINE</span> <span class="o">|</span> <span class="s1">&#39;;&#39;</span><span class="p">)</span>
<span class="o">|</span> <span class="s1">&#39;assert&#39;</span> <span class="n">a</span><span class="o">=</span><span class="n">expression</span> <span class="p">[</span><span class="s1">&#39;,&#39;</span> <span class="n">expression</span> <span class="p">]</span>
</pre></div>
</div>
<p>Where the first line is the new form of the assert statement that allows
parentheses and will raise a <a class="reference external" href="https://docs.python.org/3/library/exceptions.html#SyntaxWarning" title="(in Python v3.14)"><code class="xref py py-exc docutils literal notranslate"><span class="pre">SyntaxWarning</span></code></a> till 3.17.
The lookahead is needed to prevent the parser from eagerly capturing the
tuple as the full statement, so statements like <code class="docutils literal notranslate"><span class="pre">assert</span> <span class="pre">(a,</span> <span class="pre">b)</span> <span class="pre">&lt;=</span> <span class="pre">c,</span> <span class="pre">&quot;something&quot;</span></code>
are still parsed correctly.</p>
</section>
<section id="implementation-notes">
<h2><a class="toc-backref" href="#implementation-notes" role="doc-backlink">Implementation Notes</a></h2>
<p>This change can be implemented in the parser or in the compiler.
The specification that a <a class="reference external" href="https://docs.python.org/3/library/exceptions.html#SyntaxWarning" title="(in Python v3.14)"><code class="xref py py-exc docutils literal notranslate"><span class="pre">SyntaxWarning</span></code></a> be raised informing users
of the new syntax complicates the implementation, as warnings
should be raised during compilation.</p>
<p>The authors believe that an ideal implementation would be in the parser <a class="footnote-reference brackets" href="#edgecase" id="id7">[8]</a>,
resulting in <code class="docutils literal notranslate"><span class="pre">assert</span> <span class="pre">(x,y)</span></code> having the same AST as <code class="docutils literal notranslate"><span class="pre">assert</span> <span class="pre">x,y</span></code>.
This necessitates a two-step implementation plan, with a necessary temporary
compromise.</p>
<section id="implementing-in-the-parser">
<h3><a class="toc-backref" href="#implementing-in-the-parser" role="doc-backlink">Implementing in the parser</a></h3>
<p>It is not possible to have a pure parser implementation with the warning
specification.
(Note that, without the warning specification the pure parser implementation is
a small grammar change <a class="footnote-reference brackets" href="#previmp" id="id8">[5]</a>).
To raise the warning, the compiler must
be aware of the new syntax, this means that an optional flag would be necessary
as otherwise the information is lost during parsing.
As such, the AST of an <a class="reference external" href="https://docs.python.org/3/reference/simple_stmts.html#assert" title="(in Python v3.14)"><code class="xref std std-keyword docutils literal notranslate"><span class="pre">assert</span></code></a> with parentheses would look like so,
with a <code class="docutils literal notranslate"><span class="pre">paren_syntax=1</span></code> flag:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">ast</span><span class="o">.</span><span class="n">dump</span><span class="p">(</span><span class="n">ast</span><span class="o">.</span><span class="n">parse</span><span class="p">(</span><span class="s1">&#39;assert(True, &quot;Error message&quot;)&#39;</span><span class="p">),</span> <span class="n">indent</span><span class="o">=</span><span class="mi">4</span><span class="p">))</span>
<span class="go">Module(</span>
<span class="go">    body=[</span>
<span class="go">        Assert(</span>
<span class="go">            test=Constant(value=True),</span>
<span class="go">            msg=Constant(value=&#39;Error message&#39;),</span>
<span class="go">            paren_syntax=1)])</span>
</pre></div>
</div>
</section>
<section id="implementing-in-the-compiler">
<h3><a class="toc-backref" href="#implementing-in-the-compiler" role="doc-backlink">Implementing in the compiler</a></h3>
<p>The new syntax can be implemented in the compiler by special casing tuples
of length two. This however, will have the side-effect of not modifying the
AST whatsoever during the transition period while the <a class="reference external" href="https://docs.python.org/3/library/exceptions.html#SyntaxWarning" title="(in Python v3.14)"><code class="xref py py-exc docutils literal notranslate"><span class="pre">SyntaxWarning</span></code></a>
is being emitted.</p>
<p>Once the <a class="reference external" href="https://docs.python.org/3/library/exceptions.html#SyntaxWarning" title="(in Python v3.14)"><code class="xref py py-exc docutils literal notranslate"><span class="pre">SyntaxWarning</span></code></a> is removed, the implementation
can be moved to the parser level, where the parenthesized form would be
parsed directly into the same AST structure as <code class="docutils literal notranslate"><span class="pre">assert</span> <span class="pre">expression,</span> <span class="pre">message</span></code>.
This approach is more backwards-compatible, as the many tools that deal with
ASTs will have more time to adapt.</p>
</section>
</section>
<section id="backwards-compatibility">
<h2><a class="toc-backref" href="#backwards-compatibility" role="doc-backlink">Backwards Compatibility</a></h2>
<p>The change is not technically backwards compatible. Whether implemented initially
in the parser or the compiler, <code class="docutils literal notranslate"><span class="pre">assert</span> <span class="pre">(x,y)</span></code>,
which is currently interpreted as an assert statement with a 2-tuple as the
subject and is always truth-y, will be interpreted as <code class="docutils literal notranslate"><span class="pre">assert</span> <span class="pre">x,y</span></code>.</p>
<p>On the other hand, assert statements of this kind always pass, so they are
effectively not doing anything in user code. The authors of this document think
that this backwards incompatibility nature is beneficial, as it will highlight
these cases in user code while before they will have passed unnoticed. This case
has already raised a <a class="reference external" href="https://docs.python.org/3/library/exceptions.html#SyntaxWarning" title="(in Python v3.14)"><code class="xref py py-exc docutils literal notranslate"><span class="pre">SyntaxWarning</span></code></a> since Python 3.10, so there has been
a deprecation period of over 5 years.
The continued raising of a <code class="xref py py-exc docutils literal notranslate"><span class="pre">SyntaxWarning</span></code> should mitigate surprises.</p>
<p>The change will also result in changes to the AST of <code class="docutils literal notranslate"><span class="pre">assert</span> <span class="pre">(x,y)</span></code>,
which currently is:</p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>Module(
    body=[
        Assert(
            test=Tuple(
                elts=[
                    Name(id=&#39;x&#39;, ctx=Load()),
                    Name(id=&#39;y&#39;, ctx=Load())],
                ctx=Load()))],
    type_ignores=[])
</pre></div>
</div>
<p>the final implementation, in Python 3.18, will result in the following AST:</p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>Module(
    body=[
        Assert(
            test=Name(id=&#39;x&#39;, ctx=Load()),
            msg=Name(id=&#39;y&#39;, ctx=Load()))],
    type_ignores=[])
</pre></div>
</div>
<p>The problem with this is that the AST of the first form will
technically be “incorrect” as we already have a specialized form for the AST of
an assert statement with a test and a message (the second one).
Implementing initially in the compiler will delay this change, alleviating
backwards compatibility concerns, as tools will have more time to adjust.</p>
</section>
<section id="how-to-teach-this">
<h2><a class="toc-backref" href="#how-to-teach-this" role="doc-backlink">How to Teach This</a></h2>
<p>The new form of the <code class="docutils literal notranslate"><span class="pre">assert</span></code> statement will be documented as part of the language
standard.</p>
<p>When teaching the form with error message of the <code class="docutils literal notranslate"><span class="pre">assert</span></code> statement to users,
now it can be noted that adding parentheses also work as expected, which allows
to break the statement over multiple lines.</p>
</section>
<section id="reference-implementation">
<h2><a class="toc-backref" href="#reference-implementation" role="doc-backlink">Reference Implementation</a></h2>
<p>A reference implementation in the parser can be found in this
<a class="reference external" href="https://github.com/python/cpython/compare/main...StanFromIreland:assert-prototype?expand=1">branch</a>
and reference implementation in the compiler can be found in this
<a class="reference external" href="https://github.com/python/cpython/compare/main...StanFromIreland:assert-codegen?expand=1">branch</a>.</p>
</section>
<section id="rejected-ideas">
<h2><a class="toc-backref" href="#rejected-ideas" role="doc-backlink">Rejected Ideas</a></h2>
<section id="adding-a-syntax-with-a-keyword">
<h3><a class="toc-backref" href="#adding-a-syntax-with-a-keyword" role="doc-backlink">Adding a syntax with a keyword</a></h3>
<p>Everywhere else in Python syntax, the comma separates variable-length “lists”
of homogeneous elements, like the the items of a <a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#tuple" title="(in Python v3.14)"><code class="xref py py-class docutils literal notranslate"><span class="pre">tuple</span></code></a> or <a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.14)"><code class="xref py py-class docutils literal notranslate"><span class="pre">list</span></code></a>,
parameters/arguments of functions, or import targets.
After Python 3.0 introduced <a class="reference external" href="https://docs.python.org/3/reference/compound_stmts.html#except" title="(in Python v3.14)"><code class="xref std std-keyword docutils literal notranslate"><span class="pre">except...as</span></code></a>,
the <a class="reference external" href="https://docs.python.org/3/reference/simple_stmts.html#assert" title="(in Python v3.14)"><code class="xref std std-keyword docutils literal notranslate"><span class="pre">assert</span></code></a> statement remains as the only exception to this convention.</p>
<p>It’s possible that user confusion stems, at least partly, from an expectation
that comma-separated items are equivalent.
Enclosing an <code class="xref std std-keyword docutils literal notranslate"><span class="pre">assert</span></code> statement’s expression and message in
parentheses would visually bind them together even further.
Making <code class="docutils literal notranslate"><span class="pre">assert</span></code> look more similar to a function call encourages a wrong
mentality.</p>
<p>As a possible solution, it was proposed <a class="footnote-reference brackets" href="#assertwith" id="id9">[7]</a> to replace the comma with
a keyword, and the form would allow parentheses, for example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="k">assert</span> <span class="n">condition</span> <span class="k">else</span> <span class="s2">&quot;message&quot;</span>
<span class="k">assert</span> <span class="p">(</span><span class="n">condition</span> <span class="k">else</span> <span class="s2">&quot;message&quot;</span><span class="p">)</span>
</pre></div>
</div>
<p>The comma could then be slowly and carefully deprecated, starting with
the case where they appear in parentheses, which already raises a
<a class="reference external" href="https://docs.python.org/3/library/exceptions.html#SyntaxWarning" title="(in Python v3.14)"><code class="xref py py-exc docutils literal notranslate"><span class="pre">SyntaxWarning</span></code></a>.</p>
<p>The authors of this PEP believe that adding a completely new syntax will,
first and foremost, not solve the common beginner pitfall that this PEP aims to
patch, and will not improve the formatting of assert statements across multiple
lines, which the authors believe the proposed syntax improves.</p>
</section>
</section>
<section id="security-implications">
<h2><a class="toc-backref" href="#security-implications" role="doc-backlink">Security Implications</a></h2>
<p>There are no security implications for this change.</p>
</section>
<section id="acknowledgements">
<h2><a class="toc-backref" href="#acknowledgements" role="doc-backlink">Acknowledgements</a></h2>
<p>This change was originally discussed and proposed in <a class="extlink-cpython-issue reference external" href="https://github.com/python/cpython/issues/90325">python/cpython#90325</a>.</p>
<p>Many thanks to Petr Viktorin for his help during the drafting process of this PEP.</p>
</section>
<section id="footnotes">
<h2><a class="toc-backref" href="#footnotes" role="doc-backlink">Footnotes</a></h2>
<aside class="footnote-list brackets">
<aside class="footnote brackets" id="so1" role="doc-footnote">
<dt class="label" id="so1">[<a href="#id1">1</a>]</dt>
<dd><a class="reference external" href="https://stackoverflow.com/questions/3112171/assert-statement-with-or-without-parentheses">StackOverflow: “‘assert’ statement with or without parentheses”</a></aside>
<aside class="footnote brackets" id="rd" role="doc-footnote">
<dt class="label" id="rd">[<a href="#id2">2</a>]</dt>
<dd><a class="reference external" href="https://www.reddit.com/r/Python/comments/1n87g91/rant_use_that_second_expression_in_assert/">/r/python: “Rant: use that second expression in assert! “</a></aside>
<aside class="footnote brackets" id="fl8" role="doc-footnote">
<dt class="label" id="fl8">[<a href="#id4">3</a>]</dt>
<dd><a class="reference external" href="https://flake8.pycqa.org/en/latest/user/error-codes.html">flake8: Rule F631</a></aside>
<aside class="footnote brackets" id="pylint" role="doc-footnote">
<dt class="label" id="pylint">[<a href="#id5">4</a>]</dt>
<dd><a class="reference external" href="https://pylint.pycqa.org/en/latest/user_guide/checkers/features.html">pylint: assert-on-tuple (W0199)</a></aside>
<aside class="footnote brackets" id="previmp" role="doc-footnote">
<dt class="label" id="previmp">[<a href="#id8">5</a>]</dt>
<dd>For the previous parser implementation, see <a class="extlink-cpython-pr reference external" href="https://github.com/python/cpython/pull/30247">python/cpython#30247</a></aside>
<aside class="footnote brackets" id="exception" role="doc-footnote">
<dt class="label" id="exception">[<a href="#id3">6</a>]</dt>
<dd>During the updating of this PEP, an exception
(<code class="docutils literal notranslate"><span class="pre">assert</span> <span class="pre">(*(t</span> <span class="pre">:=</span> <span class="pre">()),)</span></code>) was found, contradicting the warning.</aside>
<aside class="footnote brackets" id="assertwith" role="doc-footnote">
<dt class="label" id="assertwith">[<a href="#id9">7</a>]</dt>
<dd><a class="reference external" href="https://discuss.python.org/t/pre-pep-assert-with-dedicated-syntax-for-assertion-messages/13247">[DPO] Pre-PEP: Assert-with: Dedicated syntax for assertion messages</a></aside>
<aside class="footnote brackets" id="edgecase" role="doc-footnote">
<dt class="label" id="edgecase">[8]<em> (<a href='#id6'>1</a>, <a href='#id7'>2</a>) </em></dt>
<dd>An edge case arises with constructs like:<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">x</span> <span class="o">=</span> <span class="p">(</span><span class="mi">0</span><span class="p">,)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">assert</span> <span class="p">(</span><span class="o">*</span><span class="n">x</span><span class="p">,</span> <span class="s2">&quot;edge cases aren&#39;t fun:-(&quot;</span><span class="p">)</span>
</pre></div>
</div>
<p>This form is currently parsed as a single tuple expression, not
as a condition/message pair, and will need explicit handling in
the compiler.</p>
</aside>
</aside>
</section>
<section id="copyright">
<h2><a class="toc-backref" href="#copyright" role="doc-backlink">Copyright</a></h2>
<p>This document is placed in the public domain or under the
CC0-1.0-Universal license, whichever is more permissive.</p>
</section>
</section>
<hr class="docutils" />
<p>Source: <a class="reference external" href="https://github.com/python/peps/blob/main/peps/pep-0679.rst">https://github.com/python/peps/blob/main/peps/pep-0679.rst</a></p>
<p>Last modified: <a class="reference external" href="https://github.com/python/peps/commits/main/peps/pep-0679.rst">2025-10-24 08:11:50 GMT</a></p>

        </article>
        <nav id="pep-sidebar">
            <div id="search"></div>
            <h2>Contents</h2>
            <ul>
<li><a class="reference internal" href="#abstract">Abstract</a></li>
<li><a class="reference internal" href="#motivation">Motivation</a></li>
<li><a class="reference internal" href="#rationale">Rationale</a></li>
<li><a class="reference internal" href="#specification">Specification</a></li>
<li><a class="reference internal" href="#implementation-notes">Implementation Notes</a><ul>
<li><a class="reference internal" href="#implementing-in-the-parser">Implementing in the parser</a></li>
<li><a class="reference internal" href="#implementing-in-the-compiler">Implementing in the compiler</a></li>
</ul>
</li>
<li><a class="reference internal" href="#backwards-compatibility">Backwards Compatibility</a></li>
<li><a class="reference internal" href="#how-to-teach-this">How to Teach This</a></li>
<li><a class="reference internal" href="#reference-implementation">Reference Implementation</a></li>
<li><a class="reference internal" href="#rejected-ideas">Rejected Ideas</a><ul>
<li><a class="reference internal" href="#adding-a-syntax-with-a-keyword">Adding a syntax with a keyword</a></li>
</ul>
</li>
<li><a class="reference internal" href="#security-implications">Security Implications</a></li>
<li><a class="reference internal" href="#acknowledgements">Acknowledgements</a></li>
<li><a class="reference internal" href="#footnotes">Footnotes</a></li>
<li><a class="reference internal" href="#copyright">Copyright</a></li>
</ul>

            <br>
            <a id="source" href="https://github.com/python/peps/blob/main/peps/pep-0679.rst?plain=1">Page Source (GitHub)</a>
        </nav>
    </section>
    <script src="../_static/colour_scheme.js"></script>
    <script src="../_static/wrap_tables.js"></script>
    <script src="../_static/sticky_banner.js"></script>
    <script src="https://analytics.python.org/js/script.outbound-links.js"
            data-domain="peps.python.org" defer></script>
    <script src="/pagefind/pagefind-ui.js"></script>
    <script>
        window.addEventListener('DOMContentLoaded', (event) => {
            // Ranking configuration to boost exact title matches
            const searchOptions = {
                ranking: {
                    termSimilarity: 9.0, // Higher values favor exact matches
                    termFrequency: 0.5, // Lower values reduce penalty for low term frequency
                    pageLength: 0.2, // Lower values reduce the impact of page length
                }
            };

            // Initialize pagefind for either mobile or desktop, not both
            if (window.innerWidth <= 640) {
                new PagefindUI({ element: "#mobile-search", ...searchOptions, showSubResults: false });
            } else {
                new PagefindUI({ element: "#search", ...searchOptions, showSubResults: true });
            }
        });
    </script>
</body>
</html>